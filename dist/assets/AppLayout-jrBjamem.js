var B=(_,c,l)=>new Promise((i,n)=>{var a=d=>{try{b(l.next(d))}catch(v){n(v)}},p=d=>{try{b(l.throw(d))}catch(v){n(v)}},b=d=>d.done?i(d.value):Promise.resolve(d.value).then(a,p);b((l=l.apply(_,c)).next())});import{z as D,r as S,c as $,h as m,b as x,i as e,l as f,u,I as h,p as P,t as y,M as R,y as C,B as T,o as F,k as M,F as A,C as z,n as w,L as N}from"./vue-vendor-Cs4IDGu-.js";import{u as V}from"./useAuth-C1_85XZE.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as q}from"./utils-nSMfNdYQ.js";const O="/favicon.svg",U={class:"glass-header backdrop-blur-xl bg-white/30 shadow-sm border-b border-white/20"},E={class:"flex items-center justify-between px-4 sm:px-6 lg:px-8 h-14"},H={class:"flex items-center space-x-4"},W={class:"flex items-center"},G={class:"relative"},J={class:"w-8 h-8 bg-gradient-to-br from-brand-purple to-brand-pink rounded-full flex items-center justify-center shadow-sm"},K={class:"text-sm font-medium text-white"},Q={class:"hidden md:block text-left"},X={class:"text-sm font-medium text-gray-800"},Y={class:"absolute right-0 mt-2 w-56 backdrop-blur-xl bg-white/30 rounded-lg shadow-lg border border-white/20 py-2 z-50 glass-dropdown"},Z={class:"px-4 py-3 border-b border-gray-200/30"},ee={class:"text-sm font-medium text-gray-900"},te={class:"text-xs text-gray-600 tracking-wide"},oe={__name:"AppHeader",emits:["toggle-sidebar"],setup(_,{emit:c}){const l=c,{user:i,logout:n}=V(),a=D(),p=S(!1),b=$(()=>{var o;if(!((o=i.value)!=null&&o.name))return"U";const g=i.value.name.split(" ");return g.length>1?`${g[0][0]}${g[g.length-1][0]}`:g[0][0]});function d(){p.value=!p.value}function v(){a.push("/profile"),p.value=!1}function I(){return B(this,null,function*(){yield n(),p.value=!1})}return(g,o)=>{var k,s,r;return x(),m("header",U,[e("div",E,[e("div",H,[e("button",{onClick:o[0]||(o[0]=t=>l("toggle-sidebar")),class:"lg:hidden p-2 rounded text-gray-600 hover:opacity-70 transition-opacity"},[f(u(h),{icon:"lucide:menu",class:"w-6 h-6"})]),o[1]||(o[1]=e("div",{class:"flex items-center space-x-3"},[e("img",{src:O,alt:"Lynt flow",class:"w-8 h-8 object-contain"}),e("span",{class:"hidden sm:block text-xl font-light text-gray-800 tracking-wide"},"Lynt Flow")],-1))]),e("div",W,[e("div",G,[e("button",{onClick:d,class:"flex items-center space-x-2 p-2 rounded hover:bg-white/40 hover:brightness-95 transition-all focus:outline-none focus:ring-2 focus:ring-brand-purple/30"},[e("div",J,[e("span",K,y(b.value),1)]),e("div",Q,[e("p",X,y(((k=u(i))==null?void 0:k.name)||"Usuário"),1)]),f(u(h),{icon:"lucide:chevron-down",class:"w-4 h-4 text-gray-600"})]),P(e("div",Y,[e("div",Z,[e("p",ee,y((s=u(i))==null?void 0:s.name),1),e("p",te,y((r=u(i))==null?void 0:r.email),1)]),e("button",{onClick:v,class:"flex items-center w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-white/40 hover:brightness-95 transition-all"},[f(u(h),{icon:"lucide:user",class:"w-4 h-4 mr-3 text-gray-500"}),o[2]||(o[2]=C(" Perfil ",-1))]),e("button",{onClick:I,class:"flex items-center w-full px-4 py-2.5 text-sm text-gray-700 hover:bg-white/40 hover:brightness-95 transition-all"},[f(u(h),{icon:"lucide:log-out",class:"w-4 h-4 mr-3 text-gray-500"}),o[3]||(o[3]=C(" Sair ",-1))])],512),[[R,p.value]])])])])])}}},se=L(oe,[["__scopeId","data-v-6aa4d9d3"]]),ne={class:"flex justify-end p-4 lg:hidden"},re={class:"flex flex-col h-full"},le={class:"flex-1 px-4 pb-4 space-y-8"},ie={class:"space-y-1"},ae=["onClick"],de={key:0,class:"space-y-1"},ue=["onClick"],ce={class:"space-y-1"},pe=["onClick"],me={__name:"AppSidebar",props:{open:Boolean},emits:["close"],setup(_,{emit:c}){const l=c,i=T(),n=D(),a=S("user");F(()=>{const s=localStorage.getItem("accessToken");if(s)try{const r=q(s);a.value=r.role||"user"}catch(r){a.value="user"}else a.value="user"});const p=[{name:"Painel",icon:"lucide:layout-dashboard",route:"/dashboard",section:"main"},{name:"Fluxos",icon:"lucide:workflow",route:"/flows",section:"main"},{name:"Execuções",icon:"lucide:play-circle",route:"/executions",section:"main"},{name:"Agendamentos",icon:"lucide:calendar-clock",route:"/schedules",section:"main"},{name:"Biblioteca Pública",icon:"lucide:globe",route:"/library",section:"main"},{name:"Perfil",icon:"lucide:user-circle",route:"/profile",section:"others"},{name:"Documentação",icon:"lucide:book-open",route:"/docs",section:"others"}],b=[{name:"Usuários",icon:"lucide:users",route:"/admin/users",requiredRole:"administrator"},{name:"Moderação",icon:"lucide:shield",route:"/admin/moderation",requiredRole:"moderator"}],d=$(()=>p.filter(s=>s.section==="main")),v=$(()=>p.filter(s=>s.section==="others")),I=$(()=>a.value==="administrator"?b:a.value==="moderator"?b.filter(s=>s.requiredRole==="moderator"):[]),g=$(()=>a.value==="administrator"||a.value==="moderator");function o(s){return i.path===s||i.path.startsWith(s+"/")}function k(s){n.push(s),l("close")}return(s,r)=>(x(),m(A,null,[P(e("div",{class:"fixed inset-0 bg-gray-900/50 lg:hidden z-40",onClick:r[0]||(r[0]=t=>l("close"))},null,512),[[R,_.open]]),e("div",{class:w(["glass-sidebar fixed top-20 bottom-4 left-4 w-64 backdrop-blur-xl bg-white/30 border border-white/20 rounded-lg shadow-lg z-30 transition-transform duration-300 ease-in-out","lg:translate-x-0",_.open?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[e("div",ne,[e("button",{onClick:r[1]||(r[1]=t=>l("close")),class:"p-2 rounded text-gray-600 hover:opacity-70 transition-opacity"},[f(u(h),{icon:"lucide:x",class:"w-5 h-5"})])]),e("div",re,[e("nav",le,[e("div",ie,[r[2]||(r[2]=e("div",{class:"text-xs font-medium text-gray-600 uppercase tracking-wider px-3 py-2 mb-2"}," Menu ",-1)),(x(!0),m(A,null,z(d.value,t=>(x(),m("div",{key:t.name},[e("button",{onClick:j=>k(t.route),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded transition-all",o(t.route)?"bg-brand-purple/10 text-brand-purple border-r-2 border-brand-purple":"text-gray-700 hover:bg-white/40 hover:brightness-95"])},[f(u(h),{icon:t.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-colors",o(t.route)?"text-brand-purple":"text-gray-500"])},null,8,["icon","class"]),C(" "+y(t.name),1)],10,ae)]))),128))]),g.value?(x(),m("div",de,[r[3]||(r[3]=e("div",{class:"text-xs font-medium text-brand-pink uppercase tracking-wider px-3 py-2 mb-2"}," Admin ",-1)),(x(!0),m(A,null,z(I.value,t=>(x(),m("div",{key:t.name},[e("button",{onClick:j=>k(t.route),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded transition-all",o(t.route)?"bg-brand-pink/10 text-brand-pink border-r-2 border-brand-pink":"text-gray-700 hover:bg-white/40 hover:brightness-95"])},[f(u(h),{icon:t.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-colors",o(t.route)?"text-brand-pink":"text-gray-500"])},null,8,["icon","class"]),C(" "+y(t.name),1)],10,ue)]))),128))])):M("",!0),e("div",ce,[r[4]||(r[4]=e("div",{class:"text-xs font-medium text-gray-600 uppercase tracking-wider px-3 py-2 mb-2"}," Outros ",-1)),(x(!0),m(A,null,z(v.value,t=>(x(),m("div",{key:t.name},[e("button",{onClick:j=>k(t.route),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded transition-all",o(t.route)?"bg-brand-purple/10 text-brand-purple border-r-2 border-brand-purple":"text-gray-700 hover:bg-white/40 hover:brightness-95"])},[f(u(h),{icon:t.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-colors",o(t.route)?"text-brand-purple":"text-gray-500"])},null,8,["icon","class"]),C(" "+y(t.name),1)],10,pe)]))),128))])])])],2)],64))}},xe=L(me,[["__scopeId","data-v-82561bbe"]]),fe={class:"min-h-screen flex flex-col relative overflow-x-hidden"},be={class:"flex flex-1 pt-16 relative"},ge={class:"flex-1 px-4 sm:px-6 lg:px-8 py-8 lg:pl-80 lg:pr-8 relative z-10"},he={__name:"AppLayout",setup(_){const c=S(!1);function l(){c.value=!c.value}return(i,n)=>(x(),m("div",fe,[n[1]||(n[1]=e("div",{class:"fixed inset-0 bg-gradient-animated -z-10"},null,-1)),n[2]||(n[2]=e("div",{class:"fixed top-20 left-20 w-96 h-96 bg-gradient-to-br from-blue-200/40 to-purple-200/40 rounded-full blur-3xl animate-float-slow -z-10"},null,-1)),n[3]||(n[3]=e("div",{class:"fixed bottom-20 right-20 w-96 h-96 bg-gradient-to-br from-purple-200/40 to-pink-200/40 rounded-full blur-3xl animate-float-slow animation-delay-2000 -z-10"},null,-1)),n[4]||(n[4]=e("div",{class:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-indigo-200/30 to-blue-200/30 rounded-full blur-3xl animate-float-slow animation-delay-4000 -z-10"},null,-1)),f(se,{onToggleSidebar:l,class:"fixed top-0 left-0 right-0 z-40"}),e("div",be,[e("main",ge,[N(i.$slots,"default",{},void 0)]),f(xe,{open:c.value,onClose:n[0]||(n[0]=a=>c.value=!1)},null,8,["open"])])]))}},$e=L(he,[["__scopeId","data-v-0ddfa4a5"]]);export{$e as A};
