var F=(_,f,d)=>new Promise((s,r)=>{var a=l=>{try{c(d.next(l))}catch(b){r(b)}},x=l=>{try{c(d.throw(l))}catch(b){r(b)}},c=l=>l.done?s(l.value):Promise.resolve(l.value).then(a,x);c((d=d.apply(_,f)).next())});import{r as y,c as N,a as U,q as I,z as A,b as m,i as e,l as n,u as i,I as u,n as B,t as w,y as h,p as g,v as k,h as v,F as P,C as V,G as S,H as T,k as z,E}from"./vue-vendor-Cs4IDGu-.js";import{A as M}from"./AppLayout-jrBjamem.js";import{u as q}from"./useFlows-D_qEO5GI.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-C1_85XZE.js";import"./utils-nSMfNdYQ.js";const L={class:"flex items-center justify-between mb-8"},O={class:"flex items-center space-x-3"},R=["disabled"],j={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6 mb-6"},G={class:"text-lg font-semibold text-gray-900 mb-4 flex items-center tracking-wide"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},$=["value"],J={class:"mb-6"},Q={class:"mb-6"},W={class:"flex flex-wrap gap-2 mb-2"},X=["onClick"],Y={class:"flex gap-2"},Z={class:"border-t border-gray-200 pt-4"},ee={class:"space-y-3"},te={class:"flex items-center"},se={key:0,class:"ml-6 p-3 bg-yellow-50 rounded-lg"},oe={class:"text-sm text-yellow-800"},le={__name:"FlowCreateView",setup(_){const f=A(),{createFlow:d}=q(),s=y({name:"",description:"",category:"automation",tags:[],isPublic:!1,metadata:{requirements:[]}}),r=y(""),a=y(!1),x=[{value:"automation",label:"Automação",icon:"lucide:workflow"},{value:"data-processing",label:"Processamento de Dados",icon:"lucide:database"},{value:"api-integration",label:"Integração de API",icon:"lucide:link"},{value:"notification",label:"Notificação",icon:"lucide:bell"},{value:"transformation",label:"Transformação de Dados",icon:"lucide:shuffle"},{value:"utility",label:"Utilidade",icon:"lucide:wrench"}],c=N(()=>s.value.name.trim());function l(){const p=r.value.trim();p&&!s.value.tags.includes(p)&&(s.value.tags.push(p),r.value="")}function b(){return F(this,null,function*(){if(!c.value)return;a.value=!0;const p={name:s.value.name,description:s.value.description,category:s.value.category,tags:s.value.tags,isPublic:s.value.isPublic,metadata:s.value.metadata,status:"draft"};(yield d(p)).success&&f.push("/flows"),a.value=!1})}function D(){f.push("/flows")}return(p,t)=>(m(),U(M,null,{default:I(()=>[e("div",L,[t[6]||(t[6]=e("div",null,[e("h1",{class:"text-3xl font-semibold text-gray-800 tracking-wide"},"Criar Novo Fluxo"),e("p",{class:"text-gray-600 mt-2 tracking-wide"},"Configure os metadados e configurações do seu fluxo. O design visual será feito no Flow Builder.")],-1)),e("div",O,[e("button",{onClick:D,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all flex items-center space-x-2 font-medium tracking-wide"},[n(i(u),{icon:"lucide:arrow-left",class:"w-4 h-4"}),t[5]||(t[5]=e("span",null,"Voltar",-1))]),e("button",{onClick:b,disabled:!c.value||a.value,class:"px-6 py-2 bg-brand-purple text-white rounded-lg hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center space-x-2 shadow-sm font-medium tracking-wide"},[n(i(u),{icon:a.value?"lucide:loader-2":"lucide:save",class:B(["w-4 h-4",{"animate-spin":a.value}])},null,8,["icon","class"]),e("span",null,w(a.value?"Salvando...":"Salvar Fluxo"),1)],8,R)])]),e("div",j,[e("h2",G,[n(i(u),{icon:"lucide:settings",class:"w-5 h-5 mr-2 text-brand-purple"}),t[7]||(t[7]=h(" Configuração do Fluxo ",-1))]),e("div",H,[e("div",null,[t[8]||(t[8]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Nome do Fluxo * ",-1)),g(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o),type:"text",placeholder:"Digite o nome do fluxo (ex: 'Fluxo de Registro de Usuário')",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent focus:border-transparent"},null,512),[[k,s.value.name]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"category",class:"block text-sm font-medium text-gray-700 mb-2"}," Categoria ",-1)),g(e("select",{id:"category","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.category=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent focus:border-transparent"},[(m(),v(P,null,V(x,o=>e("option",{key:o.value,value:o.value},w(o.label),9,$)),64))],512),[[S,s.value.category]])])]),e("div",J,[t[10]||(t[10]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Descrição ",-1)),g(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.description=o),rows:"3",placeholder:"Descreva o que este fluxo faz, seu propósito e detalhes importantes...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent focus:border-transparent resize-none"},null,512),[[k,s.value.description]])]),e("div",Q,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Tags ",-1)),e("div",W,[(m(!0),v(P,null,V(s.value.tags,(o,C)=>(m(),v("span",{key:C,class:"inline-flex items-center px-2 py-1 bg-brand-purple/10 text-brand-purple border border-brand-purple/30 text-xs rounded-full"},[h(w(o)+" ",1),e("button",{onClick:ae=>s.value.tags.splice(C,1),class:"ml-1 text-blue-600 hover:text-blue-800"},[n(i(u),{icon:"lucide:x",class:"w-3 h-3"})],8,X)]))),128))]),e("div",Y,[g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>r.value=o),onKeyup:T(l,["enter"]),type:"text",placeholder:"Add tags (press Enter)",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent focus:border-transparent text-sm"},null,544),[[k,r.value]]),e("button",{onClick:l,type:"button",class:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},[n(i(u),{icon:"lucide:plus",class:"w-4 h-4"})])])]),e("div",Z,[t[14]||(t[14]=e("h3",{class:"text-sm font-medium text-gray-900 mb-3"},"Publishing Options",-1)),e("div",ee,[e("label",te,[g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.isPublic=o),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-brand-purple focus:border-transparent border-gray-300 rounded"},null,512),[[E,s.value.isPublic]]),t[12]||(t[12]=e("span",{class:"ml-2 text-sm text-gray-700"},"Make this flow public",-1)),n(i(u),{icon:"lucide:info",class:"w-4 h-4 ml-2 text-gray-400",title:"Public flows can be discovered and imported by other users"})]),s.value.isPublic?(m(),v("div",se,[e("p",oe,[n(i(u),{icon:"lucide:alert-triangle",class:"w-4 h-4 inline mr-1"}),t[13]||(t[13]=h(" Public flows will be visible in the community library. Ensure you don't include sensitive information. ",-1))])])):z("",!0)])])])]),_:1}))}},be=K(le,[["__scopeId","data-v-bdb9111b"]]);export{be as default};
