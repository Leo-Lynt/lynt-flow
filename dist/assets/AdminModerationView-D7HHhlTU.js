var p=(ne,H,C)=>new Promise((J,q)=>{var K=x=>{try{$(C.next(x))}catch(N){q(N)}},W=x=>{try{$(C.throw(x))}catch(N){q(N)}},$=x=>x.done?J(x.value):Promise.resolve(x.value).then(K,W);$((C=C.apply(ne,H)).next())});import{r as u,o as je,a as Ae,q as Me,b as n,i as e,h as i,k as g,l as a,u as l,I as r,t as d,n as _,F as z,C as L,y as c,p as k,v as G,G as O}from"./vue-vendor-Cs4IDGu-.js";import{A as $e}from"./AppLayout-jrBjamem.js";import{u as Ne}from"./useAdmin-BlFDCXcN.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useAuth-C1_85XZE.js";import"./utils-nSMfNdYQ.js";const De={class:"max-w-7xl mx-auto"},Pe={key:0,class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},Ue={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6"},qe={class:"flex items-center justify-between mb-2"},Ee={class:"text-3xl font-bold text-gray-900"},Be={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6"},Ie={class:"flex items-center justify-between mb-2"},Qe={class:"text-3xl font-bold text-gray-900"},Te={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6"},ze={class:"flex items-center justify-between mb-2"},Le={class:"text-3xl font-bold text-gray-900"},Ge={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6"},Oe={class:"flex items-center justify-between mb-2"},He={class:"text-3xl font-bold text-gray-900"},Je={class:"mb-6 border-b border-gray-200"},Ke={class:"-mb-px flex space-x-8"},We={key:1,class:"space-y-4"},Xe={key:0,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},Ye={key:1,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},Ze={class:"flex items-start justify-between"},et={class:"flex-1"},tt={class:"flex items-center gap-3 mb-2"},st={class:"text-lg font-semibold text-gray-900"},ot={key:0,class:"px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800"},lt={class:"text-gray-600 mb-3"},at={class:"flex items-center gap-4 text-sm text-gray-500 mb-4"},rt={class:"flex items-center gap-1"},nt={class:"flex items-center gap-1"},it={key:0,class:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},dt={class:"list-disc list-inside text-sm text-yellow-800 space-y-1"},ut={class:"flex flex-col gap-2 ml-6"},ct=["onClick"],pt=["onClick"],bt=["onClick"],gt={key:2,class:"space-y-6"},xt={class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-4"},vt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},mt={key:0,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},ft={key:1,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},yt={key:2,class:"space-y-4"},wt={class:"flex items-start justify-between"},ht={class:"flex-1"},_t={class:"flex items-center gap-3 mb-2"},kt={class:"text-lg font-semibold text-gray-900"},Ct={key:0,class:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 flex items-center gap-1"},Rt={class:"text-gray-600 mb-3"},Ft={class:"flex items-center gap-4 text-sm text-gray-500"},Vt={class:"flex items-center gap-1"},jt={class:"flex items-center gap-1"},At={class:"flex items-center gap-1"},Mt={class:"flex items-center gap-1"},$t={class:"flex flex-col gap-2 ml-6"},Nt=["onClick"],St=["onClick"],Dt=["onClick"],Pt={key:3,class:"space-y-4"},Ut={key:0,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},qt={key:1,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-12 text-center"},Et={class:"flex items-start justify-between"},Bt={class:"flex-1"},It={class:"flex items-center gap-3 mb-2"},Qt={class:"text-lg font-semibold text-gray-900"},Tt={class:"px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800"},zt={class:"text-gray-700 mb-3"},Lt={class:"flex items-center gap-4 text-sm text-gray-500"},Gt={class:"flex items-center gap-1"},Ot={class:"flex items-center gap-1"},Ht=["onClick"],Jt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Kt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},Wt={class:"relative inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Xt={class:"flex items-start justify-between mb-6"},Yt={class:"text-sm text-gray-600 mt-1"},Zt={class:"mb-4"},es={class:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200"},ts=["disabled"],ss={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},os={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},ls={class:"relative inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},as={class:"flex items-start justify-between mb-6"},rs={class:"text-sm text-gray-600 mt-1"},ns={class:"mb-4"},is={class:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200"},ds=["disabled"],us={key:2,class:"fixed inset-0 z-50 overflow-y-auto"},cs={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:p-0"},ps={class:"relative inline-block w-full max-w-lg p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},bs={class:"flex items-start justify-between mb-6"},gs={class:"text-sm text-gray-600 mt-1"},xs={class:"space-y-4"},vs={class:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-gray-200"},ms=["disabled"],fs={__name:"AdminModerationView",setup(ne){const{listPendingFlows:H,listReports:C,listAllPublicFlows:J,approveFlow:q,rejectFlow:K,verifyFlow:W,unverifyFlow:$,quarantineFlow:x,resolveReport:N,getModerationStats:fe,loading:b}=Ne(),v=u("pending"),X=u([]),Y=u([]),Z=u([]),R=u(null),E=u(1),ee=u(1),te=u(""),se=u(""),oe=u(""),le=u("recent"),F=u(!1),m=u(null),V=u(""),j=u(!1),B=u(null),I=u("no_action"),Q=u(""),A=u(!1),T=u("");je(()=>p(null,null,function*(){yield S(),yield D()}));function S(){return p(this,null,function*(){const o=yield fe();o.success&&(R.value=o.data)})}function D(){return p(this,null,function*(){var t;const o=yield H(E.value,20);o.success&&(X.value=o.data.flows||[],ee.value=((t=o.data.pagination)==null?void 0:t.pages)||1)})}function ie(){return p(this,null,function*(){var t;const o=yield C({status:"pending",page:E.value,limit:20});o.success&&(Y.value=o.data.reports||[],ee.value=((t=o.data.pagination)==null?void 0:t.pages)||1)})}function f(){return p(this,null,function*(){var t;const o=yield J({search:te.value,category:se.value,verified:oe.value,sortBy:le.value,page:E.value,limit:20});o.success&&(Z.value=o.data.flows||[],ee.value=((t=o.data.pagination)==null?void 0:t.pages)||1)})}function ye(o){return p(this,null,function*(){if(!confirm(`Aprovar o flow "${o.name}"?`))return;const t=yield q(o._id);t.success?(yield D(),yield S()):alert("Erro: "+t.error)})}function we(o){m.value=o,V.value="",F.value=!0}function he(){return p(this,null,function*(){if(!m.value||!V.value.trim()){alert("Por favor, informe o motivo da rejeição");return}const o=yield K(m.value._id,V.value);o.success?(F.value=!1,yield D(),yield S()):alert("Erro: "+o.error)})}function de(o){return p(this,null,function*(){if(!confirm(`Adicionar badge de verificado ao flow "${o.name}"?`))return;const t=yield W(o._id);t.success?v.value==="pending"?yield D():v.value==="allFlows"&&(yield f()):alert("Erro: "+t.error)})}function _e(o){return p(this,null,function*(){if(!confirm(`Remover badge de verificado do flow "${o.name}"?`))return;const t=yield $(o._id);t.success?yield f():alert("Erro: "+t.error)})}function ke(o){m.value=o,T.value="",A.value=!0}function Ce(){return p(this,null,function*(){if(!m.value)return;const o=yield x(m.value._id,T.value);o.success?(A.value=!1,yield f(),yield S()):alert("Erro: "+o.error)})}function Re(o){B.value=o,I.value="no_action",Q.value="",j.value=!0}function Fe(){return p(this,null,function*(){if(!B.value)return;const o=yield N(B.value._id,I.value,Q.value);o.success?(j.value=!1,yield ie(),yield S()):alert("Erro: "+o.error)})}function ae(o){return p(this,null,function*(){v.value=o,E.value=1,o==="pending"?yield D():o==="reports"?yield ie():o==="allFlows"&&(yield f())})}function re(o){return new Date(o).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ue(o){const t={automation:"bg-blue-100 text-blue-800","data-processing":"bg-green-100 text-green-800","api-integration":"bg-purple-100 text-purple-800",notification:"bg-yellow-100 text-yellow-800",utility:"bg-gray-100 text-gray-800"};return t[o]||t.utility}function Ve(o){return{spam:"Spam",malicious_code:"Código Malicioso",inappropriate_content:"Conteúdo Inapropriado",copyright_violation:"Violação de Copyright",misleading:"Enganoso",broken:"Não Funciona",other:"Outro"}[o]||o}return(o,t)=>(n(),Ae($e,null,{default:Me(()=>{var ce,pe,be,ge;return[e("div",De,[t[43]||(t[43]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Moderação de Flows"),e("p",{class:"text-gray-600"},"Gerencie aprovações e reports de flows públicos")],-1)),R.value?(n(),i("div",Pe,[e("div",Ue,[e("div",qe,[t[20]||(t[20]=e("span",{class:"text-sm font-medium text-gray-600"},"Pendentes",-1)),a(l(r),{icon:"lucide:clock",class:"w-5 h-5 text-yellow-400"})]),e("p",Ee,d(R.value.pendingFlows||0),1)]),e("div",Be,[e("div",Ie,[t[21]||(t[21]=e("span",{class:"text-sm font-medium text-gray-600"},"Aprovados",-1)),a(l(r),{icon:"lucide:check-circle",class:"w-5 h-5 text-green-400"})]),e("p",Qe,d(R.value.approvedFlows||0),1)]),e("div",Te,[e("div",ze,[t[22]||(t[22]=e("span",{class:"text-sm font-medium text-gray-600"},"Reports Pendentes",-1)),a(l(r),{icon:"lucide:flag",class:"w-5 h-5 text-red-400"})]),e("p",Le,d(R.value.pendingReports||0),1)]),e("div",Ge,[e("div",Oe,[t[23]||(t[23]=e("span",{class:"text-sm font-medium text-gray-600"},"Verificados",-1)),a(l(r),{icon:"lucide:shield-check",class:"w-5 h-5 text-blue-400"})]),e("p",He,d(R.value.verifiedFlows||0),1)])])):g("",!0),e("div",Je,[e("nav",Ke,[e("button",{onClick:t[0]||(t[0]=s=>ae("pending")),class:_(["py-4 px-1 border-b-2 font-medium text-sm",v.value==="pending"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Flows Pendentes ",2),e("button",{onClick:t[1]||(t[1]=s=>ae("reports")),class:_(["py-4 px-1 border-b-2 font-medium text-sm",v.value==="reports"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," Reports ",2),e("button",{onClick:t[2]||(t[2]=s=>ae("allFlows")),class:_(["py-4 px-1 border-b-2 font-medium text-sm",v.value==="allFlows"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])}," All Flows ",2)])]),v.value==="pending"?(n(),i("div",We,[l(b)?(n(),i("div",Xe,[a(l(r),{icon:"lucide:loader-2",class:"w-12 h-12 text-blue-600 animate-spin mx-auto"})])):X.value.length===0?(n(),i("div",Ye,[a(l(r),{icon:"lucide:check-circle",class:"w-16 h-16 text-green-400 mx-auto mb-4"}),t[24]||(t[24]=e("p",{class:"text-gray-500"},"Nenhum flow pendente de aprovação",-1))])):(n(!0),i(z,{key:2},L(X.value,s=>{var y,w,M,P,U;return n(),i("div",{key:s._id,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6 hover:border-blue-300 transition-colors"},[e("div",Ze,[e("div",et,[e("div",tt,[e("h3",st,d(s.name),1),e("span",{class:_(["px-2 py-1 text-xs font-medium rounded-full",ue(s.category)])},d(s.category),3),((y=s.securityScan)==null?void 0:y.status)==="suspicious"?(n(),i("span",ot," Suspeito ")):g("",!0)]),e("p",lt,d(s.description),1),e("div",at,[e("span",rt,[a(l(r),{icon:"lucide:user",class:"w-4 h-4"}),c(" "+d(((M=(w=s.publicMetadata)==null?void 0:w.author)==null?void 0:M.name)||"Unknown"),1)]),e("span",nt,[a(l(r),{icon:"lucide:clock",class:"w-4 h-4"}),c(" "+d(re((P=s.publicationData)==null?void 0:P.publishedAt)),1)])]),(U=s.securityScan)!=null&&U.warnings&&s.securityScan.warnings.length>0?(n(),i("div",it,[t[25]||(t[25]=e("p",{class:"text-sm font-medium text-yellow-900 mb-2"},"⚠️ Avisos de Segurança:",-1)),e("ul",dt,[(n(!0),i(z,null,L(s.securityScan.warnings,h=>(n(),i("li",{key:h},d(h),1))),128))])])):g("",!0)]),e("div",ut,[e("button",{onClick:h=>ye(s),class:"px-4 py-2 bg-brand-green text-white rounded-lg hover:brightness-110 transition-all flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:check",class:"w-4 h-4"}),t[26]||(t[26]=c(" Aprovar ",-1))],8,ct),e("button",{onClick:h=>we(s),class:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:x",class:"w-4 h-4"}),t[27]||(t[27]=c(" Rejeitar ",-1))],8,pt),e("button",{onClick:h=>de(s),class:"px-4 py-2 border border-blue-300 text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:shield-check",class:"w-4 h-4"}),t[28]||(t[28]=c(" Verificar ",-1))],8,bt)])])])}),128))])):g("",!0),v.value==="allFlows"?(n(),i("div",gt,[e("div",xt,[e("div",vt,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Buscar",-1)),k(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>te.value=s),onInput:f,type:"text",placeholder:"Nome, descrição ou autor...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"},null,544),[[G,te.value]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Categoria",-1)),k(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>se.value=s),onChange:f,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"},[...t[30]||(t[30]=[e("option",{value:""},"Todas",-1),e("option",{value:"automation"},"Automação",-1),e("option",{value:"data-processing"},"Processamento de Dados",-1),e("option",{value:"api-integration"},"Integração de API",-1),e("option",{value:"notification"},"Notificação",-1),e("option",{value:"utility"},"Utilitário",-1)])],544),[[O,se.value]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Verificado",-1)),k(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>oe.value=s),onChange:f,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"},[...t[32]||(t[32]=[e("option",{value:""},"Todos",-1),e("option",{value:"true"},"Verificados",-1),e("option",{value:"false"},"Não Verificados",-1)])],544),[[O,oe.value]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ordenar por",-1)),k(e("select",{"onUpdate:modelValue":t[6]||(t[6]=s=>le.value=s),onChange:f,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"},[...t[34]||(t[34]=[e("option",{value:"recent"},"Mais Recentes",-1),e("option",{value:"popular"},"Mais Populares",-1),e("option",{value:"rating"},"Melhor Avaliados",-1),e("option",{value:"verified"},"Verificados",-1)])],544),[[O,le.value]])])])]),l(b)?(n(),i("div",mt,[a(l(r),{icon:"lucide:loader-2",class:"w-12 h-12 text-blue-600 animate-spin mx-auto"})])):Z.value.length===0?(n(),i("div",ft,[a(l(r),{icon:"lucide:search",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),t[36]||(t[36]=e("p",{class:"text-gray-500"},"Nenhum flow encontrado",-1))])):(n(),i("div",yt,[(n(!0),i(z,null,L(Z.value,s=>{var y,w,M,P,U,h,xe,ve;return n(),i("div",{key:s._id,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6 hover:border-blue-300 transition-colors"},[e("div",wt,[e("div",ht,[e("div",_t,[e("h3",kt,d(s.name),1),e("span",{class:_(["px-2 py-1 text-xs font-medium rounded-full",ue(s.category)])},d(s.category),3),(y=s.publicationData)!=null&&y.isVerified?(n(),i("span",Ct,[a(l(r),{icon:"lucide:shield-check",class:"w-3 h-3"}),t[37]||(t[37]=c(" Verificado ",-1))])):g("",!0)]),e("p",Rt,d(s.description),1),e("div",Ft,[e("span",Vt,[a(l(r),{icon:"lucide:user",class:"w-4 h-4"}),c(" "+d(((M=(w=s.publicMetadata)==null?void 0:w.author)==null?void 0:M.name)||"Unknown"),1)]),e("span",jt,[a(l(r),{icon:"lucide:download",class:"w-4 h-4"}),c(" "+d(((P=s.publicStats)==null?void 0:P.imports)||0)+" importações ",1)]),e("span",At,[a(l(r),{icon:"lucide:star",class:"w-4 h-4"}),c(" "+d(((h=(U=s.publicStats)==null?void 0:U.averageRating)==null?void 0:h.toFixed(1))||"0.0"),1)]),e("span",Mt,[a(l(r),{icon:"lucide:clock",class:"w-4 h-4"}),c(" "+d(re((xe=s.publicationData)==null?void 0:xe.publishedAt)),1)])])]),e("div",$t,[(ve=s.publicationData)!=null&&ve.isVerified?(n(),i("button",{key:1,onClick:me=>_e(s),class:"px-4 py-2 border border-blue-300 text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:shield-off",class:"w-4 h-4"}),t[39]||(t[39]=c(" Remover Verificação ",-1))],8,St)):(n(),i("button",{key:0,onClick:me=>de(s),class:"px-4 py-2 bg-brand-purple text-white rounded-lg hover:brightness-110 transition-all flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:shield-check",class:"w-4 h-4"}),t[38]||(t[38]=c(" Verificar ",-1))],8,Nt)),e("button",{onClick:me=>ke(s),class:"px-4 py-2 border border-orange-300 text-orange-600 rounded-lg hover:bg-orange-50 flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:alert-triangle",class:"w-4 h-4"}),t[40]||(t[40]=c(" Quarentena ",-1))],8,Dt)])])])}),128))]))])):g("",!0),v.value==="reports"?(n(),i("div",Pt,[l(b)?(n(),i("div",Ut,[a(l(r),{icon:"lucide:loader-2",class:"w-12 h-12 text-blue-600 animate-spin mx-auto"})])):Y.value.length===0?(n(),i("div",qt,[a(l(r),{icon:"lucide:shield-check",class:"w-16 h-16 text-green-400 mx-auto mb-4"}),t[41]||(t[41]=e("p",{class:"text-gray-500"},"Nenhum report pendente",-1))])):(n(!0),i(z,{key:2},L(Y.value,s=>{var y,w;return n(),i("div",{key:s._id,class:"glass-card backdrop-blur-xl bg-white/30 rounded-lg border border-white/20 p-6 hover:border-blue-300 transition-colors"},[e("div",Et,[e("div",Bt,[e("div",It,[e("h3",Qt,d(((y=s.flowId)==null?void 0:y.name)||"Flow Deletado"),1),e("span",Tt,d(Ve(s.category)),1)]),e("p",zt,d(s.reason),1),e("div",Lt,[e("span",Gt,[a(l(r),{icon:"lucide:user",class:"w-4 h-4"}),c(" Reportado por: "+d(((w=s.reportedBy)==null?void 0:w.name)||"Anônimo"),1)]),e("span",Ot,[a(l(r),{icon:"lucide:clock",class:"w-4 h-4"}),c(" "+d(re(s.createdAt)),1)])])]),e("button",{onClick:M=>Re(s),class:"ml-6 px-4 py-2 bg-brand-purple text-white rounded-lg hover:brightness-110 transition-all flex items-center gap-2 whitespace-nowrap"},[a(l(r),{icon:"lucide:check-circle",class:"w-4 h-4"}),t[42]||(t[42]=c(" Resolver ",-1))],8,Ht)])])}),128))])):g("",!0)]),F.value?(n(),i("div",Jt,[e("div",Kt,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[7]||(t[7]=s=>F.value=!1)}),e("div",Wt,[e("div",Xt,[e("div",null,[t[44]||(t[44]=e("h3",{class:"text-xl font-bold text-gray-900"},"Rejeitar Flow",-1)),e("p",Yt,d((ce=m.value)==null?void 0:ce.name),1)]),e("button",{onClick:t[8]||(t[8]=s=>F.value=!1),class:"text-gray-400 hover:text-gray-600"},[a(l(r),{icon:"lucide:x",class:"w-6 h-6"})])]),e("div",Zt,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Motivo da Rejeição *",-1)),k(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=s=>V.value=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent",placeholder:"Explique por que este flow está sendo rejeitado..."},null,512),[[G,V.value]])]),e("div",es,[e("button",{onClick:t[10]||(t[10]=s=>F.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancelar "),e("button",{onClick:he,disabled:l(b)||!V.value.trim(),class:"px-4 py-2 bg-brand-red text-white rounded-lg hover:brightness-110 transition-all disabled:opacity-50 flex items-center gap-2"},[a(l(r),{icon:l(b)?"lucide:loader-2":"lucide:x",class:_(["w-4 h-4",{"animate-spin":l(b)}])},null,8,["icon","class"]),t[46]||(t[46]=c(" Rejeitar ",-1))],8,ts)])])])])):g("",!0),A.value?(n(),i("div",ss,[e("div",os,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[11]||(t[11]=s=>A.value=!1)}),e("div",ls,[e("div",as,[e("div",null,[t[47]||(t[47]=e("h3",{class:"text-xl font-bold text-gray-900"},"Mover para Quarentena",-1)),e("p",rs,d((pe=m.value)==null?void 0:pe.name),1)]),e("button",{onClick:t[12]||(t[12]=s=>A.value=!1),class:"text-gray-400 hover:text-gray-600"},[a(l(r),{icon:"lucide:x",class:"w-6 h-6"})])]),e("div",ns,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Motivo (opcional)",-1)),k(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=s=>T.value=s),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent",placeholder:"Explique por que este flow está sendo movido para quarentena..."},null,512),[[G,T.value]])]),e("div",is,[e("button",{onClick:t[14]||(t[14]=s=>A.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancelar "),e("button",{onClick:Ce,disabled:l(b),class:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 flex items-center gap-2"},[a(l(r),{icon:l(b)?"lucide:loader-2":"lucide:alert-triangle",class:_(["w-4 h-4",{"animate-spin":l(b)}])},null,8,["icon","class"]),t[49]||(t[49]=c(" Mover para Quarentena ",-1))],8,ds)])])])])):g("",!0),j.value?(n(),i("div",us,[e("div",cs,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t[15]||(t[15]=s=>j.value=!1)}),e("div",ps,[e("div",bs,[e("div",null,[t[50]||(t[50]=e("h3",{class:"text-xl font-bold text-gray-900"},"Resolver Report",-1)),e("p",gs,d((ge=(be=B.value)==null?void 0:be.flowId)==null?void 0:ge.name),1)]),e("button",{onClick:t[16]||(t[16]=s=>j.value=!1),class:"text-gray-400 hover:text-gray-600"},[a(l(r),{icon:"lucide:x",class:"w-6 h-6"})])]),e("div",xs,[e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ação *",-1)),k(e("select",{"onUpdate:modelValue":t[17]||(t[17]=s=>I.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent"},[...t[51]||(t[51]=[e("option",{value:"no_action"},"Nenhuma ação (report inválido)",-1),e("option",{value:"quarantine"},"Colocar em quarentena",-1),e("option",{value:"delete"},"Deletar flow",-1),e("option",{value:"warn_author"},"Avisar autor",-1),e("option",{value:"ban_author"},"Banir autor",-1)])],512),[[O,I.value]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Notas",-1)),k(e("textarea",{"onUpdate:modelValue":t[18]||(t[18]=s=>Q.value=s),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent",placeholder:"Notas sobre a resolução..."},null,512),[[G,Q.value]])])]),e("div",vs,[e("button",{onClick:t[19]||(t[19]=s=>j.value=!1),class:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"}," Cancelar "),e("button",{onClick:Fe,disabled:l(b),class:"px-4 py-2 bg-brand-purple text-white rounded-lg hover:brightness-110 transition-all disabled:opacity-50 flex items-center gap-2"},[a(l(r),{icon:l(b)?"lucide:loader-2":"lucide:check-circle",class:_(["w-4 h-4",{"animate-spin":l(b)}])},null,8,["icon","class"]),t[54]||(t[54]=c(" Resolver ",-1))],8,ms)])])])])):g("",!0)]}),_:1}))}},Fs=Se(fs,[["__scopeId","data-v-2e917787"]]);export{Fs as default};
