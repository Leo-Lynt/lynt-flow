const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/output-B5NVIygm.js","assets/dataUtils-XrCV_Bny.js","assets/comparison-C-3EnatI.js","assets/typeConversion-Dht7g6FP.js","assets/forEach-9OFFvcAY.js","assets/whileLoop-BWu1MzO-.js","assets/conditionalBranch-CkXXrdZr.js","assets/logic-ePm9P3Wg.js","assets/arrayAggregate-CSBVTpYh.js","assets/pathUtils-D1qRpIzi.js","assets/arrayCreate-CWf8_DP0.js","assets/arrayDistinct-BN7t7hKV.js","assets/arrayFilter-pA2HOpjP.js","assets/arrayGroupBy-BUOG99i5.js","assets/arrayMap-CoFGNbsb.js","assets/arrayMerge-DTWeiSuC.js","assets/arrayProcessor-3bzHxIk3.js","assets/arraySlice-CQXToVqn.js","assets/arraySort-BUsbMhVI.js","assets/debugViewer-DCC5-KnR.js","assets/fieldExtractor-TLxGAfq2.js","assets/math-BT4bU4qf.js","assets/objectCreate-Cp_MSNis.js","assets/objectFilter-EJheFovF.js","assets/objectKeysValues-DCvxA3oL.js","assets/objectMerge-BDO1RdGM.js","assets/objectPick-BaVu1BQP.js","assets/objectRename-Txwo_3ZR.js","assets/objectSetProperty-D743SG3x.js","assets/objectToArray-3882GLb-.js","assets/objectTransform-BU6IzUSf.js","assets/round-DvGedJfu.js","assets/stringOps-CdSKE0Es.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ju(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ht={},ir=[],En=()=>{},Qh=()=>!1,Ta=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qu=e=>e.startsWith("onUpdate:"),Ht=Object.assign,ec=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},iv=Object.prototype.hasOwnProperty,st=(e,t)=>iv.call(e,t),Me=Array.isArray,ar=e=>Ws(e)==="[object Map]",Dr=e=>Ws(e)==="[object Set]",Zc=e=>Ws(e)==="[object Date]",Le=e=>typeof e=="function",wt=e=>typeof e=="string",un=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",ep=e=>(dt(e)||Le(e))&&Le(e.then)&&Le(e.catch),tp=Object.prototype.toString,Ws=e=>tp.call(e),av=e=>Ws(e).slice(8,-1),np=e=>Ws(e)==="[object Object]",tc=e=>wt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,as=Ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Aa=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},lv=/-\w/g,Qt=Aa(e=>e.replace(lv,t=>t.slice(1).toUpperCase())),uv=/\B([A-Z])/g,ko=Aa(e=>e.replace(uv,"-$1").toLowerCase()),Ia=Aa(e=>e.charAt(0).toUpperCase()+e.slice(1)),fl=Aa(e=>e?`on${Ia(e)}`:""),Un=(e,t)=>!Object.is(e,t),Si=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},op=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},qi=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kc;const Oa=()=>Kc||(Kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gt(e){if(Me(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=wt(o)?hv(o):gt(o);if(r)for(const s in r)t[s]=r[s]}return t}else if(wt(e)||dt(e))return e}const cv=/;(?![^(]*\))/g,dv=/:([^]+)/,fv=/\/\*[^]*?\*\//g;function hv(e){const t={};return e.replace(fv,"").split(cv).forEach(n=>{if(n){const o=n.split(dv);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function nt(e){let t="";if(wt(e))t=e;else if(Me(e))for(let n=0;n<e.length;n++){const o=nt(e[n]);o&&(t+=o+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function We(e){if(!e)return null;let{class:t,style:n}=e;return t&&!wt(t)&&(e.class=nt(t)),n&&(e.style=gt(n)),e}const pv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gv=Ju(pv);function rp(e){return!!e||e===""}function mv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Ys(e[o],t[o]);return n}function Ys(e,t){if(e===t)return!0;let n=Zc(e),o=Zc(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=un(e),o=un(t),n||o)return e===t;if(n=Me(e),o=Me(t),n||o)return n&&o?mv(e,t):!1;if(n=dt(e),o=dt(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),l=t.hasOwnProperty(i);if(a&&!l||!a&&l||!Ys(e[i],t[i]))return!1}}return String(e)===String(t)}function nc(e,t){return e.findIndex(n=>Ys(n,t))}const sp=e=>!!(e&&e.__v_isRef===!0),xe=e=>wt(e)?e:e==null?"":Me(e)||dt(e)&&(e.toString===tp||!Le(e.toString))?sp(e)?xe(e.value):JSON.stringify(e,ip,2):String(e),ip=(e,t)=>sp(t)?ip(e,t.value):ar(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r],s)=>(n[hl(o,s)+" =>"]=r,n),{})}:Dr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>hl(n))}:un(t)?hl(t):dt(t)&&!Me(t)&&!np(t)?String(t):t,hl=(e,t="")=>{var n;return un(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mt;class ap{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mt,!t&&Mt&&(this.index=(Mt.scopes||(Mt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Mt;try{return Mt=this,t()}finally{Mt=n}}}on(){++this._on===1&&(this.prevScope=Mt,Mt=this)}off(){this._on>0&&--this._on===0&&(Mt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ra(e){return new ap(e)}function Ma(){return Mt}function ls(e,t=!1){Mt&&Mt.cleanups.push(e)}let mt;const pl=new WeakSet;class lp{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mt&&Mt.active&&Mt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pl.has(this)&&(pl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||cp(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xc(this),dp(this);const t=mt,n=an;mt=this,an=!0;try{return this.fn()}finally{fp(this),mt=t,an=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)sc(t);this.deps=this.depsTail=void 0,Xc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wl(this)&&this.run()}get dirty(){return Wl(this)}}let up=0,us,cs;function cp(e,t=!1){if(e.flags|=8,t){e.next=cs,cs=e;return}e.next=us,us=e}function oc(){up++}function rc(){if(--up>0)return;if(cs){let t=cs;for(cs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;us;){let t=us;for(us=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function dp(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function fp(e){let t,n=e.depsTail,o=n;for(;o;){const r=o.prevDep;o.version===-1?(o===n&&(n=r),sc(o),yv(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=t,e.depsTail=n}function Wl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(hp(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function hp(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_s)||(e.globalVersion=_s,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Wl(e))))return;e.flags|=2;const t=e.dep,n=mt,o=an;mt=e,an=!0;try{dp(e);const r=e.fn(e._value);(t.version===0||Un(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{mt=n,an=o,fp(e),e.flags&=-3}}function sc(e,t=!1){const{dep:n,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)sc(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function yv(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let an=!0;const pp=[];function Wn(){pp.push(an),an=!1}function Yn(){const e=pp.pop();an=e===void 0?!0:e}function Xc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=mt;mt=void 0;try{t()}finally{mt=n}}}let _s=0;class vv{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Da{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!mt||!an||mt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==mt)n=this.activeLink=new vv(mt,this),mt.deps?(n.prevDep=mt.depsTail,mt.depsTail.nextDep=n,mt.depsTail=n):mt.deps=mt.depsTail=n,gp(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=mt.depsTail,n.nextDep=void 0,mt.depsTail.nextDep=n,mt.depsTail=n,mt.deps===n&&(mt.deps=o)}return n}trigger(t){this.version++,_s++,this.notify(t)}notify(t){oc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{rc()}}}function gp(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)gp(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Wi=new WeakMap,Mo=Symbol(""),Yl=Symbol(""),ws=Symbol("");function Dt(e,t,n){if(an&&mt){let o=Wi.get(e);o||Wi.set(e,o=new Map);let r=o.get(n);r||(o.set(n,r=new Da),r.map=o,r.key=n),r.track()}}function Hn(e,t,n,o,r,s){const i=Wi.get(e);if(!i){_s++;return}const a=l=>{l&&l.trigger()};if(oc(),t==="clear")i.forEach(a);else{const l=Me(e),u=l&&tc(n);if(l&&n==="length"){const c=Number(o);i.forEach((d,h)=>{(h==="length"||h===ws||!un(h)&&h>=c)&&a(d)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),u&&a(i.get(ws)),t){case"add":l?u&&a(i.get("length")):(a(i.get(Mo)),ar(e)&&a(i.get(Yl)));break;case"delete":l||(a(i.get(Mo)),ar(e)&&a(i.get(Yl)));break;case"set":ar(e)&&a(i.get(Mo));break}}rc()}function bv(e,t){const n=Wi.get(e);return n&&n.get(t)}function Jo(e){const t=tt(e);return t===e?t:(Dt(t,"iterate",ws),Jt(e)?t:t.map(It))}function Pa(e){return Dt(e=tt(e),"iterate",ws),e}const xv={__proto__:null,[Symbol.iterator](){return gl(this,Symbol.iterator,It)},concat(...e){return Jo(this).concat(...e.map(t=>Me(t)?Jo(t):t))},entries(){return gl(this,"entries",e=>(e[1]=It(e[1]),e))},every(e,t){return Rn(this,"every",e,t,void 0,arguments)},filter(e,t){return Rn(this,"filter",e,t,n=>n.map(It),arguments)},find(e,t){return Rn(this,"find",e,t,It,arguments)},findIndex(e,t){return Rn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Rn(this,"findLast",e,t,It,arguments)},findLastIndex(e,t){return Rn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Rn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ml(this,"includes",e)},indexOf(...e){return ml(this,"indexOf",e)},join(e){return Jo(this).join(e)},lastIndexOf(...e){return ml(this,"lastIndexOf",e)},map(e,t){return Rn(this,"map",e,t,void 0,arguments)},pop(){return Fr(this,"pop")},push(...e){return Fr(this,"push",e)},reduce(e,...t){return Jc(this,"reduce",e,t)},reduceRight(e,...t){return Jc(this,"reduceRight",e,t)},shift(){return Fr(this,"shift")},some(e,t){return Rn(this,"some",e,t,void 0,arguments)},splice(...e){return Fr(this,"splice",e)},toReversed(){return Jo(this).toReversed()},toSorted(e){return Jo(this).toSorted(e)},toSpliced(...e){return Jo(this).toSpliced(...e)},unshift(...e){return Fr(this,"unshift",e)},values(){return gl(this,"values",It)}};function gl(e,t,n){const o=Pa(e),r=o[t]();return o!==e&&!Jt(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const _v=Array.prototype;function Rn(e,t,n,o,r,s){const i=Pa(e),a=i!==e&&!Jt(e),l=i[t];if(l!==_v[t]){const d=l.apply(e,s);return a?It(d):d}let u=n;i!==e&&(a?u=function(d,h){return n.call(this,It(d),h,e)}:n.length>2&&(u=function(d,h){return n.call(this,d,h,e)}));const c=l.call(i,u,o);return a&&r?r(c):c}function Jc(e,t,n,o){const r=Pa(e);let s=n;return r!==e&&(Jt(e)?n.length>3&&(s=function(i,a,l){return n.call(this,i,a,l,e)}):s=function(i,a,l){return n.call(this,i,It(a),l,e)}),r[t](s,...o)}function ml(e,t,n){const o=tt(e);Dt(o,"iterate",ws);const r=o[t](...n);return(r===-1||r===!1)&&lc(n[0])?(n[0]=tt(n[0]),o[t](...n)):r}function Fr(e,t,n=[]){Wn(),oc();const o=tt(e)[t].apply(e,n);return rc(),Yn(),o}const wv=Ju("__proto__,__v_isRef,__isVue"),mp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(un));function kv(e){un(e)||(e=String(e));const t=tt(this);return Dt(t,"has",e),t.hasOwnProperty(e)}class yp{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return o===(r?s?Rv:_p:s?xp:bp).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const i=Me(t);if(!r){let l;if(i&&(l=xv[n]))return l;if(n==="hasOwnProperty")return kv}const a=Reflect.get(t,n,vt(t)?t:o);if((un(n)?mp.has(n):wv(n))||(r||Dt(t,"get",n),s))return a;if(vt(a)){const l=i&&tc(n)?a:a.value;return r&&dt(l)?Yi(l):l}return dt(a)?r?Yi(a):Pr(a):a}}class vp extends yp{constructor(t=!1){super(!1,t)}set(t,n,o,r){let s=t[n];if(!this._isShallow){const l=bo(s);if(!Jt(o)&&!bo(o)&&(s=tt(s),o=tt(o)),!Me(t)&&vt(s)&&!vt(o))return l||(s.value=o),!0}const i=Me(t)&&tc(n)?Number(n)<t.length:st(t,n),a=Reflect.set(t,n,o,vt(t)?t:r);return t===tt(r)&&(i?Un(o,s)&&Hn(t,"set",n,o):Hn(t,"add",n,o)),a}deleteProperty(t,n){const o=st(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&o&&Hn(t,"delete",n,void 0),r}has(t,n){const o=Reflect.has(t,n);return(!un(n)||!mp.has(n))&&Dt(t,"has",n),o}ownKeys(t){return Dt(t,"iterate",Me(t)?"length":Mo),Reflect.ownKeys(t)}}class Ev extends yp{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Sv=new vp,$v=new Ev,Cv=new vp(!0);const Gl=e=>e,si=e=>Reflect.getPrototypeOf(e);function Nv(e,t,n){return function(...o){const r=this.__v_raw,s=tt(r),i=ar(s),a=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,u=r[e](...o),c=n?Gl:t?Gi:It;return!t&&Dt(s,"iterate",l?Yl:Mo),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function ii(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Tv(e,t){const n={get(r){const s=this.__v_raw,i=tt(s),a=tt(r);e||(Un(r,a)&&Dt(i,"get",r),Dt(i,"get",a));const{has:l}=si(i),u=t?Gl:e?Gi:It;if(l.call(i,r))return u(s.get(r));if(l.call(i,a))return u(s.get(a));s!==i&&s.get(r)},get size(){const r=this.__v_raw;return!e&&Dt(tt(r),"iterate",Mo),r.size},has(r){const s=this.__v_raw,i=tt(s),a=tt(r);return e||(Un(r,a)&&Dt(i,"has",r),Dt(i,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const i=this,a=i.__v_raw,l=tt(a),u=t?Gl:e?Gi:It;return!e&&Dt(l,"iterate",Mo),a.forEach((c,d)=>r.call(s,u(c),u(d),i))}};return Ht(n,e?{add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear")}:{add(r){!t&&!Jt(r)&&!bo(r)&&(r=tt(r));const s=tt(this);return si(s).has.call(s,r)||(s.add(r),Hn(s,"add",r,r)),this},set(r,s){!t&&!Jt(s)&&!bo(s)&&(s=tt(s));const i=tt(this),{has:a,get:l}=si(i);let u=a.call(i,r);u||(r=tt(r),u=a.call(i,r));const c=l.call(i,r);return i.set(r,s),u?Un(s,c)&&Hn(i,"set",r,s):Hn(i,"add",r,s),this},delete(r){const s=tt(this),{has:i,get:a}=si(s);let l=i.call(s,r);l||(r=tt(r),l=i.call(s,r)),a&&a.call(s,r);const u=s.delete(r);return l&&Hn(s,"delete",r,void 0),u},clear(){const r=tt(this),s=r.size!==0,i=r.clear();return s&&Hn(r,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=Nv(r,e,t)}),n}function ic(e,t){const n=Tv(e,t);return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(st(n,r)&&r in o?n:o,r,s)}const Av={get:ic(!1,!1)},Iv={get:ic(!1,!0)},Ov={get:ic(!0,!1)};const bp=new WeakMap,xp=new WeakMap,_p=new WeakMap,Rv=new WeakMap;function Mv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dv(e){return e.__v_skip||!Object.isExtensible(e)?0:Mv(av(e))}function Pr(e){return bo(e)?e:ac(e,!1,Sv,Av,bp)}function wp(e){return ac(e,!1,Cv,Iv,xp)}function Yi(e){return ac(e,!0,$v,Ov,_p)}function ac(e,t,n,o,r){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=Dv(e);if(s===0)return e;const i=r.get(e);if(i)return i;const a=new Proxy(e,s===2?o:n);return r.set(e,a),a}function mo(e){return bo(e)?mo(e.__v_raw):!!(e&&e.__v_isReactive)}function bo(e){return!!(e&&e.__v_isReadonly)}function Jt(e){return!!(e&&e.__v_isShallow)}function lc(e){return e?!!e.__v_raw:!1}function tt(e){const t=e&&e.__v_raw;return t?tt(t):e}function Do(e){return!st(e,"__v_skip")&&Object.isExtensible(e)&&op(e,"__v_skip",!0),e}const It=e=>dt(e)?Pr(e):e,Gi=e=>dt(e)?Yi(e):e;function vt(e){return e?e.__v_isRef===!0:!1}function he(e){return kp(e,!1)}function pr(e){return kp(e,!0)}function kp(e,t){return vt(e)?e:new Pv(e,t)}class Pv{constructor(t,n){this.dep=new Da,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:tt(t),this._value=n?t:It(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Jt(t)||bo(t);t=o?t:tt(t),Un(t,n)&&(this._rawValue=t,this._value=o?t:It(t),this.dep.trigger())}}function ge(e){return vt(e)?e.value:e}function Ze(e){return Le(e)?e():ge(e)}const Vv={get:(e,t,n)=>t==="__v_raw"?e:ge(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return vt(r)&&!vt(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function Ep(e){return mo(e)?e:new Proxy(e,Vv)}class Hv{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Da,{get:o,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function zv(e){return new Hv(e)}function Sp(e){const t=Me(e)?new Array(e.length):{};for(const n in e)t[n]=$p(e,n);return t}class Fv{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return bv(tt(this._object),this._key)}}class Lv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function it(e,t,n){return vt(e)?e:Le(e)?new Lv(e):dt(e)&&arguments.length>1?$p(e,t,n):he(e)}function $p(e,t,n){const o=e[t];return vt(o)?o:new Fv(e,t,n)}class Bv{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Da(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&mt!==this)return cp(this,!0),!0}get value(){const t=this.dep.track();return hp(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function jv(e,t,n=!1){let o,r;return Le(e)?o=e:(o=e.get,r=e.set),new Bv(o,r,n)}const ai={},Zi=new WeakMap;let Co;function Uv(e,t=!1,n=Co){if(n){let o=Zi.get(n);o||Zi.set(n,o=[]),o.push(e)}}function qv(e,t,n=ht){const{immediate:o,deep:r,once:s,scheduler:i,augmentJob:a,call:l}=n,u=O=>r?O:Jt(O)||r===!1||r===0?zn(O,1):zn(O);let c,d,h,f,p=!1,v=!1;if(vt(e)?(d=()=>e.value,p=Jt(e)):mo(e)?(d=()=>u(e),p=!0):Me(e)?(v=!0,p=e.some(O=>mo(O)||Jt(O)),d=()=>e.map(O=>{if(vt(O))return O.value;if(mo(O))return u(O);if(Le(O))return l?l(O,2):O()})):Le(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){Wn();try{h()}finally{Yn()}}const O=Co;Co=c;try{return l?l(e,3,[f]):e(f)}finally{Co=O}}:d=En,t&&r){const O=d,G=r===!0?1/0:r;d=()=>zn(O(),G)}const g=Ma(),y=()=>{c.stop(),g&&g.active&&ec(g.effects,c)};if(s&&t){const O=t;t=(...G)=>{O(...G),y()}}let k=v?new Array(e.length).fill(ai):ai;const _=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(t){const G=c.run();if(r||p||(v?G.some((q,L)=>Un(q,k[L])):Un(G,k))){h&&h();const q=Co;Co=c;try{const L=[G,k===ai?void 0:v&&k[0]===ai?[]:k,f];k=G,l?l(t,3,L):t(...L)}finally{Co=q}}}else c.run()};return a&&a(_),c=new lp(d),c.scheduler=i?()=>i(_,!1):_,f=O=>Uv(O,!1,c),h=c.onStop=()=>{const O=Zi.get(c);if(O){if(l)l(O,4);else for(const G of O)G();Zi.delete(c)}},t?o?_(!0):k=c.run():i?i(_.bind(null,!0),!0):c.run(),y.pause=c.pause.bind(c),y.resume=c.resume.bind(c),y.stop=y,y}function zn(e,t=1/0,n){if(t<=0||!dt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,vt(e))zn(e.value,t,n);else if(Me(e))for(let o=0;o<e.length;o++)zn(e[o],t,n);else if(Dr(e)||ar(e))e.forEach(o=>{zn(o,t,n)});else if(np(e)){for(const o in e)zn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&zn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gs(e,t,n,o){try{return o?e(...o):e()}catch(r){Va(r,t,n)}}function Nn(e,t,n,o){if(Le(e)){const r=Gs(e,t,n,o);return r&&ep(r)&&r.catch(s=>{Va(s,t,n)}),r}if(Me(e)){const r=[];for(let s=0;s<e.length;s++)r.push(Nn(e[s],t,n,o));return r}}function Va(e,t,n,o=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ht;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(s){Wn(),Gs(s,null,10,[e,l,u]),Yn();return}}Wv(e,n,r,o,i)}function Wv(e,t,n,o=!0,r=!1){if(r)throw e;console.error(e)}const Ft=[];let yn=-1;const lr=[];let so=null,nr=0;const Cp=Promise.resolve();let Ki=null;function Bt(e){const t=Ki||Cp;return e?t.then(this?e.bind(this):e):t}function Yv(e){let t=yn+1,n=Ft.length;for(;t<n;){const o=t+n>>>1,r=Ft[o],s=ks(r);s<e||s===e&&r.flags&2?t=o+1:n=o}return t}function uc(e){if(!(e.flags&1)){const t=ks(e),n=Ft[Ft.length-1];!n||!(e.flags&2)&&t>=ks(n)?Ft.push(e):Ft.splice(Yv(t),0,e),e.flags|=1,Np()}}function Np(){Ki||(Ki=Cp.then(Ap))}function Gv(e){Me(e)?lr.push(...e):so&&e.id===-1?so.splice(nr+1,0,e):e.flags&1||(lr.push(e),e.flags|=1),Np()}function Qc(e,t,n=yn+1){for(;n<Ft.length;n++){const o=Ft[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ft.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Tp(e){if(lr.length){const t=[...new Set(lr)].sort((n,o)=>ks(n)-ks(o));if(lr.length=0,so){so.push(...t);return}for(so=t,nr=0;nr<so.length;nr++){const n=so[nr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}so=null,nr=0}}const ks=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ap(e){try{for(yn=0;yn<Ft.length;yn++){const t=Ft[yn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yn<Ft.length;yn++){const t=Ft[yn];t&&(t.flags&=-2)}yn=-1,Ft.length=0,Tp(),Ki=null,(Ft.length||lr.length)&&Ap()}}let Ot=null,Ip=null;function Xi(e){const t=Ot;return Ot=e,Ip=e&&e.type.__scopeId||null,t}function Ve(e,t=Ot,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&ea(-1);const s=Xi(t);let i;try{i=e(...r)}finally{Xi(s),o._d&&ea(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function Be(e,t){if(Ot===null)return e;const n=La(Ot),o=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,i,a,l=ht]=t[r];s&&(Le(s)&&(s={mounted:s,updated:s}),s.deep&&zn(i),o.push({dir:s,instance:n,value:i,oldValue:void 0,arg:a,modifiers:l}))}return e}function So(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let l=a.dir[o];l&&(Wn(),Nn(l,n,8,[e.el,a,e,t]),Yn())}}const Zv=Symbol("_vte"),Kv=e=>e.__isTeleport,Xv=Symbol("_leaveCb");function cc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function at(e,t){return Le(e)?Ht({name:e.name},t,{setup:e}):e}function Op(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ji=new WeakMap;function ds(e,t,n,o,r=!1){if(Me(e)){e.forEach((p,v)=>ds(p,t&&(Me(t)?t[v]:t),n,o,r));return}if(ur(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ds(e,t,n,o.component.subTree);return}const s=o.shapeFlag&4?La(o.component):o.el,i=r?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===ht?a.refs={}:a.refs,d=a.setupState,h=tt(d),f=d===ht?Qh:p=>st(h,p);if(u!=null&&u!==l){if(ed(t),wt(u))c[u]=null,f(u)&&(d[u]=null);else if(vt(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(Le(l))Gs(l,a,12,[i,c]);else{const p=wt(l),v=vt(l);if(p||v){const g=()=>{if(e.f){const y=p?f(l)?d[l]:c[l]:l.value;if(r)Me(y)&&ec(y,s);else if(Me(y))y.includes(s)||y.push(s);else if(p)c[l]=[s],f(l)&&(d[l]=c[l]);else{const k=[s];l.value=k,e.k&&(c[e.k]=k)}}else p?(c[l]=i,f(l)&&(d[l]=i)):v&&(l.value=i,e.k&&(c[e.k]=i))};if(i){const y=()=>{g(),Ji.delete(e)};y.id=-1,Ji.set(e,y),Zt(y,n)}else ed(e),g()}}}function ed(e){const t=Ji.get(e);t&&(t.flags|=8,Ji.delete(e))}Oa().requestIdleCallback;Oa().cancelIdleCallback;const ur=e=>!!e.type.__asyncLoader,Rp=e=>e.type.__isKeepAlive;function Jv(e,t){Mp(e,"a",t)}function Qv(e,t){Mp(e,"da",t)}function Mp(e,t,n=Pt){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Ha(t,o,n),n){let r=n.parent;for(;r&&r.parent;)Rp(r.parent.vnode)&&e0(o,t,n,r),r=r.parent}}function e0(e,t,n,o){const r=Ha(t,e,o,!0);Vr(()=>{ec(o[t],r)},n)}function Ha(e,t,n=Pt,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{Wn();const a=Zs(n),l=Nn(t,n,e,i);return a(),Yn(),l});return o?r.unshift(s):r.push(s),s}}const Jn=e=>(t,n=Pt)=>{(!$s||e==="sp")&&Ha(e,(...o)=>t(...o),n)},Dp=Jn("bm"),Et=Jn("m"),t0=Jn("bu"),n0=Jn("u"),dc=Jn("bum"),Vr=Jn("um"),o0=Jn("sp"),r0=Jn("rtg"),s0=Jn("rtc");function i0(e,t=Pt){Ha("ec",e,t)}const Pp="components";function fc(e,t){return Hp(Pp,e,!0,t)||e}const Vp=Symbol.for("v-ndc");function fo(e){return wt(e)?Hp(Pp,e,!1)||e:e||Vp}function Hp(e,t,n=!0,o=!1){const r=Ot||Pt;if(r){const s=r.type;{const a=Y0(s,!1);if(a&&(a===t||a===Qt(t)||a===Ia(Qt(t))))return s}const i=td(r[e]||s[e],t)||td(r.appContext[e],t);return!i&&o?s:i}}function td(e,t){return e&&(e[t]||e[Qt(t)]||e[Ia(Qt(t))])}function ct(e,t,n,o){let r;const s=n&&n[o],i=Me(e);if(i||wt(e)){const a=i&&mo(e);let l=!1,u=!1;a&&(l=!Jt(e),u=bo(e),e=Pa(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?Gi(It(e[c])):It(e[c]):e[c],c,void 0,s&&s[c])}else if(typeof e=="number"){r=new Array(e);for(let a=0;a<e;a++)r[a]=t(a+1,a,void 0,s&&s[a])}else if(dt(e))if(e[Symbol.iterator])r=Array.from(e,(a,l)=>t(a,l,void 0,s&&s[l]));else{const a=Object.keys(e);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=t(e[c],c,l,s&&s[l])}}else r=[];return n&&(n[o]=r),r}function bt(e,t,n={},o,r){if(Ot.ce||Ot.parent&&ur(Ot.parent)&&Ot.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),V(),pt(Pe,null,[ce("slot",n,o&&o())],u?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),V();const i=s&&zp(s(n)),a=n.key||i&&i.key,l=pt(Pe,{key:(a&&!un(a)?a:`_${t}`)+(!i&&o?"_fb":"")},i||(o?o():[]),i&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function zp(e){return e.some(t=>Es(t)?!(t.type===Gn||t.type===Pe&&!zp(t.children)):!0)?e:null}const Zl=e=>e?ig(e)?La(e):Zl(e.parent):null,fs=Ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zl(e.parent),$root:e=>Zl(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>jp(e),$forceUpdate:e=>e.f||(e.f=()=>{uc(e.update)}),$nextTick:e=>e.n||(e.n=Bt.bind(e.proxy)),$watch:e=>A0.bind(e)}),yl=(e,t)=>e!==ht&&!e.__isScriptSetup&&st(e,t),a0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const f=i[t];if(f!==void 0)switch(f){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(yl(o,t))return i[t]=1,o[t];if(r!==ht&&st(r,t))return i[t]=2,r[t];if((u=e.propsOptions[0])&&st(u,t))return i[t]=3,s[t];if(n!==ht&&st(n,t))return i[t]=4,n[t];Kl&&(i[t]=0)}}const c=fs[t];let d,h;if(c)return t==="$attrs"&&Dt(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==ht&&st(n,t))return i[t]=4,n[t];if(h=l.config.globalProperties,st(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return yl(r,t)?(r[t]=n,!0):o!==ht&&st(o,t)?(o[t]=n,!0):st(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s,type:i}},a){let l,u;return!!(n[a]||e!==ht&&a[0]!=="$"&&st(e,a)||yl(t,a)||(l=s[0])&&st(l,a)||st(o,a)||st(fs,a)||st(r.config.globalProperties,a)||(u=i.__cssModules)&&u[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:st(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Fp(){return Lp().slots}function hc(){return Lp().attrs}function Lp(e){const t=Qn();return t.setupContext||(t.setupContext=lg(t))}function nd(e){return Me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function l0(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let Kl=!0;function u0(e){const t=jp(e),n=e.proxy,o=e.ctx;Kl=!1,t.beforeCreate&&od(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:v,deactivated:g,beforeDestroy:y,beforeUnmount:k,destroyed:_,unmounted:O,render:G,renderTracked:q,renderTriggered:L,errorCaptured:M,serverPrefetch:F,expose:W,inheritAttrs:z,components:N,directives:Y,filters:m}=t;if(u&&c0(u,o,null),i)for(const H in i){const P=i[H];Le(P)&&(o[H]=P.bind(n))}if(r){const H=r.call(n,n);dt(H)&&(e.data=Pr(H))}if(Kl=!0,s)for(const H in s){const P=s[H],Q=Le(P)?P.bind(n,n):Le(P.get)?P.get.bind(n,n):En,Z=!Le(P)&&Le(P.set)?P.set.bind(n):En,oe=ne({get:Q,set:Z});Object.defineProperty(o,H,{enumerable:!0,configurable:!0,get:()=>oe.value,set:fe=>oe.value=fe})}if(a)for(const H in a)Bp(a[H],o,n,H);if(l){const H=Le(l)?l.call(n):l;Reflect.ownKeys(H).forEach(P=>{ln(P,H[P])})}c&&od(c,e,"c");function S(H,P){Me(P)?P.forEach(Q=>H(Q.bind(n))):P&&H(P.bind(n))}if(S(Dp,d),S(Et,h),S(t0,f),S(n0,p),S(Jv,v),S(Qv,g),S(i0,M),S(s0,q),S(r0,L),S(dc,k),S(Vr,O),S(o0,F),Me(W))if(W.length){const H=e.exposed||(e.exposed={});W.forEach(P=>{Object.defineProperty(H,P,{get:()=>n[P],set:Q=>n[P]=Q,enumerable:!0})})}else e.exposed||(e.exposed={});G&&e.render===En&&(e.render=G),z!=null&&(e.inheritAttrs=z),N&&(e.components=N),Y&&(e.directives=Y),F&&Op(e)}function c0(e,t,n=En){Me(e)&&(e=Xl(e));for(const o in e){const r=e[o];let s;dt(r)?"default"in r?s=Tt(r.from||o,r.default,!0):s=Tt(r.from||o):s=Tt(r),vt(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:i=>s.value=i}):t[o]=s}}function od(e,t,n){Nn(Me(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Bp(e,t,n,o){let r=o.includes(".")?tg(n,o):()=>n[o];if(wt(e)){const s=t[e];Le(s)&&ze(r,s)}else if(Le(e))ze(r,e.bind(n));else if(dt(e))if(Me(e))e.forEach(s=>Bp(s,t,n,o));else{const s=Le(e.handler)?e.handler.bind(n):t[e.handler];Le(s)&&ze(r,s,e)}}function jp(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let l;return a?l=a:!r.length&&!n&&!o?l=t:(l={},r.length&&r.forEach(u=>Qi(l,u,i,!0)),Qi(l,t,i)),dt(t)&&s.set(t,l),l}function Qi(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&Qi(e,s,n,!0),r&&r.forEach(i=>Qi(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=d0[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const d0={data:rd,props:sd,emits:sd,methods:Xr,computed:Xr,beforeCreate:zt,created:zt,beforeMount:zt,mounted:zt,beforeUpdate:zt,updated:zt,beforeDestroy:zt,beforeUnmount:zt,destroyed:zt,unmounted:zt,activated:zt,deactivated:zt,errorCaptured:zt,serverPrefetch:zt,components:Xr,directives:Xr,watch:h0,provide:rd,inject:f0};function rd(e,t){return t?e?function(){return Ht(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function f0(e,t){return Xr(Xl(e),Xl(t))}function Xl(e){if(Me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zt(e,t){return e?[...new Set([].concat(e,t))]:t}function Xr(e,t){return e?Ht(Object.create(null),e,t):t}function sd(e,t){return e?Me(e)&&Me(t)?[...new Set([...e,...t])]:Ht(Object.create(null),nd(e),nd(t??{})):t}function h0(e,t){if(!e)return t;if(!t)return e;const n=Ht(Object.create(null),e);for(const o in t)n[o]=zt(e[o],t[o]);return n}function Up(){return{app:null,config:{isNativeTag:Qh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let p0=0;function g0(e,t){return function(o,r=null){Le(o)||(o=Ht({},o)),r!=null&&!dt(r)&&(r=null);const s=Up(),i=new WeakSet,a=[];let l=!1;const u=s.app={_uid:p0++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:K0,get config(){return s.config},set config(c){},use(c,...d){return i.has(c)||(c&&Le(c.install)?(i.add(c),c.install(u,...d)):Le(c)&&(i.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,h){if(!l){const f=u._ceVNode||ce(o,r);return f.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),e(f,c,h),l=!0,u._container=c,c.__vue_app__=u,La(f.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Nn(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=Po;Po=u;try{return c()}finally{Po=d}}};return u}}let Po=null;function ln(e,t){if(Pt){let n=Pt.provides;const o=Pt.parent&&Pt.parent.provides;o===n&&(n=Pt.provides=Object.create(o)),n[e]=t}}function Tt(e,t,n=!1){const o=Qn();if(o||Po){let r=Po?Po._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&Le(t)?t.call(o&&o.proxy):t}}function m0(){return!!(Qn()||Po)}const qp={},Wp=()=>Object.create(qp),Yp=e=>Object.getPrototypeOf(e)===qp;function y0(e,t,n,o=!1){const r={},s=Wp();e.propsDefaults=Object.create(null),Gp(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:wp(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function v0(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=tt(r),[l]=e.propsOptions;let u=!1;if((o||i>0)&&!(i&16)){if(i&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(za(e.emitsOptions,h))continue;const f=t[h];if(l)if(st(s,h))f!==s[h]&&(s[h]=f,u=!0);else{const p=Qt(h);r[p]=Jl(l,a,p,f,e,!1)}else f!==s[h]&&(s[h]=f,u=!0)}}}else{Gp(e,t,r,s)&&(u=!0);let c;for(const d in a)(!t||!st(t,d)&&((c=ko(d))===d||!st(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=Jl(l,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!st(t,d))&&(delete s[d],u=!0)}u&&Hn(e.attrs,"set","")}function Gp(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let l in t){if(as(l))continue;const u=t[l];let c;r&&st(r,c=Qt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:za(e.emitsOptions,l)||(!(l in o)||u!==o[l])&&(o[l]=u,i=!0)}if(s){const l=tt(n),u=a||ht;for(let c=0;c<s.length;c++){const d=s[c];n[d]=Jl(r,l,d,u[d],e,!st(u,d))}}return i}function Jl(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=st(i,"default");if(a&&o===void 0){const l=i.default;if(i.type!==Function&&!i.skipFactory&&Le(l)){const{propsDefaults:u}=r;if(n in u)o=u[n];else{const c=Zs(r);o=u[n]=l.call(null,t),c()}}else o=l;r.ce&&r.ce._setProp(n,o)}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===ko(n))&&(o=!0))}return o}const b0=new WeakMap;function Zp(e,t,n=!1){const o=n?b0:t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let l=!1;if(!Le(e)){const c=d=>{l=!0;const[h,f]=Zp(d,t,!0);Ht(i,h),f&&a.push(...f)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return dt(e)&&o.set(e,ir),ir;if(Me(s))for(let c=0;c<s.length;c++){const d=Qt(s[c]);id(d)&&(i[d]=ht)}else if(s)for(const c in s){const d=Qt(c);if(id(d)){const h=s[c],f=i[d]=Me(h)||Le(h)?{type:h}:Ht({},h),p=f.type;let v=!1,g=!0;if(Me(p))for(let y=0;y<p.length;++y){const k=p[y],_=Le(k)&&k.name;if(_==="Boolean"){v=!0;break}else _==="String"&&(g=!1)}else v=Le(p)&&p.name==="Boolean";f[0]=v,f[1]=g,(v||st(f,"default"))&&a.push(d)}}const u=[i,a];return dt(e)&&o.set(e,u),u}function id(e){return e[0]!=="$"&&!as(e)}const pc=e=>e==="_"||e==="_ctx"||e==="$stable",gc=e=>Me(e)?e.map(bn):[bn(e)],x0=(e,t,n)=>{if(t._n)return t;const o=Ve((...r)=>gc(t(...r)),n);return o._c=!1,o},Kp=(e,t,n)=>{const o=e._ctx;for(const r in e){if(pc(r))continue;const s=e[r];if(Le(s))t[r]=x0(r,s,o);else if(s!=null){const i=gc(s);t[r]=()=>i}}},Xp=(e,t)=>{const n=gc(t);e.slots.default=()=>n},Jp=(e,t,n)=>{for(const o in t)(n||!pc(o))&&(e[o]=t[o])},_0=(e,t,n)=>{const o=e.slots=Wp();if(e.vnode.shapeFlag&32){const r=t._;r?(Jp(o,t,n),n&&op(o,"_",r,!0)):Kp(t,o)}else t&&Xp(e,t)},w0=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=ht;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:Jp(r,t,n):(s=!t.$stable,Kp(t,r)),i=t}else t&&(Xp(e,t),i={default:1});if(s)for(const a in r)!pc(a)&&i[a]==null&&delete r[a]},Zt=H0;function k0(e){return E0(e)}function E0(e,t){const n=Oa();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=En,insertStaticContent:p}=e,v=(A,R,b,w=null,C=null,$=null,U=void 0,ee=null,E=!!R.dynamicChildren)=>{if(A===R)return;A&&!Lr(A,R)&&(w=K(A),fe(A,C,$,!0),A=null),R.patchFlag===-2&&(E=!1,R.dynamicChildren=null);const{type:I,ref:D,shapeFlag:J}=R;switch(I){case Fa:g(A,R,b,w);break;case Gn:y(A,R,b,w);break;case $i:A==null&&k(R,b,w,U);break;case Pe:N(A,R,b,w,C,$,U,ee,E);break;default:J&1?G(A,R,b,w,C,$,U,ee,E):J&6?Y(A,R,b,w,C,$,U,ee,E):(J&64||J&128)&&I.process(A,R,b,w,C,$,U,ee,E,ve)}D!=null&&C?ds(D,A&&A.ref,$,R||A,!R):D==null&&A&&A.ref!=null&&ds(A.ref,null,$,A,!0)},g=(A,R,b,w)=>{if(A==null)o(R.el=a(R.children),b,w);else{const C=R.el=A.el;R.children!==A.children&&u(C,R.children)}},y=(A,R,b,w)=>{A==null?o(R.el=l(R.children||""),b,w):R.el=A.el},k=(A,R,b,w)=>{[A.el,A.anchor]=p(A.children,R,b,w,A.el,A.anchor)},_=({el:A,anchor:R},b,w)=>{let C;for(;A&&A!==R;)C=h(A),o(A,b,w),A=C;o(R,b,w)},O=({el:A,anchor:R})=>{let b;for(;A&&A!==R;)b=h(A),r(A),A=b;r(R)},G=(A,R,b,w,C,$,U,ee,E)=>{R.type==="svg"?U="svg":R.type==="math"&&(U="mathml"),A==null?q(R,b,w,C,$,U,ee,E):F(A,R,C,$,U,ee,E)},q=(A,R,b,w,C,$,U,ee)=>{let E,I;const{props:D,shapeFlag:J,transition:se,dirs:ue}=A;if(E=A.el=i(A.type,$,D&&D.is,D),J&8?c(E,A.children):J&16&&M(A.children,E,null,w,C,vl(A,$),U,ee),ue&&So(A,null,w,"created"),L(E,A,A.scopeId,U,w),D){for(const Oe in D)Oe!=="value"&&!as(Oe)&&s(E,Oe,null,D[Oe],$,w);"value"in D&&s(E,"value",null,D.value,$),(I=D.onVnodeBeforeMount)&&pn(I,w,A)}ue&&So(A,null,w,"beforeMount");const ke=S0(C,se);ke&&se.beforeEnter(E),o(E,R,b),((I=D&&D.onVnodeMounted)||ke||ue)&&Zt(()=>{I&&pn(I,w,A),ke&&se.enter(E),ue&&So(A,null,w,"mounted")},C)},L=(A,R,b,w,C)=>{if(b&&f(A,b),w)for(let $=0;$<w.length;$++)f(A,w[$]);if(C){let $=C.subTree;if(R===$||og($.type)&&($.ssContent===R||$.ssFallback===R)){const U=C.vnode;L(A,U,U.scopeId,U.slotScopeIds,C.parent)}}},M=(A,R,b,w,C,$,U,ee,E=0)=>{for(let I=E;I<A.length;I++){const D=A[I]=ee?io(A[I]):bn(A[I]);v(null,D,R,b,w,C,$,U,ee)}},F=(A,R,b,w,C,$,U)=>{const ee=R.el=A.el;let{patchFlag:E,dynamicChildren:I,dirs:D}=R;E|=A.patchFlag&16;const J=A.props||ht,se=R.props||ht;let ue;if(b&&$o(b,!1),(ue=se.onVnodeBeforeUpdate)&&pn(ue,b,R,A),D&&So(R,A,b,"beforeUpdate"),b&&$o(b,!0),(J.innerHTML&&se.innerHTML==null||J.textContent&&se.textContent==null)&&c(ee,""),I?W(A.dynamicChildren,I,ee,b,w,vl(R,C),$):U||P(A,R,ee,null,b,w,vl(R,C),$,!1),E>0){if(E&16)z(ee,J,se,b,C);else if(E&2&&J.class!==se.class&&s(ee,"class",null,se.class,C),E&4&&s(ee,"style",J.style,se.style,C),E&8){const ke=R.dynamicProps;for(let Oe=0;Oe<ke.length;Oe++){const Re=ke[Oe],De=J[Re],Ue=se[Re];(Ue!==De||Re==="value")&&s(ee,Re,De,Ue,C,b)}}E&1&&A.children!==R.children&&c(ee,R.children)}else!U&&I==null&&z(ee,J,se,b,C);((ue=se.onVnodeUpdated)||D)&&Zt(()=>{ue&&pn(ue,b,R,A),D&&So(R,A,b,"updated")},w)},W=(A,R,b,w,C,$,U)=>{for(let ee=0;ee<R.length;ee++){const E=A[ee],I=R[ee],D=E.el&&(E.type===Pe||!Lr(E,I)||E.shapeFlag&198)?d(E.el):b;v(E,I,D,null,w,C,$,U,!0)}},z=(A,R,b,w,C)=>{if(R!==b){if(R!==ht)for(const $ in R)!as($)&&!($ in b)&&s(A,$,R[$],null,C,w);for(const $ in b){if(as($))continue;const U=b[$],ee=R[$];U!==ee&&$!=="value"&&s(A,$,ee,U,C,w)}"value"in b&&s(A,"value",R.value,b.value,C)}},N=(A,R,b,w,C,$,U,ee,E)=>{const I=R.el=A?A.el:a(""),D=R.anchor=A?A.anchor:a("");let{patchFlag:J,dynamicChildren:se,slotScopeIds:ue}=R;ue&&(ee=ee?ee.concat(ue):ue),A==null?(o(I,b,w),o(D,b,w),M(R.children||[],b,D,C,$,U,ee,E)):J>0&&J&64&&se&&A.dynamicChildren?(W(A.dynamicChildren,se,b,C,$,U,ee),(R.key!=null||C&&R===C.subTree)&&Qp(A,R,!0)):P(A,R,b,D,C,$,U,ee,E)},Y=(A,R,b,w,C,$,U,ee,E)=>{R.slotScopeIds=ee,A==null?R.shapeFlag&512?C.ctx.activate(R,b,w,U,E):m(R,b,w,C,$,U,E):T(A,R,E)},m=(A,R,b,w,C,$,U)=>{const ee=A.component=j0(A,w,C);if(Rp(A)&&(ee.ctx.renderer=ve),U0(ee,!1,U),ee.asyncDep){if(C&&C.registerDep(ee,S,U),!A.el){const E=ee.subTree=ce(Gn);y(null,E,R,b),A.placeholder=E.el}}else S(ee,A,R,b,C,$,U)},T=(A,R,b)=>{const w=R.component=A.component;if(P0(A,R,b))if(w.asyncDep&&!w.asyncResolved){H(w,R,b);return}else w.next=R,w.update();else R.el=A.el,w.vnode=R},S=(A,R,b,w,C,$,U)=>{const ee=()=>{if(A.isMounted){let{next:J,bu:se,u:ue,parent:ke,vnode:Oe}=A;{const j=eg(A);if(j){J&&(J.el=Oe.el,H(A,J,U)),j.asyncDep.then(()=>{A.isUnmounted||ee()});return}}let Re=J,De;$o(A,!1),J?(J.el=Oe.el,H(A,J,U)):J=Oe,se&&Si(se),(De=J.props&&J.props.onVnodeBeforeUpdate)&&pn(De,ke,J,Oe),$o(A,!0);const Ue=ld(A),et=A.subTree;A.subTree=Ue,v(et,Ue,d(et.el),K(et),A,C,$),J.el=Ue.el,Re===null&&V0(A,Ue.el),ue&&Zt(ue,C),(De=J.props&&J.props.onVnodeUpdated)&&Zt(()=>pn(De,ke,J,Oe),C)}else{let J;const{el:se,props:ue}=R,{bm:ke,m:Oe,parent:Re,root:De,type:Ue}=A,et=ur(R);$o(A,!1),ke&&Si(ke),!et&&(J=ue&&ue.onVnodeBeforeMount)&&pn(J,Re,R),$o(A,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle(Ue);const j=A.subTree=ld(A);v(null,j,b,w,A,C,$),R.el=j.el}if(Oe&&Zt(Oe,C),!et&&(J=ue&&ue.onVnodeMounted)){const j=R;Zt(()=>pn(J,Re,j),C)}(R.shapeFlag&256||Re&&ur(Re.vnode)&&Re.vnode.shapeFlag&256)&&A.a&&Zt(A.a,C),A.isMounted=!0,R=b=w=null}};A.scope.on();const E=A.effect=new lp(ee);A.scope.off();const I=A.update=E.run.bind(E),D=A.job=E.runIfDirty.bind(E);D.i=A,D.id=A.uid,E.scheduler=()=>uc(D),$o(A,!0),I()},H=(A,R,b)=>{R.component=A;const w=A.vnode.props;A.vnode=R,A.next=null,v0(A,R.props,w,b),w0(A,R.children,b),Wn(),Qc(A),Yn()},P=(A,R,b,w,C,$,U,ee,E=!1)=>{const I=A&&A.children,D=A?A.shapeFlag:0,J=R.children,{patchFlag:se,shapeFlag:ue}=R;if(se>0){if(se&128){Z(I,J,b,w,C,$,U,ee,E);return}else if(se&256){Q(I,J,b,w,C,$,U,ee,E);return}}ue&8?(D&16&&ye(I,C,$),J!==I&&c(b,J)):D&16?ue&16?Z(I,J,b,w,C,$,U,ee,E):ye(I,C,$,!0):(D&8&&c(b,""),ue&16&&M(J,b,w,C,$,U,ee,E))},Q=(A,R,b,w,C,$,U,ee,E)=>{A=A||ir,R=R||ir;const I=A.length,D=R.length,J=Math.min(I,D);let se;for(se=0;se<J;se++){const ue=R[se]=E?io(R[se]):bn(R[se]);v(A[se],ue,b,null,C,$,U,ee,E)}I>D?ye(A,C,$,!0,!1,J):M(R,b,w,C,$,U,ee,E,J)},Z=(A,R,b,w,C,$,U,ee,E)=>{let I=0;const D=R.length;let J=A.length-1,se=D-1;for(;I<=J&&I<=se;){const ue=A[I],ke=R[I]=E?io(R[I]):bn(R[I]);if(Lr(ue,ke))v(ue,ke,b,null,C,$,U,ee,E);else break;I++}for(;I<=J&&I<=se;){const ue=A[J],ke=R[se]=E?io(R[se]):bn(R[se]);if(Lr(ue,ke))v(ue,ke,b,null,C,$,U,ee,E);else break;J--,se--}if(I>J){if(I<=se){const ue=se+1,ke=ue<D?R[ue].el:w;for(;I<=se;)v(null,R[I]=E?io(R[I]):bn(R[I]),b,ke,C,$,U,ee,E),I++}}else if(I>se)for(;I<=J;)fe(A[I],C,$,!0),I++;else{const ue=I,ke=I,Oe=new Map;for(I=ke;I<=se;I++){const pe=R[I]=E?io(R[I]):bn(R[I]);pe.key!=null&&Oe.set(pe.key,I)}let Re,De=0;const Ue=se-ke+1;let et=!1,j=0;const re=new Array(Ue);for(I=0;I<Ue;I++)re[I]=0;for(I=ue;I<=J;I++){const pe=A[I];if(De>=Ue){fe(pe,C,$,!0);continue}let _e;if(pe.key!=null)_e=Oe.get(pe.key);else for(Re=ke;Re<=se;Re++)if(re[Re-ke]===0&&Lr(pe,R[Re])){_e=Re;break}_e===void 0?fe(pe,C,$,!0):(re[_e-ke]=I+1,_e>=j?j=_e:et=!0,v(pe,R[_e],b,null,C,$,U,ee,E),De++)}const me=et?$0(re):ir;for(Re=me.length-1,I=Ue-1;I>=0;I--){const pe=ke+I,_e=R[pe],Ie=R[pe+1],we=pe+1<D?Ie.el||Ie.placeholder:w;re[I]===0?v(null,_e,b,we,C,$,U,ee,E):et&&(Re<0||I!==me[Re]?oe(_e,b,we,2):Re--)}}},oe=(A,R,b,w,C=null)=>{const{el:$,type:U,transition:ee,children:E,shapeFlag:I}=A;if(I&6){oe(A.component.subTree,R,b,w);return}if(I&128){A.suspense.move(R,b,w);return}if(I&64){U.move(A,R,b,ve);return}if(U===Pe){o($,R,b);for(let J=0;J<E.length;J++)oe(E[J],R,b,w);o(A.anchor,R,b);return}if(U===$i){_(A,R,b);return}if(w!==2&&I&1&&ee)if(w===0)ee.beforeEnter($),o($,R,b),Zt(()=>ee.enter($),C);else{const{leave:J,delayLeave:se,afterLeave:ue}=ee,ke=()=>{A.ctx.isUnmounted?r($):o($,R,b)},Oe=()=>{$._isLeaving&&$[Xv](!0),J($,()=>{ke(),ue&&ue()})};se?se($,ke,Oe):Oe()}else o($,R,b)},fe=(A,R,b,w=!1,C=!1)=>{const{type:$,props:U,ref:ee,children:E,dynamicChildren:I,shapeFlag:D,patchFlag:J,dirs:se,cacheIndex:ue}=A;if(J===-2&&(C=!1),ee!=null&&(Wn(),ds(ee,null,b,A,!0),Yn()),ue!=null&&(R.renderCache[ue]=void 0),D&256){R.ctx.deactivate(A);return}const ke=D&1&&se,Oe=!ur(A);let Re;if(Oe&&(Re=U&&U.onVnodeBeforeUnmount)&&pn(Re,R,A),D&6)de(A.component,b,w);else{if(D&128){A.suspense.unmount(b,w);return}ke&&So(A,null,R,"beforeUnmount"),D&64?A.type.remove(A,R,b,ve,w):I&&!I.hasOnce&&($!==Pe||J>0&&J&64)?ye(I,R,b,!1,!0):($===Pe&&J&384||!C&&D&16)&&ye(E,R,b),w&&X(A)}(Oe&&(Re=U&&U.onVnodeUnmounted)||ke)&&Zt(()=>{Re&&pn(Re,R,A),ke&&So(A,null,R,"unmounted")},b)},X=A=>{const{type:R,el:b,anchor:w,transition:C}=A;if(R===Pe){le(b,w);return}if(R===$i){O(A);return}const $=()=>{r(b),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(A.shapeFlag&1&&C&&!C.persisted){const{leave:U,delayLeave:ee}=C,E=()=>U(b,$);ee?ee(A.el,$,E):E()}else $()},le=(A,R)=>{let b;for(;A!==R;)b=h(A),r(A),A=b;r(R)},de=(A,R,b)=>{const{bum:w,scope:C,job:$,subTree:U,um:ee,m:E,a:I}=A;ad(E),ad(I),w&&Si(w),C.stop(),$&&($.flags|=8,fe(U,A,R,b)),ee&&Zt(ee,R),Zt(()=>{A.isUnmounted=!0},R)},ye=(A,R,b,w=!1,C=!1,$=0)=>{for(let U=$;U<A.length;U++)fe(A[U],R,b,w,C)},K=A=>{if(A.shapeFlag&6)return K(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const R=h(A.anchor||A.el),b=R&&R[Zv];return b?h(b):R};let ae=!1;const ie=(A,R,b)=>{A==null?R._vnode&&fe(R._vnode,null,null,!0):v(R._vnode||null,A,R,null,null,null,b),R._vnode=A,ae||(ae=!0,Qc(),Tp(),ae=!1)},ve={p:v,um:fe,m:oe,r:X,mt:m,mc:M,pc:P,pbc:W,n:K,o:e};return{render:ie,hydrate:void 0,createApp:g0(ie)}}function vl({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function $o({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function S0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qp(e,t,n=!1){const o=e.children,r=t.children;if(Me(o)&&Me(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=io(r[s]),a.el=i.el),!n&&a.patchFlag!==-2&&Qp(i,a)),a.type===Fa&&a.patchFlag!==-1&&(a.el=i.el),a.type===Gn&&!a.el&&(a.el=i.el)}}function $0(e){const t=e.slice(),n=[0];let o,r,s,i,a;const l=e.length;for(o=0;o<l;o++){const u=e[o];if(u!==0){if(r=n[n.length-1],e[r]<u){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<u?s=a+1:i=a;u<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}function eg(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:eg(t)}function ad(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const C0=Symbol.for("v-scx"),N0=()=>Tt(C0);function T0(e,t){return mc(e,null,t)}function ze(e,t,n){return mc(e,t,n)}function mc(e,t,n=ht){const{immediate:o,deep:r,flush:s,once:i}=n,a=Ht({},n),l=t&&o||!t&&s!=="post";let u;if($s){if(s==="sync"){const f=N0();u=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=En,f.resume=En,f.pause=En,f}}const c=Pt;a.call=(f,p,v)=>Nn(f,c,p,v);let d=!1;s==="post"?a.scheduler=f=>{Zt(f,c&&c.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():uc(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,c&&(f.id=c.uid,f.i=c))};const h=qv(e,t,a);return $s&&(u?u.push(h):l&&h()),h}function A0(e,t,n){const o=this.proxy,r=wt(e)?e.includes(".")?tg(o,e):()=>o[e]:e.bind(o,o);let s;Le(t)?s=t:(s=t.handler,n=t);const i=Zs(this),a=mc(r,s.bind(o),n);return i(),a}function tg(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}const I0=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Qt(t)}Modifiers`]||e[`${ko(t)}Modifiers`];function O0(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||ht;let r=n;const s=t.startsWith("update:"),i=s&&I0(o,t.slice(7));i&&(i.trim&&(r=n.map(c=>wt(c)?c.trim():c)),i.number&&(r=n.map(qi)));let a,l=o[a=fl(t)]||o[a=fl(Qt(t))];!l&&s&&(l=o[a=fl(ko(t))]),l&&Nn(l,e,6,r);const u=o[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Nn(u,e,6,r)}}const R0=new WeakMap;function ng(e,t,n=!1){const o=n?R0:t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!Le(e)){const l=u=>{const c=ng(u,t,!0);c&&(a=!0,Ht(i,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(dt(e)&&o.set(e,null),null):(Me(s)?s.forEach(l=>i[l]=null):Ht(i,s),dt(e)&&o.set(e,i),i)}function za(e,t){return!e||!Ta(t)?!1:(t=t.slice(2).replace(/Once$/,""),st(e,t[0].toLowerCase()+t.slice(1))||st(e,ko(t))||st(e,t))}function ld(e){const{type:t,vnode:n,proxy:o,withProxy:r,propsOptions:[s],slots:i,attrs:a,emit:l,render:u,renderCache:c,props:d,data:h,setupState:f,ctx:p,inheritAttrs:v}=e,g=Xi(e);let y,k;try{if(n.shapeFlag&4){const O=r||o,G=O;y=bn(u.call(G,O,c,d,f,h,p)),k=a}else{const O=t;y=bn(O.length>1?O(d,{attrs:a,slots:i,emit:l}):O(d,null)),k=t.props?a:M0(a)}}catch(O){hs.length=0,Va(O,e,1),y=ce(Gn)}let _=y;if(k&&v!==!1){const O=Object.keys(k),{shapeFlag:G}=_;O.length&&G&7&&(s&&O.some(Qu)&&(k=D0(k,s)),_=mr(_,k,!1,!0))}return n.dirs&&(_=mr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&cc(_,n.transition),y=_,Xi(g),y}const M0=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ta(n))&&((t||(t={}))[n]=e[n]);return t},D0=(e,t)=>{const n={};for(const o in e)(!Qu(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function P0(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return o?ud(o,i,u):!!i;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(i[h]!==o[h]&&!za(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?ud(o,i,u):!0:!!i;return!1}function ud(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!za(n,s))return!0}return!1}function V0({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const og=e=>e.__isSuspense;function H0(e,t){t&&t.pendingBranch?Me(e)?t.effects.push(...e):t.effects.push(e):Gv(e)}const Pe=Symbol.for("v-fgt"),Fa=Symbol.for("v-txt"),Gn=Symbol.for("v-cmt"),$i=Symbol.for("v-stc"),hs=[];let Lt=null;function V(e=!1){hs.push(Lt=e?null:[])}function z0(){hs.pop(),Lt=hs[hs.length-1]||null}let gr=1;function ea(e,t=!1){gr+=e,e<0&&Lt&&t&&(Lt.hasOnce=!0)}function rg(e){return e.dynamicChildren=gr>0?Lt||ir:null,z0(),gr>0&&Lt&&Lt.push(e),e}function B(e,t,n,o,r,s){return rg(x(e,t,n,o,r,s,!0))}function pt(e,t,n,o,r){return rg(ce(e,t,n,o,r,!0))}function Es(e){return e?e.__v_isVNode===!0:!1}function Lr(e,t){return e.type===t.type&&e.key===t.key}const sg=({key:e})=>e??null,Ci=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?wt(e)||vt(e)||Le(e)?{i:Ot,r:e,k:t,f:!!n}:e:null);function x(e,t=null,n=null,o=0,r=null,s=e===Pe?0:1,i=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sg(t),ref:t&&Ci(t),scopeId:Ip,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ot};return a?(yc(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=wt(n)?8:16),gr>0&&!i&&Lt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Lt.push(l),l}const ce=F0;function F0(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===Vp)&&(e=Gn),Es(e)){const a=mr(e,t,!0);return n&&yc(a,n),gr>0&&!s&&Lt&&(a.shapeFlag&6?Lt[Lt.indexOf(e)]=a:Lt.push(a)),a.patchFlag=-2,a}if(G0(e)&&(e=e.__vccOpts),t){t=Ye(t);let{class:a,style:l}=t;a&&!wt(a)&&(t.class=nt(a)),dt(l)&&(lc(l)&&!Me(l)&&(l=Ht({},l)),t.style=gt(l))}const i=wt(e)?1:og(e)?128:Kv(e)?64:dt(e)?4:Le(e)?2:0;return x(e,t,n,o,r,i,s,!0)}function Ye(e){return e?lc(e)||Yp(e)?Ht({},e):e:null}function mr(e,t,n=!1,o=!1){const{props:r,ref:s,patchFlag:i,children:a,transition:l}=e,u=t?Ss(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&sg(u),ref:t&&t.ref?n&&s?Me(s)?s.concat(Ci(t)):[s,Ci(t)]:Ci(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mr(e.ssContent),ssFallback:e.ssFallback&&mr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&o&&cc(c,l.clone(c)),c}function ut(e=" ",t=0){return ce(Fa,null,e,t)}function yr(e,t){const n=ce($i,null,e);return n.staticCount=t,n}function Ee(e="",t=!1){return t?(V(),pt(Gn,null,e)):ce(Gn,null,e)}function bn(e){return e==null||typeof e=="boolean"?ce(Gn):Me(e)?ce(Pe,null,e.slice()):Es(e)?io(e):ce(Fa,null,String(e))}function io(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mr(e)}function yc(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Me(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),yc(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!Yp(t)?t._ctx=Ot:r===3&&Ot&&(Ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:Ot},n=32):(t=String(t),o&64?(n=16,t=[ut(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ss(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=nt([t.class,o.class]));else if(r==="style")t.style=gt([t.style,o.style]);else if(Ta(r)){const s=t[r],i=o[r];i&&s!==i&&!(Me(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function pn(e,t,n,o=null){Nn(e,t,7,[n,o])}const L0=Up();let B0=0;function j0(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||L0,s={uid:B0++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ap(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zp(o,r),emitsOptions:ng(o,r),emit:null,emitted:null,propsDefaults:ht,inheritAttrs:o.inheritAttrs,ctx:ht,data:ht,props:ht,attrs:ht,slots:ht,refs:ht,setupState:ht,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=O0.bind(null,s),e.ce&&e.ce(s),s}let Pt=null;const Qn=()=>Pt||Ot;let ta,Ql;{const e=Oa(),t=(n,o)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(o),s=>{r.length>1?r.forEach(i=>i(s)):r[0](s)}};ta=t("__VUE_INSTANCE_SETTERS__",n=>Pt=n),Ql=t("__VUE_SSR_SETTERS__",n=>$s=n)}const Zs=e=>{const t=Pt;return ta(e),e.scope.on(),()=>{e.scope.off(),ta(t)}},cd=()=>{Pt&&Pt.scope.off(),ta(null)};function ig(e){return e.vnode.shapeFlag&4}let $s=!1;function U0(e,t=!1,n=!1){t&&Ql(t);const{props:o,children:r}=e.vnode,s=ig(e);y0(e,o,s,t),_0(e,r,n||t);const i=s?q0(e,t):void 0;return t&&Ql(!1),i}function q0(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,a0);const{setup:o}=n;if(o){Wn();const r=e.setupContext=o.length>1?lg(e):null,s=Zs(e),i=Gs(o,e,0,[e.props,r]),a=ep(i);if(Yn(),s(),(a||e.sp)&&!ur(e)&&Op(e),a){if(i.then(cd,cd),t)return i.then(l=>{dd(e,l)}).catch(l=>{Va(l,e,0)});e.asyncDep=i}else dd(e,i)}else ag(e)}function dd(e,t,n){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=Ep(t)),ag(e)}function ag(e,t,n){const o=e.type;e.render||(e.render=o.render||En);{const r=Zs(e);Wn();try{u0(e)}finally{Yn(),r()}}}const W0={get(e,t){return Dt(e,"get",""),e[t]}};function lg(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,W0),slots:e.slots,emit:e.emit,expose:t}}function La(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ep(Do(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fs)return fs[n](e)},has(t,n){return n in t||n in fs}})):e.proxy}function Y0(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function G0(e){return Le(e)&&"__vccOpts"in e}const ne=(e,t)=>jv(e,t,$s);function Qe(e,t,n){try{ea(-1);const o=arguments.length;return o===2?dt(t)&&!Me(t)?Es(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Es(n)&&(n=[n]),ce(e,t,n))}finally{ea(1)}}function Z0(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(Un(n[o],t[o]))return!1;return gr>0&&Lt&&Lt.push(e),!0}const K0="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let eu;const fd=typeof window<"u"&&window.trustedTypes;if(fd)try{eu=fd.createPolicy("vue",{createHTML:e=>e})}catch{}const ug=eu?e=>eu.createHTML(e):e=>e,X0="http://www.w3.org/2000/svg",J0="http://www.w3.org/1998/Math/MathML",Vn=typeof document<"u"?document:null,hd=Vn&&Vn.createElement("template"),Q0={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t==="svg"?Vn.createElementNS(X0,e):t==="mathml"?Vn.createElementNS(J0,e):n?Vn.createElement(e,{is:n}):Vn.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>Vn.createTextNode(e),createComment:e=>Vn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Vn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{hd.innerHTML=ug(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const a=hd.content;if(o==="svg"||o==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},eb=Symbol("_vtc");function tb(e,t,n){const o=e[eb];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const na=Symbol("_vod"),cg=Symbol("_vsh"),nb={name:"show",beforeMount(e,{value:t},{transition:n}){e[na]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Br(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Br(e,!0),o.enter(e)):o.leave(e,()=>{Br(e,!1)}):Br(e,t))},beforeUnmount(e,{value:t}){Br(e,t)}};function Br(e,t){e.style.display=t?e[na]:"none",e[cg]=!t}const ob=Symbol(""),rb=/(?:^|;)\s*display\s*:/;function sb(e,t,n){const o=e.style,r=wt(n);let s=!1;if(n&&!r){if(t)if(wt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&Ni(o,a,"")}else for(const i in t)n[i]==null&&Ni(o,i,"");for(const i in n)i==="display"&&(s=!0),Ni(o,i,n[i])}else if(r){if(t!==n){const i=o[ob];i&&(n+=";"+i),o.cssText=n,s=rb.test(n)}}else t&&e.removeAttribute("style");na in e&&(e[na]=s?o.display:"",e[cg]&&(o.display="none"))}const pd=/\s*!important$/;function Ni(e,t,n){if(Me(n))n.forEach(o=>Ni(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=ib(e,t);pd.test(n)?e.setProperty(ko(o),n.replace(pd,""),"important"):e[o]=n}}const gd=["Webkit","Moz","ms"],bl={};function ib(e,t){const n=bl[t];if(n)return n;let o=Qt(t);if(o!=="filter"&&o in e)return bl[t]=o;o=Ia(o);for(let r=0;r<gd.length;r++){const s=gd[r]+o;if(s in e)return bl[t]=s}return t}const md="http://www.w3.org/1999/xlink";function yd(e,t,n,o,r,s=gv(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(md,t.slice(6,t.length)):e.setAttributeNS(md,t,n):n==null||s&&!rp(n)?e.removeAttribute(t):e.setAttribute(t,s?"":un(n)?String(n):n)}function vd(e,t,n,o,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ug(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=rp(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(r||t)}function ho(e,t,n,o){e.addEventListener(t,n,o)}function ab(e,t,n,o){e.removeEventListener(t,n,o)}const bd=Symbol("_vei");function lb(e,t,n,o,r=null){const s=e[bd]||(e[bd]={}),i=s[t];if(o&&i)i.value=o;else{const[a,l]=ub(t);if(o){const u=s[t]=fb(o,r);ho(e,a,u,l)}else i&&(ab(e,a,i,l),s[t]=void 0)}}const xd=/(?:Once|Passive|Capture)$/;function ub(e){let t;if(xd.test(e)){t={};let o;for(;o=e.match(xd);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ko(e.slice(2)),t]}let xl=0;const cb=Promise.resolve(),db=()=>xl||(cb.then(()=>xl=0),xl=Date.now());function fb(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Nn(hb(o,n.value),t,5,[o])};return n.value=e,n.attached=db(),n}function hb(e,t){if(Me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const _d=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pb=(e,t,n,o,r,s)=>{const i=r==="svg";t==="class"?tb(e,o,i):t==="style"?sb(e,n,o):Ta(t)?Qu(t)||lb(e,t,n,o,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):gb(e,t,o,i))?(vd(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&yd(e,t,o,i,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!wt(o))?vd(e,Qt(t),o,s,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),yd(e,t,o,i))};function gb(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&_d(t)&&Le(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _d(t)&&wt(n)?!1:t in e}const vr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Me(t)?n=>Si(t,n):t};function mb(e){e.target.composing=!0}function wd(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const qn=Symbol("_assign"),yt={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e[qn]=vr(r);const s=o||r.props&&r.props.type==="number";ho(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=qi(a)),e[qn](a)}),n&&ho(e,"change",()=>{e.value=e.value.trim()}),t||(ho(e,"compositionstart",mb),ho(e,"compositionend",wd),ho(e,"change",wd))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:r,number:s}},i){if(e[qn]=vr(i),e.composing)return;const a=(s||e.type==="number")&&!/^0\d/.test(e.value)?qi(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||r&&e.value.trim()===l)||(e.value=l))}},ps={deep:!0,created(e,t,n){e[qn]=vr(n),ho(e,"change",()=>{const o=e._modelValue,r=Cs(e),s=e.checked,i=e[qn];if(Me(o)){const a=nc(o,r),l=a!==-1;if(s&&!l)i(o.concat(r));else if(!s&&l){const u=[...o];u.splice(a,1),i(u)}}else if(Dr(o)){const a=new Set(o);s?a.add(r):a.delete(r),i(a)}else i(dg(e,s))})},mounted:kd,beforeUpdate(e,t,n){e[qn]=vr(n),kd(e,t,n)}};function kd(e,{value:t,oldValue:n},o){e._modelValue=t;let r;if(Me(t))r=nc(t,o.props.value)>-1;else if(Dr(t))r=t.has(o.props.value);else{if(t===n)return;r=Ys(t,dg(e,!0))}e.checked!==r&&(e.checked=r)}const tn={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=Dr(t);ho(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?qi(Cs(i)):Cs(i));e[qn](e.multiple?r?new Set(s):s:s[0]),e._assigning=!0,Bt(()=>{e._assigning=!1})}),e[qn]=vr(o)},mounted(e,{value:t}){Ed(e,t)},beforeUpdate(e,t,n){e[qn]=vr(n)},updated(e,{value:t}){e._assigning||Ed(e,t)}};function Ed(e,t){const n=e.multiple,o=Me(t);if(!(n&&!o&&!Dr(t))){for(let r=0,s=e.options.length;r<s;r++){const i=e.options[r],a=Cs(i);if(n)if(o){const l=typeof a;l==="string"||l==="number"?i.selected=t.some(u=>String(u)===String(a)):i.selected=nc(t,a)>-1}else i.selected=t.has(a);else if(Ys(Cs(i),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Cs(e){return"_value"in e?e._value:e.value}function dg(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const yb=["ctrl","shift","alt","meta"],vb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yb.some(n=>e[`${n}Key`]&&!t.includes(n))},sr=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=((r,...s)=>{for(let i=0;i<t.length;i++){const a=vb[t[i]];if(a&&a(r,t))return}return e(r,...s)}))},bb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},li=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=(r=>{if(!("key"in r))return;const s=ko(r.key);if(t.some(i=>i===s||bb[i]===s))return e(r)}))},xb=Ht({patchProp:pb},Q0);let Sd;function _b(){return Sd||(Sd=k0(xb))}const wb=((...e)=>{const t=_b().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=Eb(o);if(!r)return;const s=t._component;!Le(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const i=n(r,!1,kb(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t});function kb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Eb(e){return wt(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fg;const Ba=e=>fg=e,hg=Symbol();function tu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var gs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(gs||(gs={}));function Sb(){const e=Ra(!0),t=e.run(()=>he({}));let n=[],o=[];const r=Do({install(s){Ba(r),r._a=s,s.provide(hg,r),s.config.globalProperties.$pinia=r,o.forEach(i=>n.push(i)),o=[]},use(s){return this._a?n.push(s):o.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const pg=()=>{};function $d(e,t,n,o=pg){e.push(t);const r=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),o())};return!n&&Ma()&&ls(r),r}function Qo(e,...t){e.slice().forEach(n=>{n(...t)})}const $b=e=>e(),Cd=Symbol(),_l=Symbol();function nu(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,o)=>e.set(o,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],r=e[n];tu(r)&&tu(o)&&e.hasOwnProperty(n)&&!vt(o)&&!mo(o)?e[n]=nu(r,o):e[n]=o}return e}const Cb=Symbol();function Nb(e){return!tu(e)||!e.hasOwnProperty(Cb)}const{assign:no}=Object;function Tb(e){return!!(vt(e)&&e.effect)}function Ab(e,t,n,o){const{state:r,actions:s,getters:i}=t,a=n.state.value[e];let l;function u(){a||(n.state.value[e]=r?r():{});const c=Sp(n.state.value[e]);return no(c,s,Object.keys(i||{}).reduce((d,h)=>(d[h]=Do(ne(()=>{Ba(n);const f=n._s.get(e);return i[h].call(f,f)})),d),{}))}return l=gg(e,u,t,n,o,!0),l}function gg(e,t,n={},o,r,s){let i;const a=no({actions:{}},n),l={deep:!0};let u,c,d=[],h=[],f;const p=o.state.value[e];!s&&!p&&(o.state.value[e]={}),he({});let v;function g(M){let F;u=c=!1,typeof M=="function"?(M(o.state.value[e]),F={type:gs.patchFunction,storeId:e,events:f}):(nu(o.state.value[e],M),F={type:gs.patchObject,payload:M,storeId:e,events:f});const W=v=Symbol();Bt().then(()=>{v===W&&(u=!0)}),c=!0,Qo(d,F,o.state.value[e])}const y=s?function(){const{state:F}=n,W=F?F():{};this.$patch(z=>{no(z,W)})}:pg;function k(){i.stop(),d=[],h=[],o._s.delete(e)}const _=(M,F="")=>{if(Cd in M)return M[_l]=F,M;const W=function(){Ba(o);const z=Array.from(arguments),N=[],Y=[];function m(H){N.push(H)}function T(H){Y.push(H)}Qo(h,{args:z,name:W[_l],store:G,after:m,onError:T});let S;try{S=M.apply(this&&this.$id===e?this:G,z)}catch(H){throw Qo(Y,H),H}return S instanceof Promise?S.then(H=>(Qo(N,H),H)).catch(H=>(Qo(Y,H),Promise.reject(H))):(Qo(N,S),S)};return W[Cd]=!0,W[_l]=F,W},O={_p:o,$id:e,$onAction:$d.bind(null,h),$patch:g,$reset:y,$subscribe(M,F={}){const W=$d(d,M,F.detached,()=>z()),z=i.run(()=>ze(()=>o.state.value[e],N=>{(F.flush==="sync"?c:u)&&M({storeId:e,type:gs.direct,events:f},N)},no({},l,F)));return W},$dispose:k},G=Pr(O);o._s.set(e,G);const L=(o._a&&o._a.runWithContext||$b)(()=>o._e.run(()=>(i=Ra()).run(()=>t({action:_}))));for(const M in L){const F=L[M];if(vt(F)&&!Tb(F)||mo(F))s||(p&&Nb(F)&&(vt(F)?F.value=p[M]:nu(F,p[M])),o.state.value[e][M]=F);else if(typeof F=="function"){const W=_(F,M);L[M]=W,a.actions[M]=F}}return no(G,L),no(tt(G),L),Object.defineProperty(G,"$state",{get:()=>o.state.value[e],set:M=>{g(F=>{no(F,M)})}}),o._p.forEach(M=>{no(G,i.run(()=>M({store:G,app:o._a,pinia:o,options:a})))}),p&&s&&n.hydrate&&n.hydrate(G.$state,p),u=!0,c=!0,G}/*! #__NO_SIDE_EFFECTS__ */function mg(e,t,n){let o,r;const s=typeof t=="function";typeof e=="string"?(o=e,r=s?n:t):(r=e,o=e.id);function i(a,l){const u=m0();return a=a||(u?Tt(hg,null):null),a&&Ba(a),a=fg,a._s.has(o)||(s?gg(o,t,r,a):Ab(o,r,a)),a._s.get(o)}return i.$id=o,i}function Ns(e){return Ma()?(ls(e),!0):!1}function Fn(e){return typeof e=="function"?e():ge(e)}const Ib=typeof window<"u"&&typeof document<"u",Ob=e=>typeof e<"u",Rb=Object.prototype.toString,Mb=e=>Rb.call(e)==="[object Object]",Db=()=>{};function Pb(e,t){function n(...o){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(r).catch(s)})}return n}const yg=e=>e();function Vb(e=yg){const t=he(!0);function n(){t.value=!1}function o(){t.value=!0}const r=(...s)=>{t.value&&e(...s)};return{isActive:Yi(t),pause:n,resume:o,eventFilter:r}}function Nd(e,t=!1,n="Timeout"){return new Promise((o,r)=>{setTimeout(t?()=>r(n):o,e)})}function Hb(e,t,n={}){const{eventFilter:o=yg,...r}=n;return ze(e,Pb(o,t),r)}function er(e,t,n={}){const{eventFilter:o,...r}=n,{eventFilter:s,pause:i,resume:a,isActive:l}=Vb(o);return{stop:Hb(e,t,{...r,eventFilter:s}),pause:i,resume:a,isActive:l}}function zb(e,t={}){if(!vt(e))return Sp(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=zv(()=>({get(){return e.value[o]},set(r){var s;if((s=Fn(t.replaceRef))!=null?s:!0)if(Array.isArray(e.value)){const a=[...e.value];a[o]=r,e.value=a}else{const a={...e.value,[o]:r};Object.setPrototypeOf(a,Object.getPrototypeOf(e.value)),e.value=a}else e.value[o]=r}}));return n}function ou(e,t=!1){function n(d,{flush:h="sync",deep:f=!1,timeout:p,throwOnTimeout:v}={}){let g=null;const k=[new Promise(_=>{g=ze(e,O=>{d(O)!==t&&(g==null||g(),_(O))},{flush:h,deep:f,immediate:!0})})];return p!=null&&k.push(Nd(p,v).then(()=>Fn(e)).finally(()=>g==null?void 0:g())),Promise.race(k)}function o(d,h){if(!vt(d))return n(O=>O===d,h);const{flush:f="sync",deep:p=!1,timeout:v,throwOnTimeout:g}=h??{};let y=null;const _=[new Promise(O=>{y=ze([e,d],([G,q])=>{t!==(G===q)&&(y==null||y(),O(G))},{flush:f,deep:p,immediate:!0})})];return v!=null&&_.push(Nd(v,g).then(()=>Fn(e)).finally(()=>(y==null||y(),Fn(e)))),Promise.race(_)}function r(d){return n(h=>!!h,d)}function s(d){return o(null,d)}function i(d){return o(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,h){return n(f=>{const p=Array.from(f);return p.includes(d)||p.includes(Fn(d))},h)}function u(d){return c(1,d)}function c(d=1,h){let f=-1;return n(()=>(f+=1,f>=d),h)}return Array.isArray(Fn(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return ou(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:r,toBeNull:s,toBeNaN:a,toBeUndefined:i,changed:u,changedTimes:c,get not(){return ou(e,!t)}}}function ru(e){return ou(e)}function Fb(e){var t;const n=Fn(e);return(t=n==null?void 0:n.$el)!=null?t:n}const vg=Ib?window:void 0;function bg(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=vg):[t,n,o,r]=e,!t)return Db;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],i=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,h,f)=>(c.addEventListener(d,h,f),()=>c.removeEventListener(d,h,f)),l=ze(()=>[Fb(t),Fn(r)],([c,d])=>{if(i(),!c)return;const h=Mb(d)?{...d}:d;s.push(...n.flatMap(f=>o.map(p=>a(c,f,p,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),i()};return Ns(u),u}function Lb(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Td(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=vg,eventName:s="keydown",passive:i=!1,dedupe:a=!1}=o,l=Lb(t);return bg(r,s,c=>{c.repeat&&Fn(a)||l(c)&&n(c)},i)}function Bb(e){return JSON.parse(JSON.stringify(e))}function wl(e,t,n,o={}){var r,s,i;const{clone:a=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d,shouldEmit:h}=o,f=Qn(),p=n||(f==null?void 0:f.emit)||((r=f==null?void 0:f.$emit)==null?void 0:r.bind(f))||((i=(s=f==null?void 0:f.proxy)==null?void 0:s.$emit)==null?void 0:i.bind(f==null?void 0:f.proxy));let v=u;t||(t="modelValue"),v=v||`update:${t.toString()}`;const g=_=>a?typeof a=="function"?a(_):Bb(_):_,y=()=>Ob(e[t])?g(e[t]):d,k=_=>{h?h(_)&&p(v,_):p(v,_)};if(l){const _=y(),O=he(_);let G=!1;return ze(()=>e[t],q=>{G||(G=!0,O.value=g(q),Bt(()=>G=!1))}),ze(O,q=>{!G&&(q!==e[t]||c)&&k(q)},{deep:c}),O}else return ne({get(){return y()},set(_){k(_)}})}var jb={value:()=>{}};function ja(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Ti(n)}function Ti(e){this._=e}function Ub(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Ti.prototype=ja.prototype={constructor:Ti,on:function(e,t){var n=this._,o=Ub(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=qb(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=Ad(n[r],e.name,t);else if(t==null)for(r in n)n[r]=Ad(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ti(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function qb(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function Ad(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=jb,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var su="http://www.w3.org/1999/xhtml";const Id={svg:"http://www.w3.org/2000/svg",xhtml:su,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ua(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Id.hasOwnProperty(t)?{space:Id[t],local:e}:e}function Wb(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===su&&t.documentElement.namespaceURI===su?t.createElement(e):t.createElementNS(n,e)}}function Yb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function xg(e){var t=Ua(e);return(t.local?Yb:Wb)(t)}function Gb(){}function vc(e){return e==null?Gb:function(){return this.querySelector(e)}}function Zb(e){typeof e!="function"&&(e=vc(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Kt(o,this._parents)}function Kb(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Xb(){return[]}function _g(e){return e==null?Xb:function(){return this.querySelectorAll(e)}}function Jb(e){return function(){return Kb(e.apply(this,arguments))}}function Qb(e){typeof e=="function"?e=Jb(e):e=_g(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Kt(o,r)}function wg(e){return function(){return this.matches(e)}}function kg(e){return function(t){return t.matches(e)}}var ex=Array.prototype.find;function tx(e){return function(){return ex.call(this.children,e)}}function nx(){return this.firstElementChild}function ox(e){return this.select(e==null?nx:tx(typeof e=="function"?e:kg(e)))}var rx=Array.prototype.filter;function sx(){return Array.from(this.children)}function ix(e){return function(){return rx.call(this.children,e)}}function ax(e){return this.selectAll(e==null?sx:ix(typeof e=="function"?e:kg(e)))}function lx(e){typeof e!="function"&&(e=wg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Kt(o,this._parents)}function Eg(e){return new Array(e.length)}function ux(){return new Kt(this._enter||this._groups.map(Eg),this._parents)}function oa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}oa.prototype={constructor:oa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cx(e){return function(){return e}}function dx(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new oa(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function fx(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),f;for(a=0;a<c;++a)(l=t[a])&&(h[a]=f=i.call(l,l.__data__,a,t)+"",u.has(f)?r[a]=l:u.set(f,l));for(a=0;a<d;++a)f=i.call(e,s[a],a,s)+"",(l=u.get(f))?(o[a]=l,l.__data__=s[a],u.delete(f)):n[a]=new oa(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(r[a]=l)}function hx(e){return e.__data__}function px(e,t){if(!arguments.length)return Array.from(this,hx);var n=t?fx:dx,o=this._parents,r=this._groups;typeof e!="function"&&(e=cx(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],h=d.length,f=gx(e.call(c,c&&c.__data__,u,o)),p=f.length,v=a[u]=new Array(p),g=i[u]=new Array(p),y=l[u]=new Array(h);n(c,d,v,g,y,f,t);for(var k=0,_=0,O,G;k<p;++k)if(O=v[k]){for(k>=_&&(_=k+1);!(G=g[_])&&++_<p;);O._next=G||null}}return i=new Kt(i,o),i._enter=a,i._exit=l,i}function gx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mx(){return new Kt(this._exit||this._groups.map(Eg),this._parents)}function yx(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function vx(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=u[p]||c[p])&&(h[p]=f);for(;l<r;++l)a[l]=n[l];return new Kt(a,this._parents)}function bx(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function xx(e){e||(e=_x);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Kt(r,this._parents).order()}function _x(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function wx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kx(){return Array.from(this)}function Ex(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function Sx(){let e=0;for(const t of this)++e;return e}function $x(){return!this.node()}function Cx(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function Nx(e){return function(){this.removeAttribute(e)}}function Tx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ax(e,t){return function(){this.setAttribute(e,t)}}function Ix(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ox(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Rx(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Mx(e,t){var n=Ua(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Tx:Nx:typeof t=="function"?n.local?Rx:Ox:n.local?Ix:Ax)(n,t))}function Sg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Dx(e){return function(){this.style.removeProperty(e)}}function Px(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vx(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Hx(e,t,n){return arguments.length>1?this.each((t==null?Dx:typeof t=="function"?Vx:Px)(e,t,n??"")):br(this.node(),e)}function br(e,t){return e.style.getPropertyValue(t)||Sg(e).getComputedStyle(e,null).getPropertyValue(t)}function zx(e){return function(){delete this[e]}}function Fx(e,t){return function(){this[e]=t}}function Lx(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Bx(e,t){return arguments.length>1?this.each((t==null?zx:typeof t=="function"?Lx:Fx)(e,t)):this.node()[e]}function $g(e){return e.trim().split(/^|\s+/)}function bc(e){return e.classList||new Cg(e)}function Cg(e){this._node=e,this._names=$g(e.getAttribute("class")||"")}Cg.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ng(e,t){for(var n=bc(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Tg(e,t){for(var n=bc(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function jx(e){return function(){Ng(this,e)}}function Ux(e){return function(){Tg(this,e)}}function qx(e,t){return function(){(t.apply(this,arguments)?Ng:Tg)(this,e)}}function Wx(e,t){var n=$g(e+"");if(arguments.length<2){for(var o=bc(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?qx:t?jx:Ux)(n,t))}function Yx(){this.textContent=""}function Gx(e){return function(){this.textContent=e}}function Zx(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kx(e){return arguments.length?this.each(e==null?Yx:(typeof e=="function"?Zx:Gx)(e)):this.node().textContent}function Xx(){this.innerHTML=""}function Jx(e){return function(){this.innerHTML=e}}function Qx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function e_(e){return arguments.length?this.each(e==null?Xx:(typeof e=="function"?Qx:Jx)(e)):this.node().innerHTML}function t_(){this.nextSibling&&this.parentNode.appendChild(this)}function n_(){return this.each(t_)}function o_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function r_(){return this.each(o_)}function s_(e){var t=typeof e=="function"?e:xg(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function i_(){return null}function a_(e,t){var n=typeof e=="function"?e:xg(e),o=t==null?i_:typeof t=="function"?t:vc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function l_(){var e=this.parentNode;e&&e.removeChild(this)}function u_(){return this.each(l_)}function c_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function d_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f_(e){return this.select(e?d_:c_)}function h_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function p_(e){return function(t){e.call(this,t,this.__data__)}}function g_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function m_(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function y_(e,t,n){return function(){var o=this.__on,r,s=p_(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function v_(e,t,n){var o=g_(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?y_:m_,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function Ag(e,t,n){var o=Sg(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function b_(e,t){return function(){return Ag(this,e,t)}}function x_(e,t){return function(){return Ag(this,e,t.apply(this,arguments))}}function __(e,t){return this.each((typeof t=="function"?x_:b_)(e,t))}function*w_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var Ig=[null];function Kt(e,t){this._groups=e,this._parents=t}function Ks(){return new Kt([[document.documentElement]],Ig)}function k_(){return this}Kt.prototype=Ks.prototype={constructor:Kt,select:Zb,selectAll:Qb,selectChild:ox,selectChildren:ax,filter:lx,data:px,enter:ux,exit:mx,join:yx,merge:vx,selection:k_,order:bx,sort:xx,call:wx,nodes:kx,node:Ex,size:Sx,empty:$x,each:Cx,attr:Mx,style:Hx,property:Bx,classed:Wx,text:Kx,html:e_,raise:n_,lower:r_,append:s_,insert:a_,remove:u_,clone:f_,datum:h_,on:v_,dispatch:__,[Symbol.iterator]:w_};function nn(e){return typeof e=="string"?new Kt([[document.querySelector(e)]],[document.documentElement]):new Kt([[e]],Ig)}function E_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function vn(e,t){if(e=E_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const S_={passive:!1},Ts={capture:!0,passive:!1};function kl(e){e.stopImmediatePropagation()}function cr(e){e.preventDefault(),e.stopImmediatePropagation()}function Og(e){var t=e.document.documentElement,n=nn(e).on("dragstart.drag",cr,Ts);"onselectstart"in t?n.on("selectstart.drag",cr,Ts):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Rg(e,t){var n=e.document.documentElement,o=nn(e).on("dragstart.drag",null);t&&(o.on("click.drag",cr,Ts),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ui=e=>()=>e;function iu(e,{sourceEvent:t,subject:n,target:o,identifier:r,active:s,x:i,y:a,dx:l,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}iu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function $_(e){return!e.ctrlKey&&!e.button}function C_(){return this.parentNode}function N_(e,t){return t??{x:e.x,y:e.y}}function T_(){return navigator.maxTouchPoints||"ontouchstart"in this}function A_(){var e=$_,t=C_,n=N_,o=T_,r={},s=ja("start","drag","end"),i=0,a,l,u,c,d=0;function h(O){O.on("mousedown.drag",f).filter(o).on("touchstart.drag",g).on("touchmove.drag",y,S_).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(O,G){if(!(c||!e.call(this,O,G))){var q=_(this,t.call(this,O,G),O,G,"mouse");q&&(nn(O.view).on("mousemove.drag",p,Ts).on("mouseup.drag",v,Ts),Og(O.view),kl(O),u=!1,a=O.clientX,l=O.clientY,q("start",O))}}function p(O){if(cr(O),!u){var G=O.clientX-a,q=O.clientY-l;u=G*G+q*q>d}r.mouse("drag",O)}function v(O){nn(O.view).on("mousemove.drag mouseup.drag",null),Rg(O.view,u),cr(O),r.mouse("end",O)}function g(O,G){if(e.call(this,O,G)){var q=O.changedTouches,L=t.call(this,O,G),M=q.length,F,W;for(F=0;F<M;++F)(W=_(this,L,O,G,q[F].identifier,q[F]))&&(kl(O),W("start",O,q[F]))}}function y(O){var G=O.changedTouches,q=G.length,L,M;for(L=0;L<q;++L)(M=r[G[L].identifier])&&(cr(O),M("drag",O,G[L]))}function k(O){var G=O.changedTouches,q=G.length,L,M;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),L=0;L<q;++L)(M=r[G[L].identifier])&&(kl(O),M("end",O,G[L]))}function _(O,G,q,L,M,F){var W=s.copy(),z=vn(F||q,G),N,Y,m;if((m=n.call(O,new iu("beforestart",{sourceEvent:q,target:h,identifier:M,active:i,x:z[0],y:z[1],dx:0,dy:0,dispatch:W}),L))!=null)return N=m.x-z[0]||0,Y=m.y-z[1]||0,function T(S,H,P){var Q=z,Z;switch(S){case"start":r[M]=T,Z=i++;break;case"end":delete r[M],--i;case"drag":z=vn(P||H,G),Z=i;break}W.call(S,O,new iu(S,{sourceEvent:H,subject:m,target:h,identifier:M,active:Z,x:z[0]+N,y:z[1]+Y,dx:z[0]-Q[0],dy:z[1]-Q[1],dispatch:W}),L)}}return h.filter=function(O){return arguments.length?(e=typeof O=="function"?O:ui(!!O),h):e},h.container=function(O){return arguments.length?(t=typeof O=="function"?O:ui(O),h):t},h.subject=function(O){return arguments.length?(n=typeof O=="function"?O:ui(O),h):n},h.touchable=function(O){return arguments.length?(o=typeof O=="function"?O:ui(!!O),h):o},h.on=function(){var O=s.on.apply(s,arguments);return O===s?h:O},h.clickDistance=function(O){return arguments.length?(d=(O=+O)*O,h):Math.sqrt(d)},h}function xc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Mg(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Xs(){}var As=.7,ra=1/As,dr="\\s*([+-]?\\d+)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Sn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I_=/^#([0-9a-f]{3,8})$/,O_=new RegExp(`^rgb\\(${dr},${dr},${dr}\\)$`),R_=new RegExp(`^rgb\\(${Sn},${Sn},${Sn}\\)$`),M_=new RegExp(`^rgba\\(${dr},${dr},${dr},${Is}\\)$`),D_=new RegExp(`^rgba\\(${Sn},${Sn},${Sn},${Is}\\)$`),P_=new RegExp(`^hsl\\(${Is},${Sn},${Sn}\\)$`),V_=new RegExp(`^hsla\\(${Is},${Sn},${Sn},${Is}\\)$`),Od={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xc(Xs,Bo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rd,formatHex:Rd,formatHex8:H_,formatHsl:z_,formatRgb:Md,toString:Md});function Rd(){return this.rgb().formatHex()}function H_(){return this.rgb().formatHex8()}function z_(){return Dg(this).formatHsl()}function Md(){return this.rgb().formatRgb()}function Bo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=I_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Dd(t):n===3?new qt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O_.exec(e))?new qt(t[1],t[2],t[3],1):(t=R_.exec(e))?new qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M_.exec(e))?ci(t[1],t[2],t[3],t[4]):(t=D_.exec(e))?ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P_.exec(e))?Hd(t[1],t[2]/100,t[3]/100,1):(t=V_.exec(e))?Hd(t[1],t[2]/100,t[3]/100,t[4]):Od.hasOwnProperty(e)?Dd(Od[e]):e==="transparent"?new qt(NaN,NaN,NaN,0):null}function Dd(e){return new qt(e>>16&255,e>>8&255,e&255,1)}function ci(e,t,n,o){return o<=0&&(e=t=n=NaN),new qt(e,t,n,o)}function F_(e){return e instanceof Xs||(e=Bo(e)),e?(e=e.rgb(),new qt(e.r,e.g,e.b,e.opacity)):new qt}function au(e,t,n,o){return arguments.length===1?F_(e):new qt(e,t,n,o??1)}function qt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}xc(qt,au,Mg(Xs,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new qt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qt(Vo(this.r),Vo(this.g),Vo(this.b),sa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pd,formatHex:Pd,formatHex8:L_,formatRgb:Vd,toString:Vd}));function Pd(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}`}function L_(){return`#${Io(this.r)}${Io(this.g)}${Io(this.b)}${Io((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vd(){const e=sa(this.opacity);return`${e===1?"rgb(":"rgba("}${Vo(this.r)}, ${Vo(this.g)}, ${Vo(this.b)}${e===1?")":`, ${e})`}`}function sa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Io(e){return e=Vo(e),(e<16?"0":"")+e.toString(16)}function Hd(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,n,o)}function Dg(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof Xs||(e=Bo(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new on(i,a,l,e.opacity)}function B_(e,t,n,o){return arguments.length===1?Dg(e):new on(e,t,n,o??1)}function on(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}xc(on,B_,Mg(Xs,{brighter(e){return e=e==null?ra:Math.pow(ra,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?As:Math.pow(As,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new qt(El(e>=240?e-240:e+120,r,o),El(e,r,o),El(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new on(zd(this.h),di(this.s),di(this.l),sa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sa(this.opacity);return`${e===1?"hsl(":"hsla("}${zd(this.h)}, ${di(this.s)*100}%, ${di(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zd(e){return e=(e||0)%360,e<0?e+360:e}function di(e){return Math.max(0,Math.min(1,e||0))}function El(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _c=e=>()=>e;function j_(e,t){return function(n){return e+n*t}}function U_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function q_(e){return(e=+e)==1?Pg:function(t,n){return n-t?U_(t,n,e):_c(isNaN(t)?n:t)}}function Pg(e,t){var n=t-e;return n?j_(e,n):_c(isNaN(e)?t:e)}const ia=(function e(t){var n=q_(t);function o(r,s){var i=n((r=au(r)).r,(s=au(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=Pg(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function W_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),r;return function(s){for(r=0;r<n;++r)o[r]=e[r]*(1-s)+t[r]*s;return o}}function Y_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function G_(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,r=new Array(o),s=new Array(n),i;for(i=0;i<o;++i)r[i]=ms(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(a){for(i=0;i<o;++i)s[i]=r[i](a);return s}}function Z_(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function xn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function K_(e,t){var n={},o={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=ms(e[r],t[r]):o[r]=t[r];return function(s){for(r in n)o[r]=n[r](s);return o}}var lu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sl=new RegExp(lu.source,"g");function X_(e){return function(){return e}}function J_(e){return function(t){return e(t)+""}}function Vg(e,t){var n=lu.lastIndex=Sl.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=lu.exec(e))&&(r=Sl.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:xn(o,r)})),n=Sl.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?J_(l[0].x):X_(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function ms(e,t){var n=typeof t,o;return t==null||n==="boolean"?_c(t):(n==="number"?xn:n==="string"?(o=Bo(t))?(t=o,ia):Vg:t instanceof Bo?ia:t instanceof Date?Z_:Y_(t)?W_:Array.isArray(t)?G_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K_:xn)(e,t)}var Fd=180/Math.PI,uu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hg(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Fd,skewX:Math.atan(l)*Fd,scaleX:i,scaleY:a}}var fi;function Q_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?uu:Hg(t.a,t.b,t.c,t.d,t.e,t.f)}function ew(e){return e==null||(fi||(fi=document.createElementNS("http://www.w3.org/2000/svg","g")),fi.setAttribute("transform",e),!(e=fi.transform.baseVal.consolidate()))?uu:(e=e.matrix,Hg(e.a,e.b,e.c,e.d,e.e,e.f))}function zg(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,f,p){if(u!==d||c!==h){var v=f.push("translate(",null,t,null,n);p.push({i:v-4,x:xn(u,d)},{i:v-2,x:xn(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function i(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(r(d)+"rotate(",null,o)-2,x:xn(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,h){u!==c?h.push({i:d.push(r(d)+"skewX(",null,o)-2,x:xn(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,h,f,p){if(u!==d||c!==h){var v=f.push(r(f)+"scale(",null,",",null,")");p.push({i:v-4,x:xn(u,d)},{i:v-2,x:xn(c,h)})}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),i(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var p=-1,v=h.length,g;++p<v;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var tw=zg(Q_,"px, ","px)","deg)"),nw=zg(ew,", ",")",")"),ow=1e-12;function Ld(e){return((e=Math.exp(e))+1/e)/2}function rw(e){return((e=Math.exp(e))-1/e)/2}function sw(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ai=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],h=i[2],f=c-a,p=d-l,v=f*f+p*p,g,y;if(v<ow)y=Math.log(h/u)/t,g=function(L){return[a+L*f,l+L*p,u*Math.exp(t*L*y)]};else{var k=Math.sqrt(v),_=(h*h-u*u+o*v)/(2*u*n*k),O=(h*h-u*u-o*v)/(2*h*n*k),G=Math.log(Math.sqrt(_*_+1)-_),q=Math.log(Math.sqrt(O*O+1)-O);y=(q-G)/t,g=function(L){var M=L*y,F=Ld(G),W=u/(n*k)*(F*sw(t*M+G)-rw(G));return[a+W*f,l+W*p,u*F/Ld(t*M+G)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var xr=0,Jr=0,jr=0,Fg=1e3,aa,Qr,la=0,jo=0,qa=0,Os=typeof performance=="object"&&performance.now?performance:Date,Lg=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wc(){return jo||(Lg(iw),jo=Os.now()+qa)}function iw(){jo=0}function ua(){this._call=this._time=this._next=null}ua.prototype=Bg.prototype={constructor:ua,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wc():+n)+(t==null?0:+t),!this._next&&Qr!==this&&(Qr?Qr._next=this:aa=this,Qr=this),this._call=e,this._time=n,cu()},stop:function(){this._call&&(this._call=null,this._time=1/0,cu())}};function Bg(e,t,n){var o=new ua;return o.restart(e,t,n),o}function aw(){wc(),++xr;for(var e=aa,t;e;)(t=jo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xr}function Bd(){jo=(la=Os.now())+qa,xr=Jr=0;try{aw()}finally{xr=0,uw(),jo=0}}function lw(){var e=Os.now(),t=e-la;t>Fg&&(qa-=t,la=e)}function uw(){for(var e,t=aa,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:aa=n);Qr=e,cu(o)}function cu(e){if(!xr){Jr&&(Jr=clearTimeout(Jr));var t=e-jo;t>24?(e<1/0&&(Jr=setTimeout(Bd,e-Os.now()-qa)),jr&&(jr=clearInterval(jr))):(jr||(la=Os.now(),jr=setInterval(lw,Fg)),xr=1,Lg(Bd))}}function jd(e,t,n){var o=new ua;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var cw=ja("start","end","cancel","interrupt"),dw=[],jg=0,Ud=1,du=2,Ii=3,qd=4,fu=5,Oi=6;function Wa(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;fw(e,n,{name:t,index:o,group:r,on:cw,tween:dw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:jg})}function kc(e,t){var n=dn(e,t);if(n.state>jg)throw new Error("too late; already scheduled");return n}function In(e,t){var n=dn(e,t);if(n.state>Ii)throw new Error("too late; already running");return n}function dn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fw(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=Bg(s,0,n.time);function s(u){n.state=Ud,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,h,f;if(n.state!==Ud)return l();for(c in o)if(f=o[c],f.name===n.name){if(f.state===Ii)return jd(i);f.state===qd?(f.state=Oi,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=Oi,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(jd(function(){n.state===Ii&&(n.state=qd,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=du,n.on.call("start",e,e.__data__,n.index,n.group),n.state===du){for(n.state=Ii,r=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=fu,1),d=-1,h=r.length;++d<h;)r[d].call(e,c);n.state===fu&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Oi,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Ri(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>du&&o.state<fu,o.state=Oi,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function hw(e){return this.each(function(){Ri(this,e)})}function pw(e,t){var n,o;return function(){var r=In(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function gw(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=In(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function mw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=dn(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?pw:gw)(n,e,t))}function Ec(e,t,n){var o=e._id;return e.each(function(){var r=In(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return dn(r,o).value[t]}}function Ug(e,t){var n;return(typeof t=="number"?xn:t instanceof Bo?ia:(n=Bo(t))?(t=n,ia):Vg)(e,t)}function yw(e){return function(){this.removeAttribute(e)}}function vw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bw(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function xw(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function _w(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function ww(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function kw(e,t){var n=Ua(e),o=n==="transform"?nw:Ug;return this.attrTween(e,typeof t=="function"?(n.local?ww:_w)(n,o,Ec(this,"attr."+e,t)):t==null?(n.local?vw:yw)(n):(n.local?xw:bw)(n,o,t))}function Ew(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Sw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $w(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Sw(e,s)),n}return r._value=t,r}function Cw(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&Ew(e,s)),n}return r._value=t,r}function Nw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Ua(e);return this.tween(n,(o.local?$w:Cw)(o,t))}function Tw(e,t){return function(){kc(this,e).delay=+t.apply(this,arguments)}}function Aw(e,t){return t=+t,function(){kc(this,e).delay=t}}function Iw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Tw:Aw)(t,e)):dn(this.node(),t).delay}function Ow(e,t){return function(){In(this,e).duration=+t.apply(this,arguments)}}function Rw(e,t){return t=+t,function(){In(this,e).duration=t}}function Mw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ow:Rw)(t,e)):dn(this.node(),t).duration}function Dw(e,t){if(typeof t!="function")throw new Error;return function(){In(this,e).ease=t}}function Pw(e){var t=this._id;return arguments.length?this.each(Dw(t,e)):dn(this.node(),t).ease}function Vw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;In(this,e).ease=n}}function Hw(e){if(typeof e!="function")throw new Error;return this.each(Vw(this._id,e))}function zw(e){typeof e!="function"&&(e=wg(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Zn(o,this._parents,this._name,this._id)}function Fw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<o;++a)i[a]=t[a];return new Zn(i,this._parents,this._name,this._id)}function Lw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Bw(e,t,n){var o,r,s=Lw(t)?kc:In;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function jw(e,t){var n=this._id;return arguments.length<2?dn(this.node(),n).on.on(e):this.each(Bw(n,e,t))}function Uw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qw(){return this.on("end.remove",Uw(this._id))}function Ww(e){var t=this._name,n=this._id;typeof e!="function"&&(e=vc(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,Wa(u[h],t,n,h,u,dn(c,n)));return new Zn(s,this._parents,t,n)}function Yw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_g(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),f,p=dn(c,n),v=0,g=h.length;v<g;++v)(f=h[v])&&Wa(f,t,n,v,h,p);s.push(h),i.push(c)}return new Zn(s,i,t,n)}var Gw=Ks.prototype.constructor;function Zw(){return new Gw(this._groups,this._parents)}function Kw(e,t){var n,o,r;return function(){var s=br(this,e),i=(this.style.removeProperty(e),br(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function qg(e){return function(){this.style.removeProperty(e)}}function Xw(e,t,n){var o,r=n+"",s;return function(){var i=br(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function Jw(e,t,n){var o,r,s;return function(){var i=br(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),br(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function Qw(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=In(this,e),u=l.on,c=l.value[s]==null?a||(a=qg(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function e1(e,t,n){var o=(e+="")=="transform"?tw:Ug;return t==null?this.styleTween(e,Kw(e,o)).on("end.style."+e,qg(e)):typeof t=="function"?this.styleTween(e,Jw(e,o,Ec(this,"style."+e,t))).each(Qw(this._id,e)):this.styleTween(e,Xw(e,o,t),n).on("end.style."+e,null)}function t1(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function n1(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&t1(e,i,n)),o}return s._value=t,s}function o1(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,n1(e,t,n??""))}function r1(e){return function(){this.textContent=e}}function s1(e){return function(){var t=e(this);this.textContent=t??""}}function i1(e){return this.tween("text",typeof e=="function"?s1(Ec(this,"text",e)):r1(e==null?"":e+""))}function a1(e){return function(t){this.textContent=e.call(this,t)}}function l1(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&a1(r)),t}return o._value=e,o}function u1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,l1(e))}function c1(){for(var e=this._name,t=this._id,n=Wg(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=dn(l,t);Wa(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Zn(o,this._parents,e,n)}function d1(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=In(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var f1=0;function Zn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Wg(){return++f1}var Mn=Ks.prototype;Zn.prototype={constructor:Zn,select:Ww,selectAll:Yw,selectChild:Mn.selectChild,selectChildren:Mn.selectChildren,filter:zw,merge:Fw,selection:Zw,transition:c1,call:Mn.call,nodes:Mn.nodes,node:Mn.node,size:Mn.size,empty:Mn.empty,each:Mn.each,on:jw,attr:kw,attrTween:Nw,style:e1,styleTween:o1,text:i1,textTween:u1,remove:qw,tween:mw,delay:Iw,duration:Mw,ease:Pw,easeVarying:Hw,end:d1,[Symbol.iterator]:Mn[Symbol.iterator]};function h1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var p1={time:null,delay:0,duration:250,ease:h1};function g1(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function m1(e){var t,n;e instanceof Zn?(t=e._id,e=e._name):(t=Wg(),(n=p1).time=wc(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&Wa(l,e,t,u,i,n||g1(l,t));return new Zn(o,this._parents,e,t)}Ks.prototype.interrupt=hw;Ks.prototype.transition=m1;const hi=e=>()=>e;function y1(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Ln(e,t,n){this.k=e,this.x=t,this.y=n}Ln.prototype={constructor:Ln,scale:function(e){return e===1?this:new Ln(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ln(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var _r=new Ln(1,0,0);Ln.prototype;function $l(e){e.stopImmediatePropagation()}function Ur(e){e.preventDefault(),e.stopImmediatePropagation()}function v1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function b1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wd(){return this.__zoom||_r}function x1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _1(){return navigator.maxTouchPoints||"ontouchstart"in this}function w1(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function k1(){var e=v1,t=b1,n=w1,o=x1,r=_1,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=Ai,u=ja("start","zoom","end"),c,d,h,f=500,p=150,v=0,g=10;function y(m){m.property("__zoom",Wd).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",W).filter(r).on("touchstart.zoom",z).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(m,T,S,H){var P=m.selection?m.selection():m;P.property("__zoom",Wd),m!==P?G(m,T,S,H):P.interrupt().each(function(){q(this,arguments).event(H).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(m,T,S,H){y.scaleTo(m,function(){var P=this.__zoom.k,Q=typeof T=="function"?T.apply(this,arguments):T;return P*Q},S,H)},y.scaleTo=function(m,T,S,H){y.transform(m,function(){var P=t.apply(this,arguments),Q=this.__zoom,Z=S==null?O(P):typeof S=="function"?S.apply(this,arguments):S,oe=Q.invert(Z),fe=typeof T=="function"?T.apply(this,arguments):T;return n(_(k(Q,fe),Z,oe),P,i)},S,H)},y.translateBy=function(m,T,S,H){y.transform(m,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),i)},null,H)},y.translateTo=function(m,T,S,H,P){y.transform(m,function(){var Q=t.apply(this,arguments),Z=this.__zoom,oe=H==null?O(Q):typeof H=="function"?H.apply(this,arguments):H;return n(_r.translate(oe[0],oe[1]).scale(Z.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof S=="function"?-S.apply(this,arguments):-S),Q,i)},H,P)};function k(m,T){return T=Math.max(s[0],Math.min(s[1],T)),T===m.k?m:new Ln(T,m.x,m.y)}function _(m,T,S){var H=T[0]-S[0]*m.k,P=T[1]-S[1]*m.k;return H===m.x&&P===m.y?m:new Ln(m.k,H,P)}function O(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function G(m,T,S,H){m.on("start.zoom",function(){q(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(H).end()}).tween("zoom",function(){var P=this,Q=arguments,Z=q(P,Q).event(H),oe=t.apply(P,Q),fe=S==null?O(oe):typeof S=="function"?S.apply(P,Q):S,X=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),le=P.__zoom,de=typeof T=="function"?T.apply(P,Q):T,ye=l(le.invert(fe).concat(X/le.k),de.invert(fe).concat(X/de.k));return function(K){if(K===1)K=de;else{var ae=ye(K),ie=X/ae[2];K=new Ln(ie,fe[0]-ae[0]*ie,fe[1]-ae[1]*ie)}Z.zoom(null,K)}})}function q(m,T,S){return!S&&m.__zooming||new L(m,T)}function L(m,T){this.that=m,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(m,T),this.taps=0}L.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,T){return this.mouse&&m!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var T=nn(this.that).datum();u.call(m,this.that,new y1(m,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),T)}};function M(m,...T){if(!e.apply(this,arguments))return;var S=q(this,T).event(m),H=this.__zoom,P=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,o.apply(this,arguments)))),Q=vn(m);if(S.wheel)(S.mouse[0][0]!==Q[0]||S.mouse[0][1]!==Q[1])&&(S.mouse[1]=H.invert(S.mouse[0]=Q)),clearTimeout(S.wheel);else{if(H.k===P)return;S.mouse=[Q,H.invert(Q)],Ri(this),S.start()}Ur(m),S.wheel=setTimeout(Z,p),S.zoom("mouse",n(_(k(H,P),S.mouse[0],S.mouse[1]),S.extent,i));function Z(){S.wheel=null,S.end()}}function F(m,...T){if(h||!e.apply(this,arguments))return;var S=m.currentTarget,H=q(this,T,!0).event(m),P=nn(m.view).on("mousemove.zoom",fe,!0).on("mouseup.zoom",X,!0),Q=vn(m,S),Z=m.clientX,oe=m.clientY;Og(m.view),$l(m),H.mouse=[Q,this.__zoom.invert(Q)],Ri(this),H.start();function fe(le){if(Ur(le),!H.moved){var de=le.clientX-Z,ye=le.clientY-oe;H.moved=de*de+ye*ye>v}H.event(le).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=vn(le,S),H.mouse[1]),H.extent,i))}function X(le){P.on("mousemove.zoom mouseup.zoom",null),Rg(le.view,H.moved),Ur(le),H.event(le).end()}}function W(m,...T){if(e.apply(this,arguments)){var S=this.__zoom,H=vn(m.changedTouches?m.changedTouches[0]:m,this),P=S.invert(H),Q=S.k*(m.shiftKey?.5:2),Z=n(_(k(S,Q),H,P),t.apply(this,T),i);Ur(m),a>0?nn(this).transition().duration(a).call(G,Z,H,m):nn(this).call(y.transform,Z,H,m)}}function z(m,...T){if(e.apply(this,arguments)){var S=m.touches,H=S.length,P=q(this,T,m.changedTouches.length===H).event(m),Q,Z,oe,fe;for($l(m),Z=0;Z<H;++Z)oe=S[Z],fe=vn(oe,this),fe=[fe,this.__zoom.invert(fe),oe.identifier],P.touch0?!P.touch1&&P.touch0[2]!==fe[2]&&(P.touch1=fe,P.taps=0):(P.touch0=fe,Q=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),Q&&(P.taps<2&&(d=fe[0],c=setTimeout(function(){c=null},f)),Ri(this),P.start())}}function N(m,...T){if(this.__zooming){var S=q(this,T).event(m),H=m.changedTouches,P=H.length,Q,Z,oe,fe;for(Ur(m),Q=0;Q<P;++Q)Z=H[Q],oe=vn(Z,this),S.touch0&&S.touch0[2]===Z.identifier?S.touch0[0]=oe:S.touch1&&S.touch1[2]===Z.identifier&&(S.touch1[0]=oe);if(Z=S.that.__zoom,S.touch1){var X=S.touch0[0],le=S.touch0[1],de=S.touch1[0],ye=S.touch1[1],K=(K=de[0]-X[0])*K+(K=de[1]-X[1])*K,ae=(ae=ye[0]-le[0])*ae+(ae=ye[1]-le[1])*ae;Z=k(Z,Math.sqrt(K/ae)),oe=[(X[0]+de[0])/2,(X[1]+de[1])/2],fe=[(le[0]+ye[0])/2,(le[1]+ye[1])/2]}else if(S.touch0)oe=S.touch0[0],fe=S.touch0[1];else return;S.zoom("touch",n(_(Z,oe,fe),S.extent,i))}}function Y(m,...T){if(this.__zooming){var S=q(this,T).event(m),H=m.changedTouches,P=H.length,Q,Z;for($l(m),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),Q=0;Q<P;++Q)Z=H[Q],S.touch0&&S.touch0[2]===Z.identifier?delete S.touch0:S.touch1&&S.touch1[2]===Z.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(Z=vn(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<g)){var oe=nn(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return y.wheelDelta=function(m){return arguments.length?(o=typeof m=="function"?m:hi(+m),y):o},y.filter=function(m){return arguments.length?(e=typeof m=="function"?m:hi(!!m),y):e},y.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:hi(!!m),y):r},y.extent=function(m){return arguments.length?(t=typeof m=="function"?m:hi([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),y):t},y.scaleExtent=function(m){return arguments.length?(s[0]=+m[0],s[1]=+m[1],y):[s[0],s[1]]},y.translateExtent=function(m){return arguments.length?(i[0][0]=+m[0][0],i[1][0]=+m[1][0],i[0][1]=+m[0][1],i[1][1]=+m[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(m){return arguments.length?(n=m,y):n},y.duration=function(m){return arguments.length?(a=+m,y):a},y.interpolate=function(m){return arguments.length?(l=m,y):l},y.on=function(){var m=u.on.apply(u,arguments);return m===u?y:m},y.clickDistance=function(m){return arguments.length?(v=(m=+m)*m,y):Math.sqrt(v)},y.tapDistance=function(m){return arguments.length?(g=+m,y):g},y}var Ne=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(Ne||{}),Sc=(e=>(e.Partial="partial",e.Full="full",e))(Sc||{}),No=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(No||{}),Kn=(e=>(e.Strict="strict",e.Loose="loose",e))(Kn||{}),hu=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(hu||{}),ys=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(ys||{}),Yg=(e=>(e.TopLeft="top-left",e.TopCenter="top-center",e.TopRight="top-right",e.BottomLeft="bottom-left",e.BottomCenter="bottom-center",e.BottomRight="bottom-right",e))(Yg||{});const E1=["INPUT","SELECT","TEXTAREA"],S1=typeof document<"u"?document:null;function pu(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,r=typeof(o==null?void 0:o.hasAttribute)=="function"?o.hasAttribute("contenteditable"):!1,s=typeof(o==null?void 0:o.closest)=="function"?o.closest(".nokey"):null;return E1.includes(o==null?void 0:o.nodeName)||r||!!s}function $1(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Yd(e,t,n,o){const r=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(i=>i.trim().toLowerCase());if(r.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const s=r.every((i,a)=>n.has(i)&&Array.from(n.values())[a]===r[a]);return o&&n.delete(e.toLowerCase()),s}function C1(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=N1(n.code,e);return Array.isArray(e)?e.some(r=>Yd(n[o],r,t,n.type==="keyup")):Yd(n[o],e,t,n.type==="keyup")}}function N1(e,t){return t.includes(e)?"code":"key"}function vs(e,t){const n=ne(()=>Ze(t==null?void 0:t.target)??S1),o=pr(Ze(e)===!0);let r=!1;const s=new Set;let i=l(Ze(e));ze(()=>Ze(e),(u,c)=>{typeof c=="boolean"&&typeof u!="boolean"&&a(),i=l(u)},{immediate:!0}),bg(["blur","contextmenu"],a),Td((...u)=>i(...u),u=>{var c,d;const h=Ze(t==null?void 0:t.actInsideInputWithModifier)??!0,f=Ze(t==null?void 0:t.preventDefault)??!1;if(r=$1(u),(!r||r&&!h)&&pu(u))return;const v=((d=(c=u.composedPath)==null?void 0:c.call(u))==null?void 0:d[0])||u.target,g=(v==null?void 0:v.nodeName)==="BUTTON"||(v==null?void 0:v.nodeName)==="A";!f&&(r||!g)&&u.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),Td((...u)=>i(...u),u=>{const c=Ze(t==null?void 0:t.actInsideInputWithModifier)??!0;if(o.value){if((!r||r&&!c)&&pu(u))return;r=!1,o.value=!1}},{eventName:"keyup",target:n});function a(){r=!1,s.clear(),o.value=Ze(e)===!0}function l(u){return u===null?(a(),()=>!1):typeof u=="boolean"?(a(),o.value=u,()=>!1):Array.isArray(u)||typeof u=="string"?C1(u,s):u}return o}const Gg="vue-flow__node-desc",Zg="vue-flow__edge-desc",T1="vue-flow__aria-live",Kg=["Enter"," ","Escape"],fr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function ca(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function da(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function Ya(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Uo(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Xg(e,t){return{x:Uo(e.x,t[0][0],t[1][0]),y:Uo(e.y,t[0][1],t[1][1])}}function Gd(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function xo(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function Ho(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!xo(e)}function es(e){return Ho(e)&&"computedPosition"in e}function pi(e){return!Number.isNaN(e)&&Number.isFinite(e)}function A1(e){return pi(e.width)&&pi(e.height)&&pi(e.x)&&pi(e.y)}function I1(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:Do({width:0,height:0}),computedPosition:Do({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:St(e.data)?e.data:{},events:Do(St(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Jg(e,t,n){var o,r;const s={id:e.id.toString(),type:e.type??(t==null?void 0:t.type)??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(r=e.targetHandle)==null?void 0:r.toString(),updatable:e.updatable??(n==null?void 0:n.updatable),selectable:e.selectable??(n==null?void 0:n.selectable),focusable:e.focusable??(n==null?void 0:n.focusable),data:St(e.data)?e.data:{},events:Do(St(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??(n==null?void 0:n.interactionWidth),...n??{}};return Object.assign(t??s,e,{id:e.id.toString()})}function Qg(e,t,n,o){const r=typeof e=="string"?e:e.id,s=new Set,i=o==="source"?"target":"source";for(const a of n)a[i]===r&&s.add(a[o]);return t.filter(a=>s.has(a.id))}function O1(...e){if(e.length===3){const[s,i,a]=e;return Qg(s,i,a,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>xo(s)&&s.source===o).map(s=>n.find(i=>Ho(i)&&i.id===s.target))}function R1(...e){if(e.length===3){const[s,i,a]=e;return Qg(s,i,a,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(s=>xo(s)&&s.target===o).map(s=>n.find(i=>Ho(i)&&i.id===s.source))}function em({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function M1(e,t){return t.some(n=>xo(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Rs({x:e,y:t},{x:n,y:o,zoom:r}){return{x:e*r+n,y:t*r+o}}function Ms({x:e,y:t},{x:n,y:o,zoom:r},s=!1,i=[1,1]){const a={x:(e-n)/r,y:(t-o)/r};return s?Ga(a,i):a}function tm(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function fa({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function nm({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function D1(e,t){return nm(tm(fa(e),fa(t)))}function $c(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=tm(t,fa({...o.computedPosition,...o.dimensions}))}return nm(t)}function om(e,t,n={x:0,y:0,zoom:1},o=!1,r=!1){const s={...Ms(t,n),width:t.width/n.zoom,height:t.height/n.zoom},i=[];for(const a of e){const{dimensions:l,selectable:u=!0,hidden:c=!1}=a,d=l.width??a.width??null,h=l.height??a.height??null;if(r&&!u||c)continue;const f=da(s,ca(a)),p=d===null||h===null,v=o&&f>0,g=(d??0)*(h??0);(p||v||f>=g||a.dragging)&&i.push(a)}return i}function To(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function tr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=Number.parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return Js(`The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function P1(e,t,n){if(typeof e=="string"||typeof e=="number"){const o=tr(e,n),r=tr(e,t);return{top:o,right:r,bottom:o,left:r,x:r*2,y:o*2}}if(typeof e=="object"){const o=tr(e.top??e.y??0,n),r=tr(e.bottom??e.y??0,n),s=tr(e.left??e.x??0,t),i=tr(e.right??e.x??0,t);return{top:o,right:i,bottom:r,left:s,x:s+i,y:o+r}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function V1(e,t,n,o,r,s){const{x:i,y:a}=Rs(e,{x:t,y:n,zoom:o}),{x:l,y:u}=Rs({x:e.x+e.width,y:e.y+e.height},{x:t,y:n,zoom:o}),c=r-l,d=s-u;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(c),bottom:Math.floor(d)}}function Zd(e,t,n,o,r,s=.1){const i=P1(s,t,n),a=(t-i.x)/e.width,l=(n-i.y)/e.height,u=Math.min(a,l),c=Uo(u,o,r),d=e.x+e.width/2,h=e.y+e.height/2,f=t/2-d*c,p=n/2-h*c,v=V1(e,f,p,c,t,n),g={left:Math.min(v.left-i.left,0),top:Math.min(v.top-i.top,0),right:Math.min(v.right-i.right,0),bottom:Math.min(v.bottom-i.bottom,0)};return{x:f-g.left+g.right,y:p-g.top+g.bottom,zoom:c}}function H1(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function rm(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:rm(n,t):!1}function Ds(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function gu(e){const t=e.ctrlKey&&Ps()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function Kd(e,t,n){return e<t?Uo(Math.abs(e-t),1,t)/t:e>n?-Uo(Math.abs(e-n),1,t)/t:0}function sm(e,t,n=15,o=40){const r=Kd(e.x,o,t.width-o)*n,s=Kd(e.y,o,t.height-o)*n;return[r,s]}function Cl(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let r={};if(typeof t.style=="function"?r={...t.style(t)}:t.style&&(r={...t.style}),r.width=r.width??`${t.dimensions.width}px`,r.height=r.height??`${t.dimensions.height}px`,n>0)if(typeof r.width=="string"){const s=Number(r.width.replace("px",""));r.width=`${s+n}px`}else r.width+=n;if(o>0)if(typeof r.height=="string"){const s=Number(r.height.replace("px",""));r.height=`${s+o}px`}else r.height+=o;if(e.position.x<0){const s=Math.abs(e.position.x);if(t.position.x=t.position.x-s,typeof r.width=="string"){const i=Number(r.width.replace("px",""));r.width=`${i+s}px`}else r.width+=s;e.position.x=0}if(e.position.y<0){const s=Math.abs(e.position.y);if(t.position.y=t.position.y-s,typeof r.height=="string"){const i=Number(r.height.replace("px",""));r.height=`${i+s}px`}else r.height+=s;e.position.y=0}t.dimensions.width=Number(r.width.toString().replace("px","")),t.dimensions.height=Number(r.height.toString().replace("px","")),typeof t.style=="function"?t.style=s=>{const i=t.style;return{...i(s),...r}}:t.style={...t.style,...r}}}}function Xd(e,t){var n,o;const r=e.filter(i=>i.type==="add"||i.type==="remove");for(const i of r)if(i.type==="add")t.findIndex(l=>l.id===i.item.id)===-1&&t.push(i.item);else if(i.type==="remove"){const a=t.findIndex(l=>l.id===i.id);a!==-1&&t.splice(a,1)}const s=t.map(i=>i.id);for(const i of t)for(const a of e)if(a.id===i.id)switch(a.type){case"select":i.selected=a.selected;break;case"position":if(es(i)&&(typeof a.position<"u"&&(i.position=a.position),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&es(l)&&Cl(i,l)}break;case"dimensions":if(es(i)&&(typeof a.dimensions<"u"&&(i.dimensions=a.dimensions),typeof a.updateStyle<"u"&&a.updateStyle&&(i.style={...i.style||{},width:`${(n=a.dimensions)==null?void 0:n.width}px`,height:`${(o=a.dimensions)==null?void 0:o.height}px`}),typeof a.resizing<"u"&&(i.resizing=a.resizing),i.expandParent&&i.parentNode)){const l=t[s.indexOf(i.parentNode)];l&&es(l)&&(!!l.dimensions.width&&!!l.dimensions.height?Cl(i,l):Bt(()=>{Cl(i,l)}))}break}return t}function oo(e,t){return{id:e,type:"select",selected:t}}function Jd(e){return{item:e,type:"add"}}function Qd(e){return{id:e,type:"remove"}}function ef(e,t,n,o,r){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:r||null,type:"remove"}}function ao(e,t=new Set,n=!1){const o=[];for(const[r,s]of e){const i=t.has(r);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),o.push(oo(s.id,i)))}return o}const tf=()=>{};function Se(e){const t=new Set;let n=tf,o=()=>!1;const r=()=>t.size>0||o(),s=h=>{n=h},i=()=>{n=tf},a=h=>{o=h},l=()=>{o=()=>!1},u=h=>{t.delete(h)};return{on:h=>{t.add(h);const f=()=>u(h);return Ns(f),{off:f}},off:u,trigger:h=>{const f=[n];return r()?f.push(...t):e&&f.push(e),Promise.allSettled(f.map(p=>p(h)))},hasListeners:r,listeners:t,setEmitter:s,removeEmitter:i,setHasEmitListeners:a,removeHasEmitListeners:l}}function nf(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function z1(e,t,n,o){var r,s;const i=new Map;for(const[a,l]of e)(l.selected||l.id===o)&&(!l.parentNode||!rm(l,e))&&(l.draggable||t&&typeof l.draggable>"u")&&e.get(a)&&i.set(a,{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-((r=l.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=l.computedPosition)==null?void 0:s.y)||0},from:{x:l.computedPosition.x,y:l.computedPosition.y},extent:l.extent,parentNode:l.parentNode,dimensions:{...l.dimensions},expandParent:l.expandParent});return Array.from(i.values())}function Nl({id:e,dragItems:t,findNode:n}){const o=[];for(const r of t){const s=n(r.id);s&&o.push(s)}return[e?o.find(r=>r.id===e):o[0],o]}function im(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function F1(e,t,n){const[o,r,s,i]=typeof e!="string"?im(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+i,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-r,n.computedPosition.y+n.dimensions.height-s]]:!1}function L1(e,t,n,o){let r=e.extent||n;if((r==="parent"||!Array.isArray(r)&&(r==null?void 0:r.range)==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const s=F1(r,e,o);s&&(r=s)}else t(new Nt($t.NODE_EXTENT_INVALID,e.id)),r=n;else if(Array.isArray(r)){const s=(o==null?void 0:o.computedPosition.x)||0,i=(o==null?void 0:o.computedPosition.y)||0;r=[[r[0][0]+s,r[0][1]+i],[r[1][0]+s,r[1][1]+i]]}else if(r!=="parent"&&(r!=null&&r.range)&&Array.isArray(r.range)){const[s,i,a,l]=im(r.padding),u=(o==null?void 0:o.computedPosition.x)||0,c=(o==null?void 0:o.computedPosition.y)||0;r=[[r.range[0][0]+u+l,r.range[0][1]+c+s],[r.range[1][0]+u-i,r.range[1][1]+c-a]]}return r==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:r}function B1({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Cc(e,t,n,o,r){const s=B1(e.dimensions,L1(e,n,o,r)),i=Xg(t,s);return{position:{x:i.x-((r==null?void 0:r.computedPosition.x)||0),y:i.y-((r==null?void 0:r.computedPosition.y)||0)},computedPosition:i}}function wr(e,t,n=Ne.Left,o=!1){const r=((t==null?void 0:t.x)??0)+e.computedPosition.x,s=((t==null?void 0:t.y)??0)+e.computedPosition.y,{width:i,height:a}=t??W1(e);if(o)return{x:r+i/2,y:s+a/2};switch((t==null?void 0:t.position)??n){case Ne.Top:return{x:r+i/2,y:s};case Ne.Right:return{x:r+i,y:s+a/2};case Ne.Bottom:return{x:r+i/2,y:s+a};case Ne.Left:return{x:r,y:s+a/2}}}function of(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function j1({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:r,targetHeight:s,width:i,height:a,viewport:l}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+r),y2:Math.max(e.y+o,t.y+s)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=fa({x:(0-l.x)/l.zoom,y:(0-l.y)/l.zoom,width:i/l.zoom,height:a/l.zoom}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),h=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*h)>0}function U1(e,t,n=!1){const o=typeof e.zIndex=="number";let r=o?e.zIndex:0;const s=t(e.source),i=t(e.target);return!s||!i?0:(n&&(r=o?e.zIndex:Math.max(s.computedPosition.z||0,i.computedPosition.z||0)),r)}var $t=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))($t||{});const rf={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Nt extends Error{constructor(t,...n){var o;super((o=rf[t])==null?void 0:o.call(rf,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function Nc(e){return"clientX"in e}function q1(e){return"sourceEvent"in e}function wn(e,t){const n=Nc(e);let o,r;return n?(o=e.clientX,r=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,r=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,r=e.changedTouches[0].clientY):(o=0,r=0),{x:o-((t==null?void 0:t.left)??0),y:r-((t==null?void 0:t.top)??0)}}const Ps=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function W1(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Ga(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const Y1=()=>!0;function Tl(e){e==null||e.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function G1(e,t,n){const o=[],r={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())da(r,ca(s))>0&&o.push(s);return o}const Z1=250;function K1(e,t,n,o){var r,s;let i=[],a=Number.POSITIVE_INFINITY;const l=G1(e,n,t+Z1);for(const u of l){const c=[...((r=u.handleBounds)==null?void 0:r.source)??[],...((s=u.handleBounds)==null?void 0:s.target)??[]];for(const d of c){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:h,y:f}=wr(u,d,d.position,!0),p=Math.sqrt((h-e.x)**2+(f-e.y)**2);p>t||(p<a?(i=[{...d,x:h,y:f}],a=p):p===a&&i.push({...d,x:h,y:f}))}}if(!i.length)return null;if(i.length>1){const u=o.type==="source"?"target":"source";return i.find(c=>c.type===u)??i[0]}return i[0]}function sf(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:r,fromType:s,doc:i,lib:a,flowId:l,isValidConnection:u=Y1},c,d,h,f){const p=s==="target",v=t?i.querySelector(`.${a}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:g,y}=wn(e),k=i.elementFromPoint(g,y),_=k!=null&&k.classList.contains(`${a}-flow__handle`)?k:v,O={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const G=am(void 0,_),q=_.getAttribute("data-nodeid"),L=_.getAttribute("data-handleid"),M=_.classList.contains("connectable"),F=_.classList.contains("connectableend");if(!q||!G)return O;const W={source:p?q:o,sourceHandle:p?L:r,target:p?o:q,targetHandle:p?r:L};O.connection=W;const N=M&&F&&(n===Kn.Strict?p&&G==="source"||!p&&G==="target":q!==o||L!==r);O.isValid=N&&u(W,{nodes:d,edges:c,sourceNode:h(W.source),targetNode:h(W.target)}),O.toHandle=lm(q,G,L,f,n,!0)}return O}function am(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function X1(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function J1(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function lm(e,t,n,o,r,s=!1){var i,a,l;const u=o.get(e);if(!u)return null;const c=r===Kn.Strict?(i=u.handleBounds)==null?void 0:i[t]:[...((a=u.handleBounds)==null?void 0:a.source)??[],...((l=u.handleBounds)==null?void 0:l.target)??[]],d=(n?c==null?void 0:c.find(h=>h.id===n):c==null?void 0:c[0])??null;return d&&s?{...d,...wr(u,d,d.position,!0)}:d}const mu={[Ne.Left]:Ne.Right,[Ne.Right]:Ne.Left,[Ne.Top]:Ne.Bottom,[Ne.Bottom]:Ne.Top},Q1=["production","prod"];function Js(e,...t){um()&&console.warn(`[Vue Flow]: ${e}`,...t)}function um(){return!Q1.includes("production")}function af(e,t,n,o,r){const s=t.querySelectorAll(`.vue-flow__handle.${e}`);return s!=null&&s.length?Array.from(s).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:r,position:i.getAttribute("data-handlepos"),x:(a.left-n.left)/o,y:(a.top-n.top)/o,...Ya(i)}}):null}function yu(e,t,n,o,r,s=!1,i){r.value=!1,e.selected?(s||e.selected&&t)&&(o([e]),Bt(()=>{i.blur()})):n([e])}function St(e){return typeof ge(e)<"u"}function ek(e,t,n,o){if(!e||!e.source||!e.target)return n(new Nt($t.EDGE_INVALID,(e==null?void 0:e.id)??"[ID UNKNOWN]")),!1;let r;return xo(e)?r=e:r={...e,id:em(e)},r=Jg(r,void 0,o),M1(r,t)?!1:r}function tk(e,t,n,o,r){if(!t.source||!t.target)return r(new Nt($t.EDGE_INVALID,e.id)),!1;if(!n)return r(new Nt($t.EDGE_NOT_FOUND,e.id)),!1;const{id:s,...i}=e;return{...i,id:o?em(t):s,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function lf(e,t,n){const o={},r=[];for(let s=0;s<e.length;++s){const i=e[s];if(!Ho(i)){n(new Nt($t.NODE_INVALID,i==null?void 0:i.id)||`[ID UNKNOWN|INDEX ${s}]`);continue}const a=I1(i,t(i.id),i.parentNode);i.parentNode&&(o[i.parentNode]=!0),r[s]=a}for(const s of r){const i=t(s.parentNode)||r.find(a=>a.id===s.parentNode);s.parentNode&&!i&&n(new Nt($t.NODE_MISSING_PARENT,s.id,s.parentNode)),(s.parentNode||o[s.id])&&(o[s.id]&&(s.isParent=!0),i&&(i.isParent=!0))}return r}function uf(e,t,n,o,r,s){let i=r;const a=o.get(i)||new Map;o.set(i,a.set(n,t)),i=`${r}-${e}`;const l=o.get(i)||new Map;if(o.set(i,l.set(n,t)),s){i=`${r}-${e}-${s}`;const u=o.get(i)||new Map;o.set(i,u.set(n,t))}}function Al(e,t,n){e.clear();for(const o of n){const{source:r,target:s,sourceHandle:i=null,targetHandle:a=null}=o,l={edgeId:o.id,source:r,target:s,sourceHandle:i,targetHandle:a},u=`${r}-${i}--${s}-${a}`,c=`${s}-${a}--${r}-${i}`;uf("source",l,c,e,r,i),uf("target",l,u,e,s,a)}}function cf(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Il(e,t,n,o,r,s,i,a){const l=[];for(const u of e){const c=xo(u)?u:ek(u,a,r,s);if(!c)continue;const d=n(c.source),h=n(c.target);if(!d||!h){r(new Nt($t.EDGE_SOURCE_TARGET_MISSING,c.id,c.source,c.target));continue}if(!d){r(new Nt($t.EDGE_SOURCE_MISSING,c.id,c.source));continue}if(!h){r(new Nt($t.EDGE_TARGET_MISSING,c.id,c.target));continue}if(t&&!t(c,{edges:a,nodes:i,sourceNode:d,targetNode:h})){r(new Nt($t.EDGE_INVALID,c.id));continue}const f=o(c.id);l.push({...Jg(c,f,s),sourceNode:d,targetNode:h})}return l}const df=Symbol("vueFlow"),cm=Symbol("nodeId"),dm=Symbol("nodeRef"),nk=Symbol("edgeId"),ok=Symbol("edgeRef"),Za=Symbol("slots");function fm(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:r,nodeLookup:s,nodeExtent:i,nodeDragThreshold:a,viewport:l,autoPanOnNodeDrag:u,autoPanSpeed:c,nodesDraggable:d,panBy:h,findNode:f,multiSelectionActive:p,nodesSelectionActive:v,selectNodesOnDrag:g,removeSelectedElements:y,addSelectedNodes:k,updateNodePositions:_,emits:O}=ft(),{onStart:G,onDrag:q,onStop:L,onClick:M,el:F,disabled:W,id:z,selectable:N,dragHandle:Y}=e,m=pr(!1);let T=[],S,H=null,P={x:void 0,y:void 0},Q={x:0,y:0},Z=null,oe=!1,fe=!1,X=0,le=!1;const de=ik(),ye=({x:A,y:R})=>{P={x:A,y:R};let b=!1;if(T=T.map(w=>{const C={x:A-w.distance.x,y:R-w.distance.y},{computedPosition:$}=Cc(w,n.value?Ga(C,o.value):C,O.error,i.value,w.parentNode?f(w.parentNode):void 0);return b=b||w.position.x!==$.x||w.position.y!==$.y,w.position=$,w}),fe=fe||b,!!b&&(_(T,!0,!0),m.value=!0,Z)){const[w,C]=Nl({id:z,dragItems:T,findNode:f});q({event:Z,node:w,nodes:C})}},K=()=>{if(!H)return;const[A,R]=sm(Q,H,c.value);if(A!==0||R!==0){const b={x:(P.x??0)-A/l.value.zoom,y:(P.y??0)-R/l.value.zoom};h({x:A,y:R})&&ye(b)}X=requestAnimationFrame(K)},ae=(A,R)=>{oe=!0;const b=f(z);!g.value&&!p.value&&b&&(b.selected||y()),b&&Ze(N)&&g.value&&yu(b,p.value,k,y,v,!1,R);const w=de(A.sourceEvent);if(P=w,T=z1(s.value,d.value,w,z),T.length){const[C,$]=Nl({id:z,dragItems:T,findNode:f});G({event:A.sourceEvent,node:C,nodes:$})}},ie=(A,R)=>{var b;A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1||(fe=!1,a.value===0&&ae(A,R),P=de(A.sourceEvent),H=((b=t.value)==null?void 0:b.getBoundingClientRect())||null,Q=wn(A.sourceEvent,H))},ve=(A,R)=>{const b=de(A.sourceEvent);if(!le&&oe&&u.value&&(le=!0,K()),!oe){const w=b.xSnapped-(P.x??0),C=b.ySnapped-(P.y??0);Math.sqrt(w*w+C*C)>a.value&&ae(A,R)}(P.x!==b.xSnapped||P.y!==b.ySnapped)&&T.length&&oe&&(Z=A.sourceEvent,Q=wn(A.sourceEvent,H),ye(b))},Te=A=>{let R=!1;if(!oe&&!m.value&&!p.value){const b=A.sourceEvent,w=de(b),C=w.xSnapped-(P.x??0),$=w.ySnapped-(P.y??0),U=Math.sqrt(C*C+$*$);U!==0&&U<=a.value&&(M==null||M(b),R=!0)}if(T.length&&!R){fe&&(_(T,!1,!1),fe=!1);const[b,w]=Nl({id:z,dragItems:T,findNode:f});L({event:A.sourceEvent,node:b,nodes:w})}T=[],m.value=!1,le=!1,oe=!1,P={x:void 0,y:void 0},cancelAnimationFrame(X)};return ze([()=>Ze(W),F],([A,R],b,w)=>{if(R){const C=nn(R);A||(S=A_().on("start",$=>ie($,R)).on("drag",$=>ve($,R)).on("end",$=>Te($)).filter($=>{const U=$.target,ee=Ze(Y);return!$.button&&(!r.value||!nf(U,`.${r.value}`,R)&&(!ee||nf(U,ee,R)))}),C.call(S)),w(()=>{C.on(".drag",null),S&&(S.on("start",null),S.on("drag",null),S.on("end",null))})}}),m}function rk(){return{doubleClick:Se(),click:Se(),mouseEnter:Se(),mouseMove:Se(),mouseLeave:Se(),contextMenu:Se(),updateStart:Se(),update:Se(),updateEnd:Se()}}function sk(e,t){const n=rk();return n.doubleClick.on(o=>{var r,s;t.edgeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.edgeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.edgeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.edgeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.edgeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.edgeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.updateStart.on(o=>{var r,s;t.edgeUpdateStart(o),(s=(r=e.events)==null?void 0:r.updateStart)==null||s.call(r,o)}),n.update.on(o=>{var r,s;t.edgeUpdate(o),(s=(r=e.events)==null?void 0:r.update)==null||s.call(r,o)}),n.updateEnd.on(o=>{var r,s;t.edgeUpdateEnd(o),(s=(r=e.events)==null?void 0:r.updateEnd)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function ik(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=ft();return r=>{var s;const i=((s=o.value)==null?void 0:s.getBoundingClientRect())??{left:0,top:0},a=q1(r)?r.sourceEvent:r,{x:l,y:u}=wn(a,i),c=Ms({x:l,y:u},e.value),{x:d,y:h}=n.value?Ga(c,t.value):c;return{xSnapped:d,ySnapped:h,...c}}}function gi(){return!0}function hm({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:r,onEdgeUpdate:s,onEdgeUpdateEnd:i}){const{id:a,vueFlowRef:l,connectionMode:u,connectionRadius:c,connectOnClick:d,connectionClickStartHandle:h,nodesConnectable:f,autoPanOnConnect:p,autoPanSpeed:v,findNode:g,panBy:y,startConnection:k,updateConnection:_,endConnection:O,emits:G,viewport:q,edges:L,nodes:M,isValidConnection:F,nodeLookup:W}=ft();let z=null,N=!1,Y=null;function m(S){var H;const P=Ze(n)==="target",Q=Nc(S),Z=Gd(S.target),oe=S.currentTarget;if(oe&&(Q&&S.button===0||!Q)){let fe=function(D){b=wn(D,Te),ye=K1(Ms(b,q.value,!1,[1,1]),c.value,W.value,$),w||(C(),w=!0);const J=sf(D,{handle:ye,connectionMode:u.value,fromNodeId:Ze(t),fromHandleId:Ze(e),fromType:P?"target":"source",isValidConnection:de,doc:Z,lib:"vue",flowId:a,nodeLookup:W.value},L.value,M.value,g,W.value);Y=J.handleDomNode,z=J.connection,N=J1(!!ye,J.isValid);const se={...I,isValid:N,to:J.toHandle&&N?Rs({x:J.toHandle.x,y:J.toHandle.y},q.value):b,toHandle:J.toHandle,toPosition:N&&J.toHandle?J.toHandle.position:mu[$.position],toNode:J.toHandle?W.value.get(J.toHandle.nodeId):null};if(N&&ye&&(I!=null&&I.toHandle)&&se.toHandle&&I.toHandle.type===se.toHandle.type&&I.toHandle.nodeId===se.toHandle.nodeId&&I.toHandle.id===se.toHandle.id&&I.to.x===se.to.x&&I.to.y===se.to.y)return;const ue=ye??J.toHandle;if(_(ue&&N?Rs({x:ue.x,y:ue.y},q.value):b,J.toHandle,X1(!!ue,N)),I=se,!ye&&!N&&!Y)return Tl(R);z&&z.source!==z.target&&Y&&(Tl(R),R=Y,Y.classList.add("connecting","vue-flow__handle-connecting"),Y.classList.toggle("valid",!!N),Y.classList.toggle("vue-flow__handle-valid",!!N))},X=function(D){"touches"in D&&D.touches.length>0||((ye||Y)&&z&&N&&(s?s(D,z):G.connect(z)),G.connectEnd(D),r&&(i==null||i(D)),Tl(R),cancelAnimationFrame(K),O(D),w=!1,N=!1,z=null,Y=null,Z.removeEventListener("mousemove",fe),Z.removeEventListener("mouseup",X),Z.removeEventListener("touchmove",fe),Z.removeEventListener("touchend",X))};const le=g(Ze(t));let de=Ze(o)||F.value||gi;!de&&le&&(de=(P?le.isValidSourcePos:le.isValidTargetPos)||gi);let ye,K=0;const{x:ae,y:ie}=wn(S),ve=am(Ze(r),oe),Te=(H=l.value)==null?void 0:H.getBoundingClientRect();if(!Te||!ve)return;const A=lm(Ze(t),ve,Ze(e),W.value,u.value);if(!A)return;let R,b=wn(S,Te),w=!1;const C=()=>{if(!p.value)return;const[D,J]=sm(b,Te,v.value);y({x:D,y:J}),K=requestAnimationFrame(C)},$={...A,nodeId:Ze(t),type:ve,position:A.position},U=W.value.get(Ze(t)),E={inProgress:!0,isValid:null,from:wr(U,$,Ne.Left,!0),fromHandle:$,fromPosition:$.position,fromNode:U,to:b,toHandle:null,toPosition:mu[$.position],toNode:null};k({nodeId:Ze(t),id:Ze(e),type:ve,position:(oe==null?void 0:oe.getAttribute("data-handlepos"))||Ne.Top,...b},{x:ae-Te.left,y:ie-Te.top}),G.connectStart({event:S,nodeId:Ze(t),handleId:Ze(e),handleType:ve});let I=E;Z.addEventListener("mousemove",fe),Z.addEventListener("mouseup",X),Z.addEventListener("touchmove",fe),Z.addEventListener("touchend",X)}}function T(S){var H,P;if(!d.value)return;const Q=Ze(n)==="target";if(!h.value){G.clickConnectStart({event:S,nodeId:Ze(t),handleId:Ze(e)}),k({nodeId:Ze(t),type:Ze(n),id:Ze(e),position:Ne.Top,...wn(S)},void 0,!0);return}let Z=Ze(o)||F.value||gi;const oe=g(Ze(t));if(!Z&&oe&&(Z=(Q?oe.isValidSourcePos:oe.isValidTargetPos)||gi),oe&&(typeof oe.connectable>"u"?f.value:oe.connectable)===!1)return;const fe=Gd(S.target),X=sf(S,{handle:{nodeId:Ze(t),id:Ze(e),type:Ze(n),position:Ne.Top,...wn(S)},connectionMode:u.value,fromNodeId:h.value.nodeId,fromHandleId:h.value.id??null,fromType:h.value.type,isValidConnection:Z,doc:fe,lib:"vue",flowId:a,nodeLookup:W.value},L.value,M.value,g,W.value),le=((H=X.connection)==null?void 0:H.source)===((P=X.connection)==null?void 0:P.target);X.isValid&&X.connection&&!le&&G.connect(X.connection),G.clickConnectEnd(S),O(S,!0)}return{handlePointerDown:m,handleClick:T}}function ak(){return Tt(cm,"")}function pm(e){const t=e??ak()??"",n=Tt(dm,he(null)),{findNode:o,edges:r,emits:s}=ft(),i=o(t);return i||s.error(new Nt($t.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:i,parentNode:ne(()=>o(i.parentNode)),connectedEdges:ne(()=>To([i],r.value))}}function lk(){return{doubleClick:Se(),click:Se(),mouseEnter:Se(),mouseMove:Se(),mouseLeave:Se(),contextMenu:Se(),dragStart:Se(),drag:Se(),dragStop:Se()}}function uk(e,t){const n=lk();return n.doubleClick.on(o=>{var r,s;t.nodeDoubleClick(o),(s=(r=e.events)==null?void 0:r.doubleClick)==null||s.call(r,o)}),n.click.on(o=>{var r,s;t.nodeClick(o),(s=(r=e.events)==null?void 0:r.click)==null||s.call(r,o)}),n.mouseEnter.on(o=>{var r,s;t.nodeMouseEnter(o),(s=(r=e.events)==null?void 0:r.mouseEnter)==null||s.call(r,o)}),n.mouseMove.on(o=>{var r,s;t.nodeMouseMove(o),(s=(r=e.events)==null?void 0:r.mouseMove)==null||s.call(r,o)}),n.mouseLeave.on(o=>{var r,s;t.nodeMouseLeave(o),(s=(r=e.events)==null?void 0:r.mouseLeave)==null||s.call(r,o)}),n.contextMenu.on(o=>{var r,s;t.nodeContextMenu(o),(s=(r=e.events)==null?void 0:r.contextMenu)==null||s.call(r,o)}),n.dragStart.on(o=>{var r,s;t.nodeDragStart(o),(s=(r=e.events)==null?void 0:r.dragStart)==null||s.call(r,o)}),n.drag.on(o=>{var r,s;t.nodeDrag(o),(s=(r=e.events)==null?void 0:r.drag)==null||s.call(r,o)}),n.dragStop.on(o=>{var r,s;t.nodeDragStop(o),(s=(r=e.events)==null?void 0:r.dragStop)==null||s.call(r,o)}),Object.entries(n).reduce((o,[r,s])=>(o.emit[r]=s.trigger,o.on[r]=s.on,o),{emit:{},on:{}})}function gm(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:r,snapToGrid:s,nodesDraggable:i,emits:a}=ft();return(l,u=!1)=>{const c=s.value?r.value[0]:5,d=s.value?r.value[1]:5,h=u?4:1,f=l.x*c*h,p=l.y*d*h,v=[];for(const g of e.value)if(g.draggable||i&&typeof g.draggable>"u"){const y={x:g.computedPosition.x+f,y:g.computedPosition.y+p},{computedPosition:k}=Cc(g,y,a.error,t.value,g.parentNode?o(g.parentNode):void 0);v.push({id:g.id,position:k,from:g.position,distance:{x:l.x,y:l.y},dimensions:g.dimensions})}n(v,!0,!1)}}const mi=.1,ck=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function eo(){return Js("Viewport not initialized yet."),Promise.resolve(!1)}const dk={zoomIn:eo,zoomOut:eo,zoomTo:eo,fitView:eo,setCenter:eo,fitBounds:eo,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:eo,setTransform:eo,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function fk(e){function t(o,r){return new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((r==null?void 0:r.interpolate)==="linear"?ms:Ai).scaleBy(Ol(e.d3Selection,r==null?void 0:r.duration,r==null?void 0:r.ease,()=>{s(!0)}),o):s(!1)})}function n(o,r,s,i){return new Promise(a=>{var l;const{x:u,y:c}=Xg({x:-o,y:-r},e.translateExtent),d=_r.translate(-u,-c).scale(s);e.d3Selection&&e.d3Zoom?(l=e.d3Zoom)==null||l.interpolate((i==null?void 0:i.interpolate)==="linear"?ms:Ai).transform(Ol(e.d3Selection,i==null?void 0:i.duration,i==null?void 0:i.ease,()=>{a(!0)}),d):a(!1)})}return ne(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:r=>t(1.2,r),zoomOut:r=>t(1/1.2,r),zoomTo:(r,s)=>new Promise(i=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate((s==null?void 0:s.interpolate)==="linear"?ms:Ai).scaleTo(Ol(e.d3Selection,s==null?void 0:s.duration,s==null?void 0:s.ease,()=>{i(!0)}),r):i(!1)}),setViewport:(r,s)=>n(r.x,r.y,r.zoom,s),setTransform:(r,s)=>n(r.x,r.y,r.zoom,s),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(r={padding:mi,includeHiddenNodes:!1,duration:0})=>{var s,i;const a=[];for(const h of e.nodes)h.dimensions.width&&h.dimensions.height&&((r==null?void 0:r.includeHiddenNodes)||!h.hidden)&&(!((s=r.nodes)!=null&&s.length)||(i=r.nodes)!=null&&i.length&&r.nodes.includes(h.id))&&a.push(h);if(!a.length)return Promise.resolve(!1);const l=$c(a),{x:u,y:c,zoom:d}=Zd(l,e.dimensions.width,e.dimensions.height,r.minZoom??e.minZoom,r.maxZoom??e.maxZoom,r.padding??mi);return n(u,c,d,r)},setCenter:(r,s,i)=>{const a=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:e.maxZoom,l=e.dimensions.width/2-r*a,u=e.dimensions.height/2-s*a;return n(l,u,a,i)},fitBounds:(r,s={padding:mi})=>{const{x:i,y:a,zoom:l}=Zd(r,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,s.padding??mi);return n(i,a,l,s)},project:r=>Ms(r,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x-s,y:r.y-i};return Ms(a,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:r=>{if(e.vueFlowRef){const{x:s,y:i}=e.vueFlowRef.getBoundingClientRect(),a={x:r.x+s,y:r.y+i};return Rs(a,e.viewport)}return{x:0,y:0}}}:dk)}function Ol(e,t=0,n=ck,o=()=>{}){const r=typeof t=="number"&&t>0;return r||o(),r?e.transition().duration(t).ease(n).on("end",o):e}function hk(e,t,n){const o=Ra(!0);return o.run(()=>{const r=()=>{o.run(()=>{let v,g,y=!!(n.nodes.value.length||n.edges.value.length);v=er([e.modelValue,()=>{var k,_;return(_=(k=e.modelValue)==null?void 0:k.value)==null?void 0:_.length}],([k])=>{k&&Array.isArray(k)&&(g==null||g.pause(),n.setElements(k),!g&&!y&&k.length?y=!0:g==null||g.resume())}),g=er([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([k,_])=>{var O;(O=e.modelValue)!=null&&O.value&&Array.isArray(e.modelValue.value)&&(v==null||v.pause(),e.modelValue.value=[...k,..._],Bt(()=>{v==null||v.resume()}))},{immediate:y}),ls(()=>{v==null||v.stop(),g==null||g.stop()})})},s=()=>{o.run(()=>{let v,g,y=!!n.nodes.value.length;v=er([e.nodes,()=>{var k,_;return(_=(k=e.nodes)==null?void 0:k.value)==null?void 0:_.length}],([k])=>{k&&Array.isArray(k)&&(g==null||g.pause(),n.setNodes(k),!g&&!y&&k.length?y=!0:g==null||g.resume())}),g=er([n.nodes,()=>n.nodes.value.length],([k])=>{var _;(_=e.nodes)!=null&&_.value&&Array.isArray(e.nodes.value)&&(v==null||v.pause(),e.nodes.value=[...k],Bt(()=>{v==null||v.resume()}))},{immediate:y}),ls(()=>{v==null||v.stop(),g==null||g.stop()})})},i=()=>{o.run(()=>{let v,g,y=!!n.edges.value.length;v=er([e.edges,()=>{var k,_;return(_=(k=e.edges)==null?void 0:k.value)==null?void 0:_.length}],([k])=>{k&&Array.isArray(k)&&(g==null||g.pause(),n.setEdges(k),!g&&!y&&k.length?y=!0:g==null||g.resume())}),g=er([n.edges,()=>n.edges.value.length],([k])=>{var _;(_=e.edges)!=null&&_.value&&Array.isArray(e.edges.value)&&(v==null||v.pause(),e.edges.value=[...k],Bt(()=>{v==null||v.resume()}))},{immediate:y}),ls(()=>{v==null||v.stop(),g==null||g.stop()})})},a=()=>{o.run(()=>{ze(()=>t.maxZoom,()=>{t.maxZoom&&St(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},l=()=>{o.run(()=>{ze(()=>t.minZoom,()=>{t.minZoom&&St(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},u=()=>{o.run(()=>{ze(()=>t.translateExtent,()=>{t.translateExtent&&St(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},c=()=>{o.run(()=>{ze(()=>t.nodeExtent,()=>{t.nodeExtent&&St(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{ze(()=>t.applyDefault,()=>{St(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},h=()=>{o.run(()=>{const v=async g=>{let y=g;typeof t.autoConnect=="function"&&(y=await t.autoConnect(g)),y!==!1&&n.addEdges([y])};ze(()=>t.autoConnect,()=>{St(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),ze(n.autoConnect,(g,y,k)=>{g?n.onConnect(v):n.hooks.value.connect.off(v),k(()=>{n.hooks.value.connect.off(v)})},{immediate:!0})})},f=()=>{const v=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const g of Object.keys(t)){const y=g;if(!v.includes(y)){const k=it(()=>t[y]),_=n[y];vt(_)&&o.run(()=>{ze(k,O=>{St(O)&&(_.value=O)},{immediate:!0})})}}};(()=>{r(),s(),i(),l(),a(),u(),c(),d(),h(),f()})()}),()=>o.stop()}function pk(){return{edgesChange:Se(),nodesChange:Se(),nodeDoubleClick:Se(),nodeClick:Se(),nodeMouseEnter:Se(),nodeMouseMove:Se(),nodeMouseLeave:Se(),nodeContextMenu:Se(),nodeDragStart:Se(),nodeDrag:Se(),nodeDragStop:Se(),nodesInitialized:Se(),miniMapNodeClick:Se(),miniMapNodeDoubleClick:Se(),miniMapNodeMouseEnter:Se(),miniMapNodeMouseMove:Se(),miniMapNodeMouseLeave:Se(),connect:Se(),connectStart:Se(),connectEnd:Se(),clickConnectStart:Se(),clickConnectEnd:Se(),paneReady:Se(),init:Se(),move:Se(),moveStart:Se(),moveEnd:Se(),selectionDragStart:Se(),selectionDrag:Se(),selectionDragStop:Se(),selectionContextMenu:Se(),selectionStart:Se(),selectionEnd:Se(),viewportChangeStart:Se(),viewportChange:Se(),viewportChangeEnd:Se(),paneScroll:Se(),paneClick:Se(),paneContextMenu:Se(),paneMouseEnter:Se(),paneMouseMove:Se(),paneMouseLeave:Se(),edgeContextMenu:Se(),edgeMouseEnter:Se(),edgeMouseMove:Se(),edgeMouseLeave:Se(),edgeDoubleClick:Se(),edgeClick:Se(),edgeUpdateStart:Se(),edgeUpdate:Se(),edgeUpdateEnd:Se(),updateNodeInternals:Se(),error:Se(e=>Js(e.message))}}function gk(e,t){const n=Qn();Dp(()=>{for(const[r,s]of Object.entries(t.value)){const i=a=>{e(r,a)};s.setEmitter(i),Ns(s.removeEmitter),s.setHasEmitListeners(()=>o(r)),Ns(s.removeHasEmitListeners)}});function o(r){var s;const i=mk(r);return!!((s=n==null?void 0:n.vnode.props)==null?void 0:s[i])}}function mk(e){const[t,...n]=e.split(":");return`on${t.replace(/(?:^|-)(\w)/g,(r,s)=>s.toUpperCase())}${n.length?`:${n.join(":")}`:""}`}function mm(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Sc.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:ys.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:No.Bezier,style:{}},connectionMode:Kn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:Ps()?"Meta":"Control",zoomActivationKeyCode:Ps()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:pk(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const yk=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function vk(e,t,n){const o=fk(e),r=b=>{const w=b??[];e.hooks.updateNodeInternals.trigger(w)},s=b=>R1(b,e.nodes,e.edges),i=b=>O1(b,e.nodes,e.edges),a=b=>To(b,e.edges),l=({id:b,type:w,nodeId:C})=>{var $;const U=b?`-${w}-${b}`:`-${w}`;return Array.from((($=e.connectionLookup.get(`${C}${U}`))==null?void 0:$.values())??[])},u=b=>{if(b)return t.value.get(b)},c=b=>{if(b)return n.value.get(b)},d=(b,w,C)=>{var $,U;const ee=[];for(const E of b){const I={id:E.id,type:"position",dragging:C,from:E.from};if(w&&(I.position=E.position,E.parentNode)){const D=u(E.parentNode);I.position={x:I.position.x-((($=D==null?void 0:D.computedPosition)==null?void 0:$.x)??0),y:I.position.y-(((U=D==null?void 0:D.computedPosition)==null?void 0:U.y)??0)}}ee.push(I)}ee!=null&&ee.length&&e.hooks.nodesChange.trigger(ee)},h=b=>{if(!e.vueFlowRef)return;const w=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!w)return;const C=window.getComputedStyle(w),{m22:$}=new window.DOMMatrixReadOnly(C.transform),U=[];for(const ee of b){const E=ee,I=u(E.id);if(I){const D=Ya(E.nodeElement);if(!!(D.width&&D.height&&(I.dimensions.width!==D.width||I.dimensions.height!==D.height||E.forceUpdate))){const se=E.nodeElement.getBoundingClientRect();I.dimensions=D,I.handleBounds.source=af("source",E.nodeElement,se,$,I.id),I.handleBounds.target=af("target",E.nodeElement,se,$,I.id),U.push({id:I.id,type:"dimensions",dimensions:D})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),U.length&&e.hooks.nodesChange.trigger(U)},f=(b,w)=>{const C=new Set,$=new Set;for(const E of b)Ho(E)?C.add(E.id):xo(E)&&$.add(E.id);const U=ao(t.value,C,!0),ee=ao(n.value,$);if(e.multiSelectionActive){for(const E of C)U.push(oo(E,w));for(const E of $)ee.push(oo(E,w))}U.length&&e.hooks.nodesChange.trigger(U),ee.length&&e.hooks.edgesChange.trigger(ee)},p=b=>{if(e.multiSelectionActive){const w=b.map(C=>oo(C.id,!0));e.hooks.nodesChange.trigger(w);return}e.hooks.nodesChange.trigger(ao(t.value,new Set(b.map(w=>w.id)),!0)),e.hooks.edgesChange.trigger(ao(n.value))},v=b=>{if(e.multiSelectionActive){const w=b.map(C=>oo(C.id,!0));e.hooks.edgesChange.trigger(w);return}e.hooks.edgesChange.trigger(ao(n.value,new Set(b.map(w=>w.id)))),e.hooks.nodesChange.trigger(ao(t.value,new Set,!0))},g=b=>{f(b,!0)},y=b=>{const C=(b||e.nodes).map($=>($.selected=!1,oo($.id,!1)));e.hooks.nodesChange.trigger(C)},k=b=>{const C=(b||e.edges).map($=>($.selected=!1,oo($.id,!1)));e.hooks.edgesChange.trigger(C)},_=b=>{if(!b||!b.length)return f([],!1);const w=b.reduce((C,$)=>{const U=oo($.id,!1);return Ho($)?C.nodes.push(U):C.edges.push(U),C},{nodes:[],edges:[]});w.nodes.length&&e.hooks.nodesChange.trigger(w.nodes),w.edges.length&&e.hooks.edgesChange.trigger(w.edges)},O=b=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([b,e.maxZoom]),e.minZoom=b},G=b=>{var w;(w=e.d3Zoom)==null||w.scaleExtent([e.minZoom,b]),e.maxZoom=b},q=b=>{var w;(w=e.d3Zoom)==null||w.translateExtent(b),e.translateExtent=b},L=b=>{e.nodeExtent=b,r()},M=b=>{var w;(w=e.d3Zoom)==null||w.clickDistance(b)},F=b=>{e.nodesDraggable=b,e.nodesConnectable=b,e.elementsSelectable=b},W=b=>{const w=b instanceof Function?b(e.nodes):b;!e.initialized&&!w.length||(e.nodes=lf(w,u,e.hooks.error.trigger))},z=b=>{const w=b instanceof Function?b(e.edges):b;if(!e.initialized&&!w.length)return;const C=Il(w,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);Al(e.connectionLookup,n.value,C),e.edges=C},N=b=>{const w=b instanceof Function?b([...e.nodes,...e.edges]):b;!e.initialized&&!w.length||(W(w.filter(Ho)),z(w.filter(xo)))},Y=b=>{let w=b instanceof Function?b(e.nodes):b;w=Array.isArray(w)?w:[w];const C=lf(w,u,e.hooks.error.trigger),$=[];for(const U of C)$.push(Jd(U));$.length&&e.hooks.nodesChange.trigger($)},m=b=>{let w=b instanceof Function?b(e.edges):b;w=Array.isArray(w)?w:[w];const C=Il(w,e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),$=[];for(const U of C)$.push(Jd(U));$.length&&e.hooks.edgesChange.trigger($)},T=(b,w=!0,C=!1)=>{const $=b instanceof Function?b(e.nodes):b,U=Array.isArray($)?$:[$],ee=[],E=[];function I(J){const se=a(J);for(const ue of se)(!St(ue.deletable)||ue.deletable)&&E.push(ef(ue.id,ue.source,ue.target,ue.sourceHandle,ue.targetHandle))}function D(J){const se=[];for(const ue of e.nodes)ue.parentNode===J&&se.push(ue);if(se.length){for(const ue of se)ee.push(Qd(ue.id));w&&I(se);for(const ue of se)D(ue.id)}}for(const J of U){const se=typeof J=="string"?u(J):J;se&&(St(se.deletable)&&!se.deletable||(ee.push(Qd(se.id)),w&&I([se]),C&&D(se.id)))}E.length&&e.hooks.edgesChange.trigger(E),ee.length&&e.hooks.nodesChange.trigger(ee)},S=b=>{const w=b instanceof Function?b(e.edges):b,C=Array.isArray(w)?w:[w],$=[];for(const U of C){const ee=typeof U=="string"?c(U):U;ee&&(St(ee.deletable)&&!ee.deletable||$.push(ef(typeof U=="string"?U:U.id,ee.source,ee.target,ee.sourceHandle,ee.targetHandle)))}e.hooks.edgesChange.trigger($)},H=(b,w,C=!0)=>{const $=c(b.id);if(!$)return!1;const U=e.edges.indexOf($),ee=tk(b,w,$,C,e.hooks.error.trigger);if(ee){const[E]=Il([ee],e.isValidConnection,u,c,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((I,D)=>D===U?E:I),Al(e.connectionLookup,n.value,[E]),E}return!1},P=(b,w,C={replace:!1})=>{const $=c(b);if(!$)return;const U=typeof w=="function"?w($):w;$.data=C.replace?U:{...$.data,...U}},Q=b=>Xd(b,e.nodes),Z=b=>{const w=Xd(b,e.edges);return Al(e.connectionLookup,n.value,w),w},oe=(b,w,C={replace:!1})=>{const $=u(b);if(!$)return;const U=typeof w=="function"?w($):w;C.replace?e.nodes.splice(e.nodes.indexOf($),1,U):Object.assign($,U)},fe=(b,w,C={replace:!1})=>{const $=u(b);if(!$)return;const U=typeof w=="function"?w($):w;$.data=C.replace?U:{...$.data,...U}},X=(b,w,C=!1)=>{C?e.connectionClickStartHandle=b:e.connectionStartHandle=b,e.connectionEndHandle=null,e.connectionStatus=null,w&&(e.connectionPosition=w)},le=(b,w=null,C=null)=>{e.connectionStartHandle&&(e.connectionPosition=b,e.connectionEndHandle=w,e.connectionStatus=C)},de=(b,w)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,w?e.connectionClickStartHandle=null:e.connectionStartHandle=null},ye=b=>{const w=A1(b),C=w?null:es(b)?b:u(b.id);return!w&&!C?[null,null,w]:[w?b:ca(C),C,w]},K=(b,w=!0,C=e.nodes)=>{const[$,U,ee]=ye(b);if(!$)return[];const E=[];for(const I of C||e.nodes){if(!ee&&(I.id===U.id||!I.computedPosition))continue;const D=ca(I),J=da(D,$);(w&&J>0||J>=D.width*D.height||J>=Number($.width)*Number($.height))&&E.push(I)}return E},ae=(b,w,C=!0)=>{const[$]=ye(b);if(!$)return!1;const U=da($,w);return C&&U>0||U>=Number($.width)*Number($.height)},ie=b=>{const{viewport:w,dimensions:C,d3Zoom:$,d3Selection:U,translateExtent:ee}=e;if(!$||!U||!b.x&&!b.y)return!1;const E=_r.translate(w.x+b.x,w.y+b.y).scale(w.zoom),I=[[0,0],[C.width,C.height]],D=$.constrain()(E,I,ee),J=e.viewport.x!==D.x||e.viewport.y!==D.y||e.viewport.zoom!==D.k;return $.transform(U,D),J},ve=b=>{const w=b instanceof Function?b(e):b,C=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];St(w.defaultEdgeOptions)&&(e.defaultEdgeOptions=w.defaultEdgeOptions);const $=w.modelValue||w.nodes||w.edges?[]:void 0;$&&(w.modelValue&&$.push(...w.modelValue),w.nodes&&$.push(...w.nodes),w.edges&&$.push(...w.edges),N($));const U=()=>{St(w.maxZoom)&&G(w.maxZoom),St(w.minZoom)&&O(w.minZoom),St(w.translateExtent)&&q(w.translateExtent)};for(const ee of Object.keys(w)){const E=ee,I=w[E];![...yk,...C].includes(E)&&St(I)&&(e[E]=I)}ru(()=>e.d3Zoom).not.toBeNull().then(U),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:h,setElements:N,setNodes:W,setEdges:z,addNodes:Y,addEdges:m,removeNodes:T,removeEdges:S,findNode:u,findEdge:c,updateEdge:H,updateEdgeData:P,updateNode:oe,updateNodeData:fe,applyEdgeChanges:Z,applyNodeChanges:Q,addSelectedElements:g,addSelectedNodes:p,addSelectedEdges:v,setMinZoom:O,setMaxZoom:G,setTranslateExtent:q,setNodeExtent:L,setPaneClickDistance:M,removeSelectedElements:_,removeSelectedNodes:y,removeSelectedEdges:k,startConnection:X,updateConnection:le,endConnection:de,setInteractive:F,setState:ve,getIntersectingNodes:K,getIncomers:s,getOutgoers:i,getConnectedEdges:a,getHandleConnections:l,isNodeIntersecting:ae,panBy:ie,fitView:b=>o.value.fitView(b),zoomIn:b=>o.value.zoomIn(b),zoomOut:b=>o.value.zoomOut(b),zoomTo:(b,w)=>o.value.zoomTo(b,w),setViewport:(b,w)=>o.value.setViewport(b,w),setTransform:(b,w)=>o.value.setTransform(b,w),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(b,w,C)=>o.value.setCenter(b,w,C),fitBounds:(b,w)=>o.value.fitBounds(b,w),project:b=>o.value.project(b),screenToFlowCoordinate:b=>o.value.screenToFlowCoordinate(b),flowToScreenCoordinate:b=>o.value.flowToScreenCoordinate(b),toObject:()=>{const b=[],w=[];for(const C of e.nodes){const{computedPosition:$,handleBounds:U,selected:ee,dimensions:E,isParent:I,resizing:D,dragging:J,events:se,...ue}=C;b.push(ue)}for(const C of e.edges){const{selected:$,sourceNode:U,targetNode:ee,events:E,...I}=C;w.push(I)}return JSON.parse(JSON.stringify({nodes:b,edges:w,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:b=>new Promise(w=>{const{nodes:C,edges:$,position:U,zoom:ee,viewport:E}=b;if(C&&W(C),$&&z($),E!=null&&E.x&&(E!=null&&E.y)||U){const I=(E==null?void 0:E.x)||U[0],D=(E==null?void 0:E.y)||U[1],J=(E==null?void 0:E.zoom)||ee||e.viewport.zoom;return ru(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:I,y:D,zoom:J}).then(()=>{w(!0)})})}else w(!0)}),updateNodeInternals:r,viewportHelper:o,$reset:()=>{const b=mm();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const w=_r.translate(b.defaultViewport.x??0,b.defaultViewport.y??0).scale(Uo(b.defaultViewport.zoom??1,b.minZoom,b.maxZoom)),C=e.viewportRef.getBoundingClientRect(),$=[[0,0],[C.width,C.height]],U=e.d3Zoom.constrain()(w,$,b.translateExtent);e.d3Zoom.transform(e.d3Selection,U)}ve(b)},$destroy:()=>{}}}const bk=["data-id","data-handleid","data-nodeid","data-handlepos"],xk={name:"Handle",compatConfig:{MODE:3}},_o=at({...xk,props:{id:{default:null},type:{},position:{default:()=>Ne.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=l0(e,["position","connectable","connectableStart","connectableEnd","id"]),o=it(()=>n.type??"source"),r=it(()=>n.isValidConnection??null),{id:s,connectionStartHandle:i,connectionClickStartHandle:a,connectionEndHandle:l,vueFlowRef:u,nodesConnectable:c,noDragClassName:d,noPanClassName:h}=ft(),{id:f,node:p,nodeEl:v,connectedEdges:g}=pm(),y=he(),k=it(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),_=it(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),O=it(()=>{var z,N,Y,m,T,S;return((z=i.value)==null?void 0:z.nodeId)===f&&((N=i.value)==null?void 0:N.id)===e.id&&((Y=i.value)==null?void 0:Y.type)===o.value||((m=l.value)==null?void 0:m.nodeId)===f&&((T=l.value)==null?void 0:T.id)===e.id&&((S=l.value)==null?void 0:S.type)===o.value}),G=it(()=>{var z,N,Y;return((z=a.value)==null?void 0:z.nodeId)===f&&((N=a.value)==null?void 0:N.id)===e.id&&((Y=a.value)==null?void 0:Y.type)===o.value}),{handlePointerDown:q,handleClick:L}=hm({nodeId:f,handleId:e.id,isValidConnection:r,type:o}),M=ne(()=>typeof e.connectable=="string"&&e.connectable==="single"?!g.value.some(z=>{const N=z[`${o.value}Handle`];return z[o.value]!==f?!1:N?N===e.id:!0}):typeof e.connectable=="number"?g.value.filter(z=>{const N=z[`${o.value}Handle`];return z[o.value]!==f?!1:N?N===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(p,g.value):St(e.connectable)?e.connectable:c.value);Et(()=>{var z;if(!p.dimensions.width||!p.dimensions.height)return;const N=(z=p.handleBounds[o.value])==null?void 0:z.find(Q=>Q.id===e.id);if(!u.value||N)return;const Y=u.value.querySelector(".vue-flow__transformationpane");if(!v.value||!y.value||!Y||!e.id)return;const m=v.value.getBoundingClientRect(),T=y.value.getBoundingClientRect(),S=window.getComputedStyle(Y),{m22:H}=new window.DOMMatrixReadOnly(S.transform),P={id:e.id,position:e.position,x:(T.left-m.left)/H,y:(T.top-m.top)/H,type:o.value,nodeId:f,...Ya(y.value)};p.handleBounds[o.value]=[...p.handleBounds[o.value]??[],P]});function F(z){const N=Nc(z);M.value&&k.value&&(N&&z.button===0||!N)&&q(z)}function W(z){!f||!a.value&&!k.value||M.value&&L(z)}return t({handleClick:L,handlePointerDown:q,onClick:W,onPointerDown:F}),(z,N)=>(V(),B("div",{ref_key:"handle",ref:y,"data-id":`${ge(s)}-${ge(f)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":ge(f),"data-handlepos":z.position,class:nt(["vue-flow__handle",[`vue-flow__handle-${z.position}`,`vue-flow__handle-${e.id}`,ge(d),ge(h),o.value,{connectable:M.value,connecting:G.value,connectablestart:k.value,connectableend:_.value,connectionindicator:M.value&&(k.value&&!O.value||_.value&&O.value)}]]),onMousedown:F,onTouchstartPassive:F,onClick:W},[bt(z.$slots,"default",{id:z.id})],42,bk))}}),Ka=function({sourcePosition:e=Ne.Bottom,targetPosition:t=Ne.Top,label:n,connectable:o=!0,isValidTargetPos:r,isValidSourcePos:s,data:i}){const a=i.label??n;return[Qe(_o,{type:"target",position:t,connectable:o,isValidConnection:r}),typeof a!="string"&&a?Qe(a):Qe(Pe,[a]),Qe(_o,{type:"source",position:e,connectable:o,isValidConnection:s})]};Ka.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];Ka.inheritAttrs=!1;Ka.compatConfig={MODE:3};const _k=Ka,Xa=function({targetPosition:e=Ne.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:r}){const s=r.label??t;return[Qe(_o,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof s!="string"&&s?Qe(s):Qe(Pe,[s])]};Xa.props=["targetPosition","label","isValidTargetPos","connectable","data"];Xa.inheritAttrs=!1;Xa.compatConfig={MODE:3};const wk=Xa,Ja=function({sourcePosition:e=Ne.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:r}){const s=r.label??t;return[typeof s!="string"&&s?Qe(s):Qe(Pe,[s]),Qe(_o,{type:"source",position:e,connectable:n,isValidConnection:o})]};Ja.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Ja.inheritAttrs=!1;Ja.compatConfig={MODE:3};const kk=Ja,Ek=["transform"],Sk=["width","height","x","y","rx","ry"],$k=["y"],Ck={name:"EdgeText",compatConfig:{MODE:3}},Nk=at({...Ck,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=he({x:0,y:0,width:0,height:0}),n=he(null),o=ne(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);Et(r),ze([()=>e.x,()=>e.y,n,()=>e.label],r);function r(){if(!n.value)return;const s=n.value.getBBox();(s.width!==t.value.width||s.height!==t.value.height)&&(t.value=s)}return(s,i)=>(V(),B("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[s.labelShowBg?(V(),B("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*s.labelBgPadding[0]}px`,height:`${t.value.height+2*s.labelBgPadding[1]}px`,x:-s.labelBgPadding[0],y:-s.labelBgPadding[1],style:gt(s.labelBgStyle),rx:s.labelBgBorderRadius,ry:s.labelBgBorderRadius},null,12,Sk)):Ee("",!0),x("text",Ss(s.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:s.labelStyle}),[bt(s.$slots,"default",{},()=>[typeof s.label!="string"?(V(),pt(fo(s.label),{key:0})):(V(),B(Pe,{key:1},[ut(xe(s.label),1)],64))])],16,$k)],8,Ek))}}),Tk=["id","d","marker-end","marker-start"],Ak=["d","stroke-width"],Ik={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Qa=at({...Ik,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=he(null),o=he(null),r=he(null),s=hc();return t({pathEl:n,interactionEl:o,labelEl:r}),(i,a)=>(V(),B(Pe,null,[x("path",Ss(ge(s),{id:i.id,ref_key:"pathEl",ref:n,d:i.path,class:"vue-flow__edge-path","marker-end":i.markerEnd,"marker-start":i.markerStart}),null,16,Tk),i.interactionWidth?(V(),B("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:i.path,"stroke-width":i.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Ak)):Ee("",!0),i.label&&i.labelX&&i.labelY?(V(),pt(Nk,{key:1,ref_key:"labelEl",ref:r,x:i.labelX,y:i.labelY,label:i.label,"label-show-bg":i.labelShowBg,"label-bg-style":i.labelBgStyle,"label-bg-padding":i.labelBgPadding,"label-bg-border-radius":i.labelBgBorderRadius,"label-style":i.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ee("",!0)],64))}});function ym({sourceX:e,sourceY:t,targetX:n,targetY:o}){const r=Math.abs(n-e)/2,s=n<e?n+r:n-r,i=Math.abs(o-t)/2,a=o<t?o+i:o-i;return[s,a,r,i]}function vm({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:r,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=e*.125+r*.375+i*.375+n*.125,u=t*.125+s*.375+a*.375+o*.125,c=Math.abs(l-e),d=Math.abs(u-t);return[l,u,c,d]}function yi(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function ff({pos:e,x1:t,y1:n,x2:o,y2:r,c:s}){let i,a;switch(e){case Ne.Left:i=t-yi(t-o,s),a=n;break;case Ne.Right:i=t+yi(o-t,s),a=n;break;case Ne.Top:i=t,a=n-yi(n-r,s);break;case Ne.Bottom:i=t,a=n+yi(r-n,s);break}return[i,a]}function bm(e){const{sourceX:t,sourceY:n,sourcePosition:o=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,curvature:a=.25}=e,[l,u]=ff({pos:o,x1:t,y1:n,x2:r,y2:s,c:a}),[c,d]=ff({pos:i,x1:r,y1:s,x2:t,y2:n,c:a}),[h,f,p,v]=vm({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:c,targetControlY:d});return[`M${t},${n} C${l},${u} ${c},${d} ${r},${s}`,h,f,p,v]}function hf({pos:e,x1:t,y1:n,x2:o,y2:r}){let s,i;switch(e){case Ne.Left:case Ne.Right:s=.5*(t+o),i=n;break;case Ne.Top:case Ne.Bottom:s=t,i=.5*(n+r);break}return[s,i]}function xm(e){const{sourceX:t,sourceY:n,sourcePosition:o=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top}=e,[a,l]=hf({pos:o,x1:t,y1:n,x2:r,y2:s}),[u,c]=hf({pos:i,x1:r,y1:s,x2:t,y2:n}),[d,h,f,p]=vm({sourceX:t,sourceY:n,targetX:r,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:c});return[`M${t},${n} C${a},${l} ${u},${c} ${r},${s}`,d,h,f,p]}const pf={[Ne.Left]:{x:-1,y:0},[Ne.Right]:{x:1,y:0},[Ne.Top]:{x:0,y:-1},[Ne.Bottom]:{x:0,y:1}};function Ok({source:e,sourcePosition:t=Ne.Bottom,target:n}){return t===Ne.Left||t===Ne.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function gf(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Rk({source:e,sourcePosition:t=Ne.Bottom,target:n,targetPosition:o=Ne.Top,center:r,offset:s}){const i=pf[t],a=pf[o],l={x:e.x+i.x*s,y:e.y+i.y*s},u={x:n.x+a.x*s,y:n.y+a.y*s},c=Ok({source:l,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",h=c[d];let f,p,v;const g={x:0,y:0},y={x:0,y:0},[k,_,O,G]=ym({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*a[d]===-1){p=r.x??k,v=r.y??_;const L=[{x:p,y:l.y},{x:p,y:u.y}],M=[{x:l.x,y:v},{x:u.x,y:v}];i[d]===h?f=d==="x"?L:M:f=d==="x"?M:L}else{const L=[{x:l.x,y:u.y}],M=[{x:u.x,y:l.y}];if(d==="x"?f=i.x===h?M:L:f=i.y===h?L:M,t===o){const Y=Math.abs(e[d]-n[d]);if(Y<=s){const m=Math.min(s-1,s-Y);i[d]===h?g[d]=(l[d]>e[d]?-1:1)*m:y[d]=(u[d]>n[d]?-1:1)*m}}if(t!==o){const Y=d==="x"?"y":"x",m=i[d]===a[Y],T=l[Y]>u[Y],S=l[Y]<u[Y];(i[d]===1&&(!m&&T||m&&S)||i[d]!==1&&(!m&&S||m&&T))&&(f=d==="x"?L:M)}const F={x:l.x+g.x,y:l.y+g.y},W={x:u.x+y.x,y:u.y+y.y},z=Math.max(Math.abs(F.x-f[0].x),Math.abs(W.x-f[0].x)),N=Math.max(Math.abs(F.y-f[0].y),Math.abs(W.y-f[0].y));z>=N?(p=(F.x+W.x)/2,v=f[0].y):(p=f[0].x,v=(F.y+W.y)/2)}return[[e,{x:l.x+g.x,y:l.y+g.y},...f,{x:u.x+y.x,y:u.y+y.y},n],p,v,O,G]}function Mk(e,t,n,o){const r=Math.min(gf(e,t)/2,gf(t,n)/2,o),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${s+r*u},${i}Q ${s},${i} ${s},${i+r*c}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${i+r*l}Q ${s},${i} ${s+r*a},${i}`}function vu(e){const{sourceX:t,sourceY:n,sourcePosition:o=Ne.Bottom,targetX:r,targetY:s,targetPosition:i=Ne.Top,borderRadius:a=5,centerX:l,centerY:u,offset:c=20}=e,[d,h,f,p,v]=Rk({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:s},targetPosition:i,center:{x:l,y:u},offset:c});return[d.reduce((y,k,_)=>{let O;return _>0&&_<d.length-1?O=Mk(d[_-1],k,d[_+1],a):O=`${_===0?"M":"L"}${k.x} ${k.y}`,y+=O,y},""),h,f,p,v]}function Dk(e){const{sourceX:t,sourceY:n,targetX:o,targetY:r}=e,[s,i,a,l]=ym({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,s,i,a,l]}const Pk=at({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=Dk(e);return Qe(Qa,{path:n,labelX:o,labelY:r,...t,...e})}}}),Vk=Pk,Hk=at({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=vu({...e,sourcePosition:e.sourcePosition??Ne.Bottom,targetPosition:e.targetPosition??Ne.Top});return Qe(Qa,{path:n,labelX:o,labelY:r,...t,...e})}}}),_m=Hk,zk=at({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Qe(_m,{...e,...t,borderRadius:0})}}),Fk=zk,Lk=at({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=bm({...e,sourcePosition:e.sourcePosition??Ne.Bottom,targetPosition:e.targetPosition??Ne.Top});return Qe(Qa,{path:n,labelX:o,labelY:r,...t,...e})}}}),Bk=Lk,jk=at({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,r]=xm({...e,sourcePosition:e.sourcePosition??Ne.Bottom,targetPosition:e.targetPosition??Ne.Top});return Qe(Qa,{path:n,labelX:o,labelY:r,...t,...e})}}}),Uk=jk,qk={input:kk,default:_k,output:wk},Wk={default:Bk,straight:Vk,step:Fk,smoothstep:_m,simplebezier:Uk};function Yk(e,t,n){const o=ne(()=>v=>t.value.get(v)),r=ne(()=>v=>n.value.get(v)),s=ne(()=>{const v={...Wk,...e.edgeTypes},g=Object.keys(v);for(const y of e.edges)y.type&&!g.includes(y.type)&&(v[y.type]=y.type);return v}),i=ne(()=>{const v={...qk,...e.nodeTypes},g=Object.keys(v);for(const y of e.nodes)y.type&&!g.includes(y.type)&&(v[y.type]=y.type);return v}),a=ne(()=>e.onlyRenderVisibleElements?om(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),l=ne(()=>{if(e.onlyRenderVisibleElements){const v=[];for(const g of e.edges){const y=t.value.get(g.source),k=t.value.get(g.target);j1({sourcePos:y.computedPosition||{x:0,y:0},targetPos:k.computedPosition||{x:0,y:0},sourceWidth:y.dimensions.width,sourceHeight:y.dimensions.height,targetWidth:k.dimensions.width,targetHeight:k.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&v.push(g)}return v}return e.edges}),u=ne(()=>[...a.value,...l.value]),c=ne(()=>{const v=[];for(const g of e.nodes)g.selected&&v.push(g);return v}),d=ne(()=>{const v=[];for(const g of e.edges)g.selected&&v.push(g);return v}),h=ne(()=>[...c.value,...d.value]),f=ne(()=>{const v=[];for(const g of e.nodes)g.dimensions.width&&g.dimensions.height&&g.handleBounds!==void 0&&v.push(g);return v}),p=ne(()=>a.value.length>0&&f.value.length===a.value.length);return{getNode:o,getEdge:r,getElements:u,getEdgeTypes:s,getNodeTypes:i,getEdges:l,getNodes:a,getSelectedElements:h,getSelectedNodes:c,getSelectedEdges:d,getNodesInitialized:f,areNodesInitialized:p}}class Ao{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=Qn())==null?void 0:t.appContext.app,o=(n==null?void 0:n.config.globalProperties.$vueFlowStorage)??Ao.instance;return Ao.instance=o??new Ao,n&&(n.config.globalProperties.$vueFlowStorage=Ao.instance),Ao.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=mm(),r=Pr(o),s={};for(const[h,f]of Object.entries(r.hooks)){const p=`on${h.charAt(0).toUpperCase()+h.slice(1)}`;s[p]=f.on}const i={};for(const[h,f]of Object.entries(r.hooks))i[h]=f.trigger;const a=ne(()=>{const h=new Map;for(const f of r.nodes)h.set(f.id,f);return h}),l=ne(()=>{const h=new Map;for(const f of r.edges)h.set(f.id,f);return h}),u=Yk(r,a,l),c=vk(r,a,l);c.setState({...r,...n});const d={...s,...u,...c,...zb(r),nodeLookup:a,edgeLookup:l,emits:i,id:t,vueFlowVersion:"1.47.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function ft(e){const t=Ao.getInstance(),n=Ma(),o=typeof e=="object",r=o?e:{id:e},s=r.id,i=s??(n==null?void 0:n.vueFlowId);let a;if(n){const l=Tt(df,null);typeof l<"u"&&l!==null&&(!i||l.id===i)&&(a=l)}if(a||i&&(a=t.get(i)),!a||i&&a.id!==i){const l=s??t.getId(),u=t.create(l,r);a=u,(n??Ra(!0)).run(()=>{ze(u.applyDefault,(d,h,f)=>{const p=g=>{u.applyNodeChanges(g)},v=g=>{u.applyEdgeChanges(g)};d?(u.onNodesChange(p),u.onEdgesChange(v)):(u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(v)),f(()=>{u.hooks.value.nodesChange.off(p),u.hooks.value.edgesChange.off(v)})},{immediate:!0}),Ns(()=>{if(a){const d=t.get(a.id);d?d.$destroy():Js(`No store instance found for id ${a.id} in storage.`)}})})}else o&&a.setState(r);if(n&&(ln(df,a),n.vueFlowId=a.id),o){const l=Qn();(l==null?void 0:l.type.name)!=="VueFlow"&&a.emits.error(new Nt($t.USEVUEFLOW_OPTIONS))}return a}function Gk(e){const{emits:t,dimensions:n}=ft();let o;Et(()=>{const r=()=>{var s,i;if(!e.value||!(((i=(s=e.value).checkVisibility)==null?void 0:i.call(s))??!0))return;const a=Ya(e.value);(a.width===0||a.height===0)&&t.error(new Nt($t.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:a.width||500,height:a.height||500}};r(),window.addEventListener("resize",r),e.value&&(o=new ResizeObserver(()=>r()),o.observe(e.value)),dc(()=>{window.removeEventListener("resize",r),o&&e.value&&o.unobserve(e.value)})})}const Zk={name:"UserSelection",compatConfig:{MODE:3}},Kk=at({...Zk,props:{userSelectionRect:{}},setup(e){return(t,n)=>(V(),B("div",{class:"vue-flow__selection vue-flow__container",style:gt({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),Xk=["tabIndex"],Jk={name:"NodesSelection",compatConfig:{MODE:3}},Qk=at({...Jk,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:r,disableKeyboardA11y:s,userSelectionActive:i}=ft(),a=gm(),l=he(null),u=fm({el:l,onStart(p){t.selectionDragStart(p),t.nodeDragStart(p)},onDrag(p){t.selectionDrag(p),t.nodeDrag(p)},onStop(p){t.selectionDragStop(p),t.nodeDragStop(p)}});Et(()=>{var p;s.value||(p=l.value)==null||p.focus({preventScroll:!0})});const c=ne(()=>$c(o.value)),d=ne(()=>({width:`${c.value.width}px`,height:`${c.value.height}px`,top:`${c.value.y}px`,left:`${c.value.x}px`}));function h(p){t.selectionContextMenu({event:p,nodes:o.value})}function f(p){s||fr[p.key]&&(p.preventDefault(),a({x:fr[p.key].x,y:fr[p.key].y},p.shiftKey))}return(p,v)=>!ge(i)&&c.value.width&&c.value.height?(V(),B("div",{key:0,class:nt(["vue-flow__nodesselection vue-flow__container",ge(r)]),style:gt({transform:`translate(${ge(n).x}px,${ge(n).y}px) scale(${ge(n).zoom})`})},[x("div",{ref_key:"el",ref:l,class:nt([{dragging:ge(u)},"vue-flow__nodesselection-rect"]),style:gt(d.value),tabIndex:ge(s)?void 0:-1,onContextmenu:h,onKeydown:f},null,46,Xk)],6)):Ee("",!0)}});function eE(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const tE={name:"Pane",compatConfig:{MODE:3}},nE=at({...tE,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:r,userSelectionActive:s,removeSelectedElements:i,userSelectionRect:a,elementsSelectable:l,nodesSelectionActive:u,getSelectedEdges:c,getSelectedNodes:d,removeNodes:h,removeEdges:f,selectionMode:p,deleteKeyCode:v,multiSelectionKeyCode:g,multiSelectionActive:y,edgeLookup:k,nodeLookup:_,connectionLookup:O,defaultEdgeOptions:G,connectionStartHandle:q}=ft(),L=he(null),M=he(new Set),F=he(new Set),W=he(),z=it(()=>l.value&&(e.isSelecting||s.value)),N=it(()=>q.value!==null);let Y=!1,m=!1;const T=vs(v,{actInsideInputWithModifier:!1}),S=vs(g);ze(T,le=>{le&&(h(d.value),f(c.value),u.value=!1)}),ze(S,le=>{y.value=le});function H(le,de){return ye=>{ye.target===de&&(le==null||le(ye))}}function P(le){if(Y||N.value){Y=!1;return}r.paneClick(le),i(),u.value=!1}function Q(le){le.preventDefault(),le.stopPropagation(),r.paneContextMenu(le)}function Z(le){r.paneScroll(le)}function oe(le){var de,ye,K;if(W.value=(de=t.value)==null?void 0:de.getBoundingClientRect(),!l.value||!e.isSelecting||le.button!==0||le.target!==L.value||!W.value)return;(K=(ye=le.target)==null?void 0:ye.setPointerCapture)==null||K.call(ye,le.pointerId);const{x:ae,y:ie}=eE(le,W.value);m=!0,Y=!1,i(),a.value={width:0,height:0,startX:ae,startY:ie,x:ae,y:ie},r.selectionStart(le)}function fe(le){var de;if(!W.value||!a.value)return;Y=!0;const{x:ye,y:K}=wn(le,W.value),{startX:ae=0,startY:ie=0}=a.value,ve={startX:ae,startY:ie,x:ye<ae?ye:ae,y:K<ie?K:ie,width:Math.abs(ye-ae),height:Math.abs(K-ie)},Te=M.value,A=F.value;M.value=new Set(om(n.value,ve,o.value,p.value===Sc.Partial,!0).map(b=>b.id)),F.value=new Set;const R=((de=G.value)==null?void 0:de.selectable)??!0;for(const b of M.value){const w=O.value.get(b);if(w)for(const{edgeId:C}of w.values()){const $=k.value.get(C);$&&($.selectable??R)&&F.value.add(C)}}if(!cf(Te,M.value)){const b=ao(_.value,M.value,!0);r.nodesChange(b)}if(!cf(A,F.value)){const b=ao(k.value,F.value);r.edgesChange(b)}a.value=ve,s.value=!0,u.value=!1}function X(le){var de;le.button!==0||!m||((de=le.target)==null||de.releasePointerCapture(le.pointerId),!s.value&&a.value&&le.target===L.value&&P(le),s.value=!1,a.value=null,u.value=M.value.size>0,r.selectionEnd(le),e.selectionKeyPressed&&(Y=!1),m=!1)}return(le,de)=>(V(),B("div",{ref_key:"container",ref:L,class:nt(["vue-flow__pane vue-flow__container",{selection:le.isSelecting}]),onClick:de[0]||(de[0]=ye=>z.value?void 0:H(P,L.value)(ye)),onContextmenu:de[1]||(de[1]=ye=>H(Q,L.value)(ye)),onWheelPassive:de[2]||(de[2]=ye=>H(Z,L.value)(ye)),onPointerenter:de[3]||(de[3]=ye=>z.value?void 0:ge(r).paneMouseEnter(ye)),onPointerdown:de[4]||(de[4]=ye=>z.value?oe(ye):ge(r).paneMouseMove(ye)),onPointermove:de[5]||(de[5]=ye=>z.value?fe(ye):ge(r).paneMouseMove(ye)),onPointerup:de[6]||(de[6]=ye=>z.value?X(ye):void 0),onPointerleave:de[7]||(de[7]=ye=>ge(r).paneMouseLeave(ye))},[bt(le.$slots,"default"),ge(s)&&ge(a)?(V(),pt(Kk,{key:0,"user-selection-rect":ge(a)},null,8,["user-selection-rect"])):Ee("",!0),ge(u)&&ge(d).length?(V(),pt(Qk,{key:1})):Ee("",!0)],34))}}),oE={name:"Transform",compatConfig:{MODE:3}},rE=at({...oE,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=ft(),r=ne(()=>n.value?!o.value:!1),s=ne(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(i,a)=>(V(),B("div",{class:"vue-flow__transformationpane vue-flow__container",style:gt({transform:s.value,opacity:r.value?0:void 0})},[bt(i.$slots,"default")],4))}}),sE={name:"Viewport",compatConfig:{MODE:3}},iE=at({...sE,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:r,zoomActivationKeyCode:s,selectionKeyCode:i,panActivationKeyCode:a,panOnScroll:l,panOnScrollMode:u,panOnScrollSpeed:c,panOnDrag:d,zoomOnDoubleClick:h,zoomOnPinch:f,zoomOnScroll:p,preventScrolling:v,noWheelClassName:g,noPanClassName:y,emits:k,connectionStartHandle:_,userSelectionActive:O,paneDragging:G,d3Zoom:q,d3Selection:L,d3ZoomHandler:M,viewport:F,viewportRef:W,paneClickDistance:z}=ft();Gk(W);const N=pr(!1),Y=pr(!1);let m=null,T=!1,S=0,H={x:0,y:0,zoom:0};const P=vs(a),Q=vs(i),Z=vs(s),oe=it(()=>(!Q.value||Q.value&&i.value===!0)&&(P.value||d.value)),fe=it(()=>P.value||l.value),X=it(()=>Q.value||i.value===!0&&oe.value!==!0),le=it(()=>_.value!==null);Et(()=>{if(!W.value){Js("Viewport element is missing");return}const ie=W.value,ve=ie.getBoundingClientRect(),Te=k1().clickDistance(z.value).scaleExtent([t.value,n.value]).translateExtent(r.value),A=nn(ie).call(Te),R=A.on("wheel.zoom"),b=_r.translate(o.value.x??0,o.value.y??0).scale(Uo(o.value.zoom??1,t.value,n.value)),w=[[0,0],[ve.width,ve.height]],C=Te.constrain()(b,w,r.value);Te.transform(A,C),Te.wheelDelta(gu),q.value=Te,L.value=A,M.value=R,F.value={x:C.x,y:C.y,zoom:C.k},Te.on("start",$=>{var U;if(!$.sourceEvent)return null;S=$.sourceEvent.button,N.value=!0;const ee=K($.transform);((U=$.sourceEvent)==null?void 0:U.type)==="mousedown"&&(G.value=!0),H=ee,k.viewportChangeStart(ee),k.moveStart({event:$,flowTransform:ee})}),Te.on("end",$=>{if(!$.sourceEvent)return null;if(N.value=!1,G.value=!1,de(oe.value,S??0)&&!T&&k.paneContextMenu($.sourceEvent),T=!1,ye(H,$.transform)){const U=K($.transform);H=U,k.viewportChangeEnd(U),k.moveEnd({event:$,flowTransform:U})}}),Te.filter($=>{var U;const ee=Z.value||p.value,E=f.value&&$.ctrlKey,I=$.button,D=$.type==="wheel";if(I===1&&$.type==="mousedown"&&(ae($,"vue-flow__node")||ae($,"vue-flow__edge")))return!0;if(!oe.value&&!ee&&!fe.value&&!h.value&&!f.value||O.value||le.value&&!D||!h.value&&$.type==="dblclick"||ae($,g.value)&&D||ae($,y.value)&&(!D||fe.value&&D&&!Z.value)||!f.value&&$.ctrlKey&&D||!ee&&!fe.value&&!E&&D)return!1;if(!f&&$.type==="touchstart"&&((U=$.touches)==null?void 0:U.length)>1)return $.preventDefault(),!1;if(!oe.value&&($.type==="mousedown"||$.type==="touchstart")||i.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&I===0||Array.isArray(d.value)&&!d.value.includes(I)&&($.type==="mousedown"||$.type==="touchstart"))return!1;const J=Array.isArray(d.value)&&d.value.includes(I)||i.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!I||I<=1;return(!$.ctrlKey||P.value||D)&&J}),ze([O,oe],()=>{O.value&&!N.value?Te.on("zoom",null):O.value||Te.on("zoom",$=>{F.value={x:$.transform.x,y:$.transform.y,zoom:$.transform.k};const U=K($.transform);T=de(oe.value,S??0),k.viewportChange(U),k.move({event:$,flowTransform:U})})},{immediate:!0}),ze([O,fe,u,Z,f,v,g],()=>{fe.value&&!Z.value&&!O.value?A.on("wheel.zoom",$=>{if(ae($,g.value))return!1;const U=Z.value||p.value,ee=f.value&&$.ctrlKey;if(!(!v.value||fe.value||U||ee))return!1;$.preventDefault(),$.stopImmediatePropagation();const I=A.property("__zoom").k||1,D=Ps();if(!P.value&&$.ctrlKey&&f.value&&D){const Oe=vn($),Re=gu($),De=I*2**Re;Te.scaleTo(A,De,Oe,$);return}const J=$.deltaMode===1?20:1;let se=u.value===ys.Vertical?0:$.deltaX*J,ue=u.value===ys.Horizontal?0:$.deltaY*J;!D&&$.shiftKey&&u.value!==ys.Vertical&&!se&&ue&&(se=ue,ue=0),Te.translateBy(A,-(se/I)*c.value,-(ue/I)*c.value);const ke=K(A.property("__zoom"));m&&clearTimeout(m),Y.value?(k.move({event:$,flowTransform:ke}),k.viewportChange(ke),m=setTimeout(()=>{k.moveEnd({event:$,flowTransform:ke}),k.viewportChangeEnd(ke),Y.value=!1},150)):(Y.value=!0,k.moveStart({event:$,flowTransform:ke}),k.viewportChangeStart(ke))},{passive:!1}):typeof R<"u"&&A.on("wheel.zoom",function($,U){const ee=!v.value&&$.type==="wheel"&&!$.ctrlKey,E=Z.value||p.value,I=f.value&&$.ctrlKey;if(!E&&!l.value&&!I&&$.type==="wheel"||ee||ae($,g.value))return null;$.preventDefault(),R.call(this,$,U)},{passive:!1})},{immediate:!0})});function de(ie,ve){return ve===2&&Array.isArray(ie)&&ie.includes(2)}function ye(ie,ve){return ie.x!==ve.x&&!Number.isNaN(ve.x)||ie.y!==ve.y&&!Number.isNaN(ve.y)||ie.zoom!==ve.k&&!Number.isNaN(ve.k)}function K(ie){return{x:ie.x,y:ie.y,zoom:ie.k}}function ae(ie,ve){return ie.target.closest(`.${ve}`)}return(ie,ve)=>(V(),B("div",{ref_key:"viewportRef",ref:W,class:"vue-flow__viewport vue-flow__container"},[ce(nE,{"is-selecting":X.value,"selection-key-pressed":ge(Q),class:nt({connecting:le.value,dragging:ge(G),draggable:ge(d)===!0||Array.isArray(ge(d))&&ge(d).includes(0)})},{default:Ve(()=>[ce(rE,null,{default:Ve(()=>[bt(ie.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),aE=["id"],lE=["id"],uE=["id"],cE={name:"A11yDescriptions",compatConfig:{MODE:3}},dE=at({...cE,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=ft();return(r,s)=>(V(),B(Pe,null,[x("div",{id:`${ge(Gg)}-${ge(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+xe(ge(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,aE),x("div",{id:`${ge(Zg)}-${ge(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,lE),ge(n)?Ee("",!0):(V(),B("div",{key:0,id:`${ge(T1)}-${ge(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},xe(ge(o)),9,uE))],64))}});function fE(){const e=ft();ze(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function hE(e,t,n){return n===Ne.Left?e-t:n===Ne.Right?e+t:e}function pE(e,t,n){return n===Ne.Top?e-t:n===Ne.Bottom?e+t:e}const Tc=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=Ne.Top,type:r}){return Qe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${r}`,cx:hE(t,e,o),cy:pE(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Tc.props=["radius","centerX","centerY","position","type"];Tc.compatConfig={MODE:3};const mf=Tc,gE=at({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:r,emits:s,nodesSelectionActive:i,noPanClassName:a,getEdgeTypes:l,removeSelectedEdges:u,findEdge:c,findNode:d,isValidConnection:h,multiSelectionActive:f,disableKeyboardA11y:p,elementsSelectable:v,edgesUpdatable:g,edgesFocusable:y,hooks:k}=ft(),_=ne(()=>c(e.id)),{emit:O,on:G}=sk(_.value,s),q=Tt(Za),L=Qn(),M=he(!1),F=he(!1),W=he(""),z=he(null),N=he("source"),Y=he(null),m=it(()=>typeof _.value.selectable>"u"?v.value:_.value.selectable),T=it(()=>typeof _.value.updatable>"u"?g.value:_.value.updatable),S=it(()=>typeof _.value.focusable>"u"?y.value:_.value.focusable);ln(nk,e.id),ln(ok,Y);const H=ne(()=>_.value.class instanceof Function?_.value.class(_.value):_.value.class),P=ne(()=>_.value.style instanceof Function?_.value.style(_.value):_.value.style),Q=ne(()=>{const w=_.value.type||"default",C=q==null?void 0:q[`edge-${w}`];if(C)return C;let $=_.value.template??l.value[w];if(typeof $=="string"&&L){const U=Object.keys(L.appContext.components);U&&U.includes(w)&&($=fc(w,!1))}return $&&typeof $!="string"?$:(s.error(new Nt($t.EDGE_TYPE_MISSING,$)),!1)}),{handlePointerDown:Z}=hm({nodeId:W,handleId:z,type:N,isValidConnection:h,edgeUpdaterType:N,onEdgeUpdate:X,onEdgeUpdateEnd:le});return()=>{const w=d(_.value.source),C=d(_.value.target),$="pathOptions"in _.value?_.value.pathOptions:{};if(!w&&!C)return s.error(new Nt($t.EDGE_SOURCE_TARGET_MISSING,_.value.id,_.value.source,_.value.target)),null;if(!w)return s.error(new Nt($t.EDGE_SOURCE_MISSING,_.value.id,_.value.source)),null;if(!C)return s.error(new Nt($t.EDGE_TARGET_MISSING,_.value.id,_.value.target)),null;if(!_.value||_.value.hidden||w.hidden||C.hidden)return null;let U;o.value===Kn.Strict?U=w.handleBounds.source:U=[...w.handleBounds.source||[],...w.handleBounds.target||[]];const ee=of(U,_.value.sourceHandle);let E;o.value===Kn.Strict?E=C.handleBounds.target:E=[...C.handleBounds.target||[],...C.handleBounds.source||[]];const I=of(E,_.value.targetHandle),D=(ee==null?void 0:ee.position)||Ne.Bottom,J=(I==null?void 0:I.position)||Ne.Top,{x:se,y:ue}=wr(w,ee,D),{x:ke,y:Oe}=wr(C,I,J);return _.value.sourceX=se,_.value.sourceY=ue,_.value.targetX=ke,_.value.targetY=Oe,Qe("g",{ref:Y,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${Q.value===!1?"default":_.value.type||"default"}`,a.value,H.value,{updating:M.value,selected:_.value.selected,animated:_.value.animated,inactive:!m.value&&!k.value.edgeClick.hasListeners()}],tabIndex:S.value?0:void 0,"aria-label":_.value.ariaLabel===null?void 0:_.value.ariaLabel??`Edge from ${_.value.source} to ${_.value.target}`,"aria-describedby":S.value?`${Zg}-${t}`:void 0,"aria-roledescription":"edge",role:S.value?"group":"img",..._.value.domAttributes,onClick:ye,onContextmenu:K,onDblclick:ae,onMouseenter:ie,onMousemove:ve,onMouseleave:Te,onKeyDown:S.value?b:void 0},[F.value?null:Qe(Q.value===!1?l.value.default:Q.value,{id:e.id,sourceNode:w,targetNode:C,source:_.value.source,target:_.value.target,type:_.value.type,updatable:T.value,selected:_.value.selected,animated:_.value.animated,label:_.value.label,labelStyle:_.value.labelStyle,labelShowBg:_.value.labelShowBg,labelBgStyle:_.value.labelBgStyle,labelBgPadding:_.value.labelBgPadding,labelBgBorderRadius:_.value.labelBgBorderRadius,data:_.value.data,events:{..._.value.events,...G},style:P.value,markerStart:`url('#${Ds(_.value.markerStart,t)}')`,markerEnd:`url('#${Ds(_.value.markerEnd,t)}')`,sourcePosition:D,targetPosition:J,sourceX:se,sourceY:ue,targetX:ke,targetY:Oe,sourceHandleId:_.value.sourceHandle,targetHandleId:_.value.targetHandle,interactionWidth:_.value.interactionWidth,...$}),[T.value==="source"||T.value===!0?[Qe("g",{onMousedown:A,onMouseenter:oe,onMouseout:fe},Qe(mf,{position:D,centerX:se,centerY:ue,radius:r.value,type:"source","data-type":"source"}))]:null,T.value==="target"||T.value===!0?[Qe("g",{onMousedown:R,onMouseenter:oe,onMouseout:fe},Qe(mf,{position:J,centerX:ke,centerY:Oe,radius:r.value,type:"target","data-type":"target"}))]:null]])};function oe(){M.value=!0}function fe(){M.value=!1}function X(w,C){O.update({event:w,edge:_.value,connection:C})}function le(w){O.updateEnd({event:w,edge:_.value}),F.value=!1}function de(w,C){w.button===0&&(F.value=!0,W.value=C?_.value.target:_.value.source,z.value=(C?_.value.targetHandle:_.value.sourceHandle)??null,N.value=C?"target":"source",O.updateStart({event:w,edge:_.value}),Z(w))}function ye(w){var C;const $={event:w,edge:_.value};m.value&&(i.value=!1,_.value.selected&&f.value?(u([_.value]),(C=Y.value)==null||C.blur()):n([_.value])),O.click($)}function K(w){O.contextMenu({event:w,edge:_.value})}function ae(w){O.doubleClick({event:w,edge:_.value})}function ie(w){O.mouseEnter({event:w,edge:_.value})}function ve(w){O.mouseMove({event:w,edge:_.value})}function Te(w){O.mouseLeave({event:w,edge:_.value})}function A(w){de(w,!0)}function R(w){de(w,!1)}function b(w){var C;!p.value&&Kg.includes(w.key)&&m.value&&(w.key==="Escape"?((C=Y.value)==null||C.blur(),u([c(e.id)])):n([c(e.id)]))}}}),mE=gE,yE=at({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:r,connectionPosition:s,connectionLineType:i,connectionLineStyle:a,connectionLineOptions:l,connectionStatus:u,viewport:c,findNode:d}=ft(),h=(e=Tt(Za))==null?void 0:e["connection-line"],f=ne(()=>{var k;return d((k=o.value)==null?void 0:k.nodeId)}),p=ne(()=>{var k;return d((k=r.value)==null?void 0:k.nodeId)??null}),v=ne(()=>({x:(s.value.x-c.value.x)/c.value.zoom,y:(s.value.y-c.value.y)/c.value.zoom})),g=ne(()=>l.value.markerStart?`url(#${Ds(l.value.markerStart,t)})`:""),y=ne(()=>l.value.markerEnd?`url(#${Ds(l.value.markerEnd,t)})`:"");return()=>{var k,_,O;if(!f.value||!o.value)return null;const G=o.value.id,q=o.value.type,L=f.value.handleBounds;let M=(L==null?void 0:L[q])??[];if(n.value===Kn.Loose){const P=(L==null?void 0:L[q==="source"?"target":"source"])??[];M=[...M,...P]}if(!M)return null;const F=(G?M.find(P=>P.id===G):M[0])??null,W=(F==null?void 0:F.position)??Ne.Top,{x:z,y:N}=wr(f.value,F,W);let Y=null;p.value&&(n.value===Kn.Strict?Y=((k=p.value.handleBounds[q==="source"?"target":"source"])==null?void 0:k.find(P=>{var Q;return P.id===((Q=r.value)==null?void 0:Q.id)}))||null:Y=((_=[...p.value.handleBounds.source??[],...p.value.handleBounds.target??[]])==null?void 0:_.find(P=>{var Q;return P.id===((Q=r.value)==null?void 0:Q.id)}))||null);const m=((O=r.value)==null?void 0:O.position)??(W?mu[W]:null);if(!W||!m)return null;const T=i.value??l.value.type??No.Bezier;let S="";const H={sourceX:z,sourceY:N,sourcePosition:W,targetX:v.value.x,targetY:v.value.y,targetPosition:m};return T===No.Bezier?[S]=bm(H):T===No.Step?[S]=vu({...H,borderRadius:0}):T===No.SmoothStep?[S]=vu(H):T===No.SimpleBezier?[S]=xm(H):S=`M${z},${N} ${v.value.x},${v.value.y}`,Qe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Qe("g",{class:"vue-flow__connection"},h?Qe(h,{sourceX:z,sourceY:N,sourcePosition:W,targetX:v.value.x,targetY:v.value.y,targetPosition:m,sourceNode:f.value,sourceHandle:F,targetNode:p.value,targetHandle:Y,markerEnd:y.value,markerStart:g.value,connectionStatus:u.value}):Qe("path",{d:S,class:[l.value.class,u.value,"vue-flow__connection-path"],style:{...a.value,...l.value.style},"marker-end":y.value,"marker-start":g.value})))}}}),vE=yE,bE=["id","markerWidth","markerHeight","markerUnits","orient"],xE={name:"MarkerType",compatConfig:{MODE:3}},_E=at({...xE,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(V(),B("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===ge(hu).ArrowClosed?(V(),B("polyline",{key:0,style:gt({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ee("",!0),t.type===ge(hu).Arrow?(V(),B("polyline",{key:1,style:gt({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ee("",!0)],8,bE))}}),wE={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},kE={name:"MarkerDefinitions",compatConfig:{MODE:3}},EE=at({...kE,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:r}=ft(),s=ne(()=>{const i=new Set,a=[],l=u=>{if(u){const c=Ds(u,t);i.has(c)||(typeof u=="object"?a.push({...u,id:c,color:u.color||r.value}):a.push({id:c,color:r.value,type:u}),i.add(c))}};for(const u of[o.value.markerEnd,o.value.markerStart])l(u);for(const u of n.value)for(const c of[u.markerStart,u.markerEnd])l(c);return a.sort((u,c)=>u.id.localeCompare(c.id))});return(i,a)=>(V(),B("svg",wE,[x("defs",null,[(V(!0),B(Pe,null,ct(s.value,l=>(V(),pt(_E,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,"stroke-width":l.strokeWidth,orient:l.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),SE={name:"Edges",compatConfig:{MODE:3}},$E=at({...SE,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=ft();return(r,s)=>(V(),B(Pe,null,[ce(EE),(V(!0),B(Pe,null,ct(ge(n),i=>(V(),B("svg",{key:i.id,class:"vue-flow__edges vue-flow__container",style:gt({zIndex:ge(U1)(i,ge(t),ge(o))})},[ce(ge(mE),{id:i.id},null,8,["id"])],4))),128)),ce(ge(vE))],64))}}),CE=at({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:r,multiSelectionActive:s,emits:i,removeSelectedNodes:a,addSelectedNodes:l,updateNodeDimensions:u,onUpdateNodeInternals:c,getNodeTypes:d,nodeExtent:h,elevateNodesOnSelect:f,disableKeyboardA11y:p,ariaLiveMessage:v,snapToGrid:g,snapGrid:y,nodeDragThreshold:k,nodesDraggable:_,elementsSelectable:O,nodesConnectable:G,nodesFocusable:q,hooks:L}=ft(),M=he(null);ln(dm,M),ln(cm,e.id);const F=Tt(Za),W=Qn(),z=gm(),{node:N,parentNode:Y}=pm(e.id),{emit:m,on:T}=uk(N,i),S=it(()=>typeof N.draggable>"u"?_.value:N.draggable),H=it(()=>typeof N.selectable>"u"?O.value:N.selectable),P=it(()=>typeof N.connectable>"u"?G.value:N.connectable),Q=it(()=>typeof N.focusable>"u"?q.value:N.focusable),Z=ne(()=>H.value||S.value||L.value.nodeClick.hasListeners()||L.value.nodeDoubleClick.hasListeners()||L.value.nodeMouseEnter.hasListeners()||L.value.nodeMouseMove.hasListeners()||L.value.nodeMouseLeave.hasListeners()),oe=it(()=>!!N.dimensions.width&&!!N.dimensions.height),fe=ne(()=>{const C=N.type||"default",$=F==null?void 0:F[`node-${C}`];if($)return $;let U=N.template||d.value[C];if(typeof U=="string"&&W){const ee=Object.keys(W.appContext.components);ee&&ee.includes(C)&&(U=fc(C,!1))}return U&&typeof U!="string"?U:(i.error(new Nt($t.NODE_TYPE_MISSING,U)),!1)}),X=fm({id:e.id,el:M,disabled:()=>!S.value,selectable:H,dragHandle:()=>N.dragHandle,onStart(C){m.dragStart(C)},onDrag(C){m.drag(C)},onStop(C){m.dragStop(C)},onClick(C){b(C)}}),le=ne(()=>N.class instanceof Function?N.class(N):N.class),de=ne(()=>{const C=(N.style instanceof Function?N.style(N):N.style)||{},$=N.width instanceof Function?N.width(N):N.width,U=N.height instanceof Function?N.height(N):N.height;return!C.width&&$&&(C.width=typeof $=="string"?$:`${$}px`),!C.height&&U&&(C.height=typeof U=="string"?U:`${U}px`),C}),ye=it(()=>Number(N.zIndex??de.value.zIndex??0));return c(C=>{(C.includes(e.id)||!C.length)&&ae()}),Et(()=>{ze(()=>N.hidden,(C=!1,$,U)=>{!C&&M.value&&(e.resizeObserver.observe(M.value),U(()=>{M.value&&e.resizeObserver.unobserve(M.value)}))},{immediate:!0,flush:"post"})}),ze([()=>N.type,()=>N.sourcePosition,()=>N.targetPosition],()=>{Bt(()=>{u([{id:e.id,nodeElement:M.value,forceUpdate:!0}])})}),ze([()=>N.position.x,()=>N.position.y,()=>{var C;return(C=Y.value)==null?void 0:C.computedPosition.x},()=>{var C;return(C=Y.value)==null?void 0:C.computedPosition.y},()=>{var C;return(C=Y.value)==null?void 0:C.computedPosition.z},ye,()=>N.selected,()=>N.dimensions.height,()=>N.dimensions.width,()=>{var C;return(C=Y.value)==null?void 0:C.dimensions.height},()=>{var C;return(C=Y.value)==null?void 0:C.dimensions.width}],([C,$,U,ee,E,I])=>{const D={x:C,y:$,z:I+(f.value&&N.selected?1e3:0)};typeof U<"u"&&typeof ee<"u"?N.computedPosition=H1({x:U,y:ee,z:E},D):N.computedPosition=D},{flush:"post",immediate:!0}),ze([()=>N.extent,h],([C,$],[U,ee])=>{(C!==U||$!==ee)&&K()}),N.extent==="parent"||typeof N.extent=="object"&&"range"in N.extent&&N.extent.range==="parent"?ru(()=>oe).toBe(!0).then(K):K(),()=>N.hidden?null:Qe("div",{ref:M,"data-id":N.id,class:["vue-flow__node",`vue-flow__node-${fe.value===!1?"default":N.type||"default"}`,{[n.value]:S.value,dragging:X==null?void 0:X.value,draggable:S.value,selected:N.selected,selectable:H.value,parent:N.isParent},le.value],style:{visibility:oe.value?"visible":"hidden",zIndex:N.computedPosition.z??ye.value,transform:`translate(${N.computedPosition.x}px,${N.computedPosition.y}px)`,pointerEvents:Z.value?"all":"none",...de.value},tabIndex:Q.value?0:void 0,role:Q.value?"group":void 0,"aria-describedby":p.value?void 0:`${Gg}-${t}`,"aria-label":N.ariaLabel,"aria-roledescription":"node",...N.domAttributes,onMouseenter:ie,onMousemove:ve,onMouseleave:Te,onContextmenu:A,onClick:b,onDblclick:R,onKeydown:w},[Qe(fe.value===!1?d.value.default:fe.value,{id:N.id,type:N.type,data:N.data,events:{...N.events,...T},selected:N.selected,resizing:N.resizing,dragging:X.value,connectable:P.value,position:N.computedPosition,dimensions:N.dimensions,isValidTargetPos:N.isValidTargetPos,isValidSourcePos:N.isValidSourcePos,parent:N.parentNode,parentNodeId:N.parentNode,zIndex:N.computedPosition.z??ye.value,targetPosition:N.targetPosition,sourcePosition:N.sourcePosition,label:N.label,dragHandle:N.dragHandle,onUpdateNodeInternals:ae})]);function K(){const C=N.computedPosition,{computedPosition:$,position:U}=Cc(N,g.value?Ga(C,y.value):C,i.error,h.value,Y.value);(N.computedPosition.x!==$.x||N.computedPosition.y!==$.y)&&(N.computedPosition={...N.computedPosition,...$}),(N.position.x!==U.x||N.position.y!==U.y)&&(N.position=U)}function ae(){M.value&&u([{id:e.id,nodeElement:M.value,forceUpdate:!0}])}function ie(C){X!=null&&X.value||m.mouseEnter({event:C,node:N})}function ve(C){X!=null&&X.value||m.mouseMove({event:C,node:N})}function Te(C){X!=null&&X.value||m.mouseLeave({event:C,node:N})}function A(C){return m.contextMenu({event:C,node:N})}function R(C){return m.doubleClick({event:C,node:N})}function b(C){H.value&&(!o.value||!S.value||k.value>0)&&yu(N,s.value,l,a,r,!1,M.value),m.click({event:C,node:N})}function w(C){if(!(pu(C)||p.value))if(Kg.includes(C.key)&&H.value){const $=C.key==="Escape";yu(N,s.value,l,a,r,$,M.value)}else S.value&&N.selected&&fr[C.key]&&(C.preventDefault(),v.value=`Moved selected node ${C.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~N.position.x}, y: ${~~N.position.y}`,z({x:fr[C.key].x,y:fr[C.key].y},C.shiftKey))}}}),NE=CE;function TE(e={includeHiddenNodes:!1}){const{nodes:t}=ft();return ne(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&((n==null?void 0:n.handleBounds)===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const AE={class:"vue-flow__nodes vue-flow__container"},IE={name:"Nodes",compatConfig:{MODE:3}},OE=at({...IE,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=ft(),r=TE(),s=he();return ze(r,i=>{i&&Bt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),Et(()=>{s.value=new ResizeObserver(i=>{const a=i.map(l=>({id:l.target.getAttribute("data-id"),nodeElement:l.target,forceUpdate:!0}));Bt(()=>n(a))})}),dc(()=>{var i;return(i=s.value)==null?void 0:i.disconnect()}),(i,a)=>(V(),B("div",AE,[s.value?(V(!0),B(Pe,{key:0},ct(ge(t),(l,u,c,d)=>{const h=[l.id];if(d&&d.key===l.id&&Z0(d,h))return d;const f=(V(),pt(ge(NE),{id:l.id,key:l.id,"resize-observer":s.value},null,8,["id","resize-observer"]));return f.memo=h,f},a,0),128)):Ee("",!0)]))}});function RE(){const{emits:e}=ft();Et(()=>{if(um()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Nt($t.MISSING_STYLES))}})}const ME=x("div",{class:"vue-flow__edge-labels"},null,-1),DE={name:"VueFlow",compatConfig:{MODE:3}},PE=at({...DE,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,r=Fp(),s=wl(o,"modelValue",n),i=wl(o,"nodes",n),a=wl(o,"edges",n),l=ft(o),u=hk({modelValue:s,nodes:i,edges:a},o,l);return gk(n,l.hooks),fE(),RE(),ln(Za,r),Vr(u),t(l),(c,d)=>(V(),B("div",{ref:ge(l).vueFlowRef,class:"vue-flow"},[ce(iE,null,{default:Ve(()=>[ce($E),ME,ce(OE),bt(c.$slots,"zoom-pane")]),_:3}),bt(c.$slots,"default"),ce(dE)],512))}}),VE={name:"Panel",compatConfig:{MODE:3}},wm=at({...VE,props:{position:{}},setup(e){const t=e,{userSelectionActive:n}=ft(),o=ne(()=>`${t.position}`.split("-"));return(r,s)=>(V(),B("div",{class:nt(["vue-flow__panel",o.value]),style:gt({pointerEvents:ge(n)?"none":"all"})},[bt(r.$slots,"default")],6))}});var kn=(e=>(e.Lines="lines",e.Dots="dots",e))(kn||{});const km=function({dimensions:e,size:t,color:n}){return Qe("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Em=function({radius:e,color:t}){return Qe("circle",{cx:e,cy:e,r:e,fill:t})};kn.Lines+"",kn.Dots+"";const HE={[kn.Dots]:"#81818a",[kn.Lines]:"#eee"},zE=["id","x","y","width","height","patternTransform"],FE={key:2,height:"100",width:"100"},LE=["fill"],BE=["x","y","fill"],jE={name:"Background",compatConfig:{MODE:3}},UE=at({...jE,props:{id:{},variant:{default:()=>kn.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:{},color:{},bgColor:{},height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:0}},setup(e){const{id:t,viewport:n}=ft(),o=ne(()=>{const i=n.value.zoom,[a,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],u=[a*i||1,l*i||1],c=e.size*i,[d,h]=Array.isArray(e.offset)?e.offset:[e.offset,e.offset],f=[d*i||1+u[0]/2,h*i||1+u[1]/2];return{scaledGap:u,offset:f,size:c}}),r=it(()=>`pattern-${t}${e.id?`-${e.id}`:""}`),s=it(()=>e.color||e.patternColor||HE[e.variant||kn.Dots]);return(i,a)=>(V(),B("svg",{class:"vue-flow__background vue-flow__container",style:gt({height:`${i.height>100?100:i.height}%`,width:`${i.width>100?100:i.width}%`})},[bt(i.$slots,"pattern-container",{id:r.value},()=>[x("pattern",{id:r.value,x:ge(n).x%o.value.scaledGap[0],y:ge(n).y%o.value.scaledGap[1],width:o.value.scaledGap[0],height:o.value.scaledGap[1],patternTransform:`translate(-${o.value.offset[0]},-${o.value.offset[1]})`,patternUnits:"userSpaceOnUse"},[bt(i.$slots,"pattern",{},()=>[i.variant===ge(kn).Lines?(V(),pt(ge(km),{key:0,size:i.lineWidth,color:s.value,dimensions:o.value.scaledGap},null,8,["size","color","dimensions"])):i.variant===ge(kn).Dots?(V(),pt(ge(Em),{key:1,color:s.value,radius:o.value.size/2},null,8,["color","radius"])):Ee("",!0),i.bgColor?(V(),B("svg",FE,[x("rect",{width:"100%",height:"100%",fill:i.bgColor},null,8,LE)])):Ee("",!0)])],8,zE)]),x("rect",{x:i.x,y:i.y,width:"100%",height:"100%",fill:`url(#${r.value})`},null,8,BE),bt(i.$slots,"default",{id:r.value})],4))}}),qE={name:"ControlButton",compatConfig:{MODE:3}},WE=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},YE={type:"button",class:"vue-flow__controls-button"};function GE(e,t,n,o,r,s){return V(),B("button",YE,[bt(e.$slots,"default")])}const vi=WE(qE,[["render",GE]]),ZE={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},KE=x("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),XE=[KE];function JE(e,t){return V(),B("svg",ZE,XE)}const QE={render:JE},eS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},tS=x("path",{d:"M0 0h32v4.2H0z"},null,-1),nS=[tS];function oS(e,t){return V(),B("svg",eS,nS)}const rS={render:oS},sS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},iS=x("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),aS=[iS];function lS(e,t){return V(),B("svg",sS,aS)}const uS={render:lS},cS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},dS=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),fS=[dS];function hS(e,t){return V(),B("svg",cS,fS)}const pS={render:hS},gS={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},mS=x("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),yS=[mS];function vS(e,t){return V(),B("svg",gS,yS)}const bS={render:vS},xS={name:"Controls",compatConfig:{MODE:3}},_S=at({...xS,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:{},position:{default:()=>Yg.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:o,elementsSelectable:r,setInteractive:s,zoomIn:i,zoomOut:a,fitView:l,viewport:u,minZoom:c,maxZoom:d}=ft(),h=it(()=>n.value||o.value||r.value),f=it(()=>u.value.zoom<=c.value),p=it(()=>u.value.zoom>=d.value);function v(){i(),t("zoomIn")}function g(){a(),t("zoomOut")}function y(){l(e.fitViewParams),t("fitView")}function k(){s(!h.value),t("interactionChange",!h.value)}return(_,O)=>(V(),pt(ge(wm),{class:"vue-flow__controls",position:_.position},{default:Ve(()=>[bt(_.$slots,"top"),_.showZoom?(V(),B(Pe,{key:0},[bt(_.$slots,"control-zoom-in",{},()=>[ce(vi,{class:"vue-flow__controls-zoomin",disabled:p.value,onClick:v},{default:Ve(()=>[bt(_.$slots,"icon-zoom-in",{},()=>[(V(),pt(fo(ge(QE))))])]),_:3},8,["disabled"])]),bt(_.$slots,"control-zoom-out",{},()=>[ce(vi,{class:"vue-flow__controls-zoomout",disabled:f.value,onClick:g},{default:Ve(()=>[bt(_.$slots,"icon-zoom-out",{},()=>[(V(),pt(fo(ge(rS))))])]),_:3},8,["disabled"])])],64)):Ee("",!0),_.showFitView?bt(_.$slots,"control-fit-view",{key:1},()=>[ce(vi,{class:"vue-flow__controls-fitview",onClick:y},{default:Ve(()=>[bt(_.$slots,"icon-fit-view",{},()=>[(V(),pt(fo(ge(uS))))])]),_:3})]):Ee("",!0),_.showInteractive?bt(_.$slots,"control-interactive",{key:2},()=>[_.showInteractive?(V(),pt(vi,{key:0,class:"vue-flow__controls-interactive",onClick:k},{default:Ve(()=>[h.value?bt(_.$slots,"icon-unlock",{key:0},()=>[(V(),pt(fo(ge(bS))))]):Ee("",!0),h.value?Ee("",!0):bt(_.$slots,"icon-lock",{key:1},()=>[(V(),pt(fo(ge(pS))))])]),_:3})):Ee("",!0)]):Ee("",!0),bt(_.$slots,"default")]),_:3},8,["position"]))}});var wS={value:()=>{}};function Ac(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Mi(n)}function Mi(e){this._=e}function kS(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",r=n.indexOf(".");if(r>=0&&(o=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Mi.prototype=Ac.prototype={constructor:Mi,on:function(e,t){var n=this._,o=kS(e+"",n),r,s=-1,i=o.length;if(arguments.length<2){for(;++s<i;)if((r=(e=o[s]).type)&&(r=ES(n[r],e.name)))return r;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(r=(e=o[s]).type)n[r]=yf(n[r],e.name,t);else if(t==null)for(r in n)n[r]=yf(n[r],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mi(e)},call:function(e,t){if((r=arguments.length-2)>0)for(var n=new Array(r),o=0,r,s;o<r;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],o=0,r=s.length;o<r;++o)s[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,s=o.length;r<s;++r)o[r].value.apply(t,n)}};function ES(e,t){for(var n=0,o=e.length,r;n<o;++n)if((r=e[n]).name===t)return r.value}function yf(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=wS,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var bu="http://www.w3.org/1999/xhtml";const vf={svg:"http://www.w3.org/2000/svg",xhtml:bu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function el(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vf.hasOwnProperty(t)?{space:vf[t],local:e}:e}function SS(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bu&&t.documentElement.namespaceURI===bu?t.createElement(e):t.createElementNS(n,e)}}function $S(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Sm(e){var t=el(e);return(t.local?$S:SS)(t)}function CS(){}function Ic(e){return e==null?CS:function(){return this.querySelector(e)}}function NS(e){typeof e!="function"&&(e=Ic(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=new Array(i),l,u,c=0;c<i;++c)(l=s[c])&&(u=e.call(l,l.__data__,c,s))&&("__data__"in l&&(u.__data__=l.__data__),a[c]=u);return new Xt(o,this._parents)}function TS(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function AS(){return[]}function $m(e){return e==null?AS:function(){return this.querySelectorAll(e)}}function IS(e){return function(){return TS(e.apply(this,arguments))}}function OS(e){typeof e=="function"?e=IS(e):e=$m(e);for(var t=this._groups,n=t.length,o=[],r=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&(o.push(e.call(l,l.__data__,u,i)),r.push(l));return new Xt(o,r)}function Cm(e){return function(){return this.matches(e)}}function Nm(e){return function(t){return t.matches(e)}}var RS=Array.prototype.find;function MS(e){return function(){return RS.call(this.children,e)}}function DS(){return this.firstElementChild}function PS(e){return this.select(e==null?DS:MS(typeof e=="function"?e:Nm(e)))}var VS=Array.prototype.filter;function HS(){return Array.from(this.children)}function zS(e){return function(){return VS.call(this.children,e)}}function FS(e){return this.selectAll(e==null?HS:zS(typeof e=="function"?e:Nm(e)))}function LS(e){typeof e!="function"&&(e=Cm(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Xt(o,this._parents)}function Tm(e){return new Array(e.length)}function BS(){return new Xt(this._enter||this._groups.map(Tm),this._parents)}function ha(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ha.prototype={constructor:ha,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function jS(e){return function(){return e}}function US(e,t,n,o,r,s){for(var i=0,a,l=t.length,u=s.length;i<u;++i)(a=t[i])?(a.__data__=s[i],o[i]=a):n[i]=new ha(e,s[i]);for(;i<l;++i)(a=t[i])&&(r[i]=a)}function qS(e,t,n,o,r,s,i){var a,l,u=new Map,c=t.length,d=s.length,h=new Array(c),f;for(a=0;a<c;++a)(l=t[a])&&(h[a]=f=i.call(l,l.__data__,a,t)+"",u.has(f)?r[a]=l:u.set(f,l));for(a=0;a<d;++a)f=i.call(e,s[a],a,s)+"",(l=u.get(f))?(o[a]=l,l.__data__=s[a],u.delete(f)):n[a]=new ha(e,s[a]);for(a=0;a<c;++a)(l=t[a])&&u.get(h[a])===l&&(r[a]=l)}function WS(e){return e.__data__}function YS(e,t){if(!arguments.length)return Array.from(this,WS);var n=t?qS:US,o=this._parents,r=this._groups;typeof e!="function"&&(e=jS(e));for(var s=r.length,i=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=o[u],d=r[u],h=d.length,f=GS(e.call(c,c&&c.__data__,u,o)),p=f.length,v=a[u]=new Array(p),g=i[u]=new Array(p),y=l[u]=new Array(h);n(c,d,v,g,y,f,t);for(var k=0,_=0,O,G;k<p;++k)if(O=v[k]){for(k>=_&&(_=k+1);!(G=g[_])&&++_<p;);O._next=G||null}}return i=new Xt(i,o),i._enter=a,i._exit=l,i}function GS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZS(){return new Xt(this._exit||this._groups.map(Tm),this._parents)}function KS(e,t,n){var o=this.enter(),r=this,s=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(r=t(r),r&&(r=r.selection())),n==null?s.remove():n(s),o&&r?o.merge(r).order():r}function XS(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,s=o.length,i=Math.min(r,s),a=new Array(r),l=0;l<i;++l)for(var u=n[l],c=o[l],d=u.length,h=a[l]=new Array(d),f,p=0;p<d;++p)(f=u[p]||c[p])&&(h[p]=f);for(;l<r;++l)a[l]=n[l];return new Xt(a,this._parents)}function JS(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],r=o.length-1,s=o[r],i;--r>=0;)(i=o[r])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function QS(e){e||(e=e$);function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}for(var n=this._groups,o=n.length,r=new Array(o),s=0;s<o;++s){for(var i=n[s],a=i.length,l=r[s]=new Array(a),u,c=0;c<a;++c)(u=i[c])&&(l[c]=u);l.sort(t)}return new Xt(r,this._parents).order()}function e$(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function t$(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function n$(){return Array.from(this)}function o$(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length;r<s;++r){var i=o[r];if(i)return i}return null}function r$(){let e=0;for(const t of this)++e;return e}function s$(){return!this.node()}function i$(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r=t[n],s=0,i=r.length,a;s<i;++s)(a=r[s])&&e.call(a,a.__data__,s,r);return this}function a$(e){return function(){this.removeAttribute(e)}}function l$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function u$(e,t){return function(){this.setAttribute(e,t)}}function c$(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function d$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function f$(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function h$(e,t){var n=el(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?l$:a$:typeof t=="function"?n.local?f$:d$:n.local?c$:u$)(n,t))}function Am(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function p$(e){return function(){this.style.removeProperty(e)}}function g$(e,t,n){return function(){this.style.setProperty(e,t,n)}}function m$(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function y$(e,t,n){return arguments.length>1?this.each((t==null?p$:typeof t=="function"?m$:g$)(e,t,n??"")):kr(this.node(),e)}function kr(e,t){return e.style.getPropertyValue(t)||Am(e).getComputedStyle(e,null).getPropertyValue(t)}function v$(e){return function(){delete this[e]}}function b$(e,t){return function(){this[e]=t}}function x$(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function _$(e,t){return arguments.length>1?this.each((t==null?v$:typeof t=="function"?x$:b$)(e,t)):this.node()[e]}function Im(e){return e.trim().split(/^|\s+/)}function Oc(e){return e.classList||new Om(e)}function Om(e){this._node=e,this._names=Im(e.getAttribute("class")||"")}Om.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Rm(e,t){for(var n=Oc(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function Mm(e,t){for(var n=Oc(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function w$(e){return function(){Rm(this,e)}}function k$(e){return function(){Mm(this,e)}}function E$(e,t){return function(){(t.apply(this,arguments)?Rm:Mm)(this,e)}}function S$(e,t){var n=Im(e+"");if(arguments.length<2){for(var o=Oc(this.node()),r=-1,s=n.length;++r<s;)if(!o.contains(n[r]))return!1;return!0}return this.each((typeof t=="function"?E$:t?w$:k$)(n,t))}function $$(){this.textContent=""}function C$(e){return function(){this.textContent=e}}function N$(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function T$(e){return arguments.length?this.each(e==null?$$:(typeof e=="function"?N$:C$)(e)):this.node().textContent}function A$(){this.innerHTML=""}function I$(e){return function(){this.innerHTML=e}}function O$(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function R$(e){return arguments.length?this.each(e==null?A$:(typeof e=="function"?O$:I$)(e)):this.node().innerHTML}function M$(){this.nextSibling&&this.parentNode.appendChild(this)}function D$(){return this.each(M$)}function P$(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V$(){return this.each(P$)}function H$(e){var t=typeof e=="function"?e:Sm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function z$(){return null}function F$(e,t){var n=typeof e=="function"?e:Sm(e),o=t==null?z$:typeof t=="function"?t:Ic(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function L$(){var e=this.parentNode;e&&e.removeChild(this)}function B$(){return this.each(L$)}function j$(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function U$(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function q$(e){return this.select(e?U$:j$)}function W$(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Y$(e){return function(t){e.call(this,t,this.__data__)}}function G$(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Z$(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,r=t.length,s;n<r;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++o]=s;++o?t.length=o:delete this.__on}}}function K$(e,t,n){return function(){var o=this.__on,r,s=Y$(t);if(o){for(var i=0,a=o.length;i<a;++i)if((r=o[i]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),r.value=t;return}}this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},o?o.push(r):this.__on=[r]}}function X$(e,t,n){var o=G$(e+""),r,s=o.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,c;l<u;++l)for(r=0,c=a[l];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value}return}for(a=t?K$:Z$,r=0;r<s;++r)this.each(a(o[r],t,n));return this}function Dm(e,t,n){var o=Am(e),r=o.CustomEvent;typeof r=="function"?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function J$(e,t){return function(){return Dm(this,e,t)}}function Q$(e,t){return function(){return Dm(this,e,t.apply(this,arguments))}}function eC(e,t){return this.each((typeof t=="function"?Q$:J$)(e,t))}function*tC(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,s=o.length,i;r<s;++r)(i=o[r])&&(yield i)}var Pm=[null];function Xt(e,t){this._groups=e,this._parents=t}function Qs(){return new Xt([[document.documentElement]],Pm)}function nC(){return this}Xt.prototype=Qs.prototype={constructor:Xt,select:NS,selectAll:OS,selectChild:PS,selectChildren:FS,filter:LS,data:YS,enter:BS,exit:ZS,join:KS,merge:XS,selection:nC,order:JS,sort:QS,call:t$,nodes:n$,node:o$,size:r$,empty:s$,each:i$,attr:h$,style:y$,property:_$,classed:S$,text:T$,html:R$,raise:D$,lower:V$,append:H$,insert:F$,remove:B$,clone:q$,datum:W$,on:X$,dispatch:eC,[Symbol.iterator]:tC};function po(e){return typeof e=="string"?new Xt([[document.querySelector(e)]],[document.documentElement]):new Xt([[e]],Pm)}function oC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ro(e,t){if(e=oC(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}const xu={capture:!0,passive:!1};function _u(e){e.preventDefault(),e.stopImmediatePropagation()}function rC(e){var t=e.document.documentElement,n=po(e).on("dragstart.drag",_u,xu);"onselectstart"in t?n.on("selectstart.drag",_u,xu):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function sC(e,t){var n=e.document.documentElement,o=po(e).on("dragstart.drag",null);t&&(o.on("click.drag",_u,xu),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Rc(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vm(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function ei(){}var Vs=.7,pa=1/Vs,hr="\\s*([+-]?\\d+)\\s*",Hs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iC=/^#([0-9a-f]{3,8})$/,aC=new RegExp(`^rgb\\(${hr},${hr},${hr}\\)$`),lC=new RegExp(`^rgb\\(${$n},${$n},${$n}\\)$`),uC=new RegExp(`^rgba\\(${hr},${hr},${hr},${Hs}\\)$`),cC=new RegExp(`^rgba\\(${$n},${$n},${$n},${Hs}\\)$`),dC=new RegExp(`^hsl\\(${Hs},${$n},${$n}\\)$`),fC=new RegExp(`^hsla\\(${Hs},${$n},${$n},${Hs}\\)$`),bf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rc(ei,zs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xf,formatHex:xf,formatHex8:hC,formatHsl:pC,formatRgb:_f,toString:_f});function xf(){return this.rgb().formatHex()}function hC(){return this.rgb().formatHex8()}function pC(){return Hm(this).formatHsl()}function _f(){return this.rgb().formatRgb()}function zs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?wf(t):n===3?new Wt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aC.exec(e))?new Wt(t[1],t[2],t[3],1):(t=lC.exec(e))?new Wt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uC.exec(e))?bi(t[1],t[2],t[3],t[4]):(t=cC.exec(e))?bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dC.exec(e))?Sf(t[1],t[2]/100,t[3]/100,1):(t=fC.exec(e))?Sf(t[1],t[2]/100,t[3]/100,t[4]):bf.hasOwnProperty(e)?wf(bf[e]):e==="transparent"?new Wt(NaN,NaN,NaN,0):null}function wf(e){return new Wt(e>>16&255,e>>8&255,e&255,1)}function bi(e,t,n,o){return o<=0&&(e=t=n=NaN),new Wt(e,t,n,o)}function gC(e){return e instanceof ei||(e=zs(e)),e?(e=e.rgb(),new Wt(e.r,e.g,e.b,e.opacity)):new Wt}function wu(e,t,n,o){return arguments.length===1?gC(e):new Wt(e,t,n,o??1)}function Wt(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Rc(Wt,wu,Vm(ei,{brighter(e){return e=e==null?pa:Math.pow(pa,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vs:Math.pow(Vs,e),new Wt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Wt(zo(this.r),zo(this.g),zo(this.b),ga(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kf,formatHex:kf,formatHex8:mC,formatRgb:Ef,toString:Ef}));function kf(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}`}function mC(){return`#${Oo(this.r)}${Oo(this.g)}${Oo(this.b)}${Oo((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ef(){const e=ga(this.opacity);return`${e===1?"rgb(":"rgba("}${zo(this.r)}, ${zo(this.g)}, ${zo(this.b)}${e===1?")":`, ${e})`}`}function ga(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oo(e){return e=zo(e),(e<16?"0":"")+e.toString(16)}function Sf(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new rn(e,t,n,o)}function Hm(e){if(e instanceof rn)return new rn(e.h,e.s,e.l,e.opacity);if(e instanceof ei||(e=zs(e)),!e)return new rn;if(e instanceof rn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),s=Math.max(t,n,o),i=NaN,a=s-r,l=(s+r)/2;return a?(t===s?i=(n-o)/a+(n<o)*6:n===s?i=(o-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+r:2-s-r,i*=60):a=l>0&&l<1?0:i,new rn(i,a,l,e.opacity)}function yC(e,t,n,o){return arguments.length===1?Hm(e):new rn(e,t,n,o??1)}function rn(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Rc(rn,yC,Vm(ei,{brighter(e){return e=e==null?pa:Math.pow(pa,e),new rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vs:Math.pow(Vs,e),new rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new Wt(Rl(e>=240?e-240:e+120,r,o),Rl(e,r,o),Rl(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new rn($f(this.h),xi(this.s),xi(this.l),ga(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ga(this.opacity);return`${e===1?"hsl(":"hsla("}${$f(this.h)}, ${xi(this.s)*100}%, ${xi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $f(e){return e=(e||0)%360,e<0?e+360:e}function xi(e){return Math.max(0,Math.min(1,e||0))}function Rl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zm=e=>()=>e;function vC(e,t){return function(n){return e+n*t}}function bC(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function xC(e){return(e=+e)==1?Fm:function(t,n){return n-t?bC(t,n,e):zm(isNaN(t)?n:t)}}function Fm(e,t){var n=t-e;return n?vC(e,n):zm(isNaN(e)?t:e)}const Cf=(function e(t){var n=xC(t);function o(r,s){var i=n((r=wu(r)).r,(s=wu(s)).r),a=n(r.g,s.g),l=n(r.b,s.b),u=Fm(r.opacity,s.opacity);return function(c){return r.r=i(c),r.g=a(c),r.b=l(c),r.opacity=u(c),r+""}}return o.gamma=e,o})(1);function lo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ku=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ml=new RegExp(ku.source,"g");function _C(e){return function(){return e}}function wC(e){return function(t){return e(t)+""}}function kC(e,t){var n=ku.lastIndex=Ml.lastIndex=0,o,r,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(o=ku.exec(e))&&(r=Ml.exec(t));)(s=r.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(o=o[0])===(r=r[0])?a[i]?a[i]+=r:a[++i]=r:(a[++i]=null,l.push({i,x:lo(o,r)})),n=Ml.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?wC(l[0].x):_C(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}var Nf=180/Math.PI,Eu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lm(e,t,n,o,r,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(a=Math.sqrt(n*n+o*o))&&(n/=a,o/=a,l/=a),e*o<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*Nf,skewX:Math.atan(l)*Nf,scaleX:i,scaleY:a}}var _i;function EC(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Eu:Lm(t.a,t.b,t.c,t.d,t.e,t.f)}function SC(e){return e==null||(_i||(_i=document.createElementNS("http://www.w3.org/2000/svg","g")),_i.setAttribute("transform",e),!(e=_i.transform.baseVal.consolidate()))?Eu:(e=e.matrix,Lm(e.a,e.b,e.c,e.d,e.e,e.f))}function Bm(e,t,n,o){function r(u){return u.length?u.pop()+" ":""}function s(u,c,d,h,f,p){if(u!==d||c!==h){var v=f.push("translate(",null,t,null,n);p.push({i:v-4,x:lo(u,d)},{i:v-2,x:lo(c,h)})}else(d||h)&&f.push("translate("+d+t+h+n)}function i(u,c,d,h){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),h.push({i:d.push(r(d)+"rotate(",null,o)-2,x:lo(u,c)})):c&&d.push(r(d)+"rotate("+c+o)}function a(u,c,d,h){u!==c?h.push({i:d.push(r(d)+"skewX(",null,o)-2,x:lo(u,c)}):c&&d.push(r(d)+"skewX("+c+o)}function l(u,c,d,h,f,p){if(u!==d||c!==h){var v=f.push(r(f)+"scale(",null,",",null,")");p.push({i:v-4,x:lo(u,d)},{i:v-2,x:lo(c,h)})}else(d!==1||h!==1)&&f.push(r(f)+"scale("+d+","+h+")")}return function(u,c){var d=[],h=[];return u=e(u),c=e(c),s(u.translateX,u.translateY,c.translateX,c.translateY,d,h),i(u.rotate,c.rotate,d,h),a(u.skewX,c.skewX,d,h),l(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,h),u=c=null,function(f){for(var p=-1,v=h.length,g;++p<v;)d[(g=h[p]).i]=g.x(f);return d.join("")}}}var $C=Bm(EC,"px, ","px)","deg)"),CC=Bm(SC,", ",")",")"),NC=1e-12;function Tf(e){return((e=Math.exp(e))+1/e)/2}function TC(e){return((e=Math.exp(e))-1/e)/2}function AC(e){return((e=Math.exp(2*e))-1)/(e+1)}const IC=(function e(t,n,o){function r(s,i){var a=s[0],l=s[1],u=s[2],c=i[0],d=i[1],h=i[2],f=c-a,p=d-l,v=f*f+p*p,g,y;if(v<NC)y=Math.log(h/u)/t,g=function(L){return[a+L*f,l+L*p,u*Math.exp(t*L*y)]};else{var k=Math.sqrt(v),_=(h*h-u*u+o*v)/(2*u*n*k),O=(h*h-u*u-o*v)/(2*h*n*k),G=Math.log(Math.sqrt(_*_+1)-_),q=Math.log(Math.sqrt(O*O+1)-O);y=(q-G)/t,g=function(L){var M=L*y,F=Tf(G),W=u/(n*k)*(F*AC(t*M+G)-TC(G));return[a+W*f,l+W*p,u*F/Tf(t*M+G)]}}return g.duration=y*1e3*t/Math.SQRT2,g}return r.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},r})(Math.SQRT2,2,4);var Er=0,ts=0,qr=0,jm=1e3,ma,ns,ya=0,qo=0,tl=0,Fs=typeof performance=="object"&&performance.now?performance:Date,Um=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mc(){return qo||(Um(OC),qo=Fs.now()+tl)}function OC(){qo=0}function va(){this._call=this._time=this._next=null}va.prototype=qm.prototype={constructor:va,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Mc():+n)+(t==null?0:+t),!this._next&&ns!==this&&(ns?ns._next=this:ma=this,ns=this),this._call=e,this._time=n,Su()},stop:function(){this._call&&(this._call=null,this._time=1/0,Su())}};function qm(e,t,n){var o=new va;return o.restart(e,t,n),o}function RC(){Mc(),++Er;for(var e=ma,t;e;)(t=qo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Er}function Af(){qo=(ya=Fs.now())+tl,Er=ts=0;try{RC()}finally{Er=0,DC(),qo=0}}function MC(){var e=Fs.now(),t=e-ya;t>jm&&(tl-=t,ya=e)}function DC(){for(var e,t=ma,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ma=n);ns=e,Su(o)}function Su(e){if(!Er){ts&&(ts=clearTimeout(ts));var t=e-qo;t>24?(e<1/0&&(ts=setTimeout(Af,e-Fs.now()-tl)),qr&&(qr=clearInterval(qr))):(qr||(ya=Fs.now(),qr=setInterval(MC,jm)),Er=1,Um(Af))}}function If(e,t,n){var o=new va;return t=t==null?0:+t,o.restart(r=>{o.stop(),e(r+t)},t,n),o}var PC=Ac("start","end","cancel","interrupt"),VC=[],Wm=0,Of=1,$u=2,Di=3,Rf=4,Cu=5,Pi=6;function nl(e,t,n,o,r,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;HC(e,n,{name:t,index:o,group:r,on:PC,tween:VC,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Wm})}function Dc(e,t){var n=fn(e,t);if(n.state>Wm)throw new Error("too late; already scheduled");return n}function On(e,t){var n=fn(e,t);if(n.state>Di)throw new Error("too late; already running");return n}function fn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function HC(e,t,n){var o=e.__transition,r;o[t]=n,n.timer=qm(s,0,n.time);function s(u){n.state=Of,n.timer.restart(i,n.delay,n.time),n.delay<=u&&i(u-n.delay)}function i(u){var c,d,h,f;if(n.state!==Of)return l();for(c in o)if(f=o[c],f.name===n.name){if(f.state===Di)return If(i);f.state===Rf?(f.state=Pi,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete o[c]):+c<t&&(f.state=Pi,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete o[c])}if(If(function(){n.state===Di&&(n.state=Rf,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=$u,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$u){for(n.state=Di,r=new Array(h=n.tween.length),c=0,d=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=f);r.length=d+1}}function a(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Cu,1),d=-1,h=r.length;++d<h;)r[d].call(e,c);n.state===Cu&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Pi,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Vi(e,t){var n=e.__transition,o,r,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((o=n[i]).name!==t){s=!1;continue}r=o.state>$u&&o.state<Cu,o.state=Pi,o.timer.stop(),o.on.call(r?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[i]}s&&delete e.__transition}}function zC(e){return this.each(function(){Vi(this,e)})}function FC(e,t){var n,o;return function(){var r=On(this,e),s=r.tween;if(s!==n){o=n=s;for(var i=0,a=o.length;i<a;++i)if(o[i].name===t){o=o.slice(),o.splice(i,1);break}}r.tween=o}}function LC(e,t,n){var o,r;if(typeof n!="function")throw new Error;return function(){var s=On(this,e),i=s.tween;if(i!==o){r=(o=i).slice();for(var a={name:t,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===t){r[l]=a;break}l===u&&r.push(a)}s.tween=r}}function BC(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=fn(this.node(),n).tween,r=0,s=o.length,i;r<s;++r)if((i=o[r]).name===e)return i.value;return null}return this.each((t==null?FC:LC)(n,e,t))}function Pc(e,t,n){var o=e._id;return e.each(function(){var r=On(this,o);(r.value||(r.value={}))[t]=n.apply(this,arguments)}),function(r){return fn(r,o).value[t]}}function Ym(e,t){var n;return(typeof t=="number"?lo:t instanceof zs?Cf:(n=zs(t))?(t=n,Cf):kC)(e,t)}function jC(e){return function(){this.removeAttribute(e)}}function UC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qC(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttribute(e);return i===r?null:i===o?s:s=t(o=i,n)}}function WC(e,t,n){var o,r=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===r?null:i===o?s:s=t(o=i,n)}}function YC(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function GC(e,t,n){var o,r,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a)))}}function ZC(e,t){var n=el(e),o=n==="transform"?CC:Ym;return this.attrTween(e,typeof t=="function"?(n.local?GC:YC)(n,o,Pc(this,"attr."+e,t)):t==null?(n.local?UC:jC)(n):(n.local?WC:qC)(n,o,t))}function KC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function XC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function JC(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&XC(e,s)),n}return r._value=t,r}function QC(e,t){var n,o;function r(){var s=t.apply(this,arguments);return s!==o&&(n=(o=s)&&KC(e,s)),n}return r._value=t,r}function eN(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=el(e);return this.tween(n,(o.local?JC:QC)(o,t))}function tN(e,t){return function(){Dc(this,e).delay=+t.apply(this,arguments)}}function nN(e,t){return t=+t,function(){Dc(this,e).delay=t}}function oN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tN:nN)(t,e)):fn(this.node(),t).delay}function rN(e,t){return function(){On(this,e).duration=+t.apply(this,arguments)}}function sN(e,t){return t=+t,function(){On(this,e).duration=t}}function iN(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rN:sN)(t,e)):fn(this.node(),t).duration}function aN(e,t){if(typeof t!="function")throw new Error;return function(){On(this,e).ease=t}}function lN(e){var t=this._id;return arguments.length?this.each(aN(t,e)):fn(this.node(),t).ease}function uN(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;On(this,e).ease=n}}function cN(e){if(typeof e!="function")throw new Error;return this.each(uN(this._id,e))}function dN(e){typeof e!="function"&&(e=Cm(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var s=t[r],i=s.length,a=o[r]=[],l,u=0;u<i;++u)(l=s[u])&&e.call(l,l.__data__,u,s)&&a.push(l);return new Xn(o,this._parents,this._name,this._id)}function fN(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,s=Math.min(o,r),i=new Array(o),a=0;a<s;++a)for(var l=t[a],u=n[a],c=l.length,d=i[a]=new Array(c),h,f=0;f<c;++f)(h=l[f]||u[f])&&(d[f]=h);for(;a<o;++a)i[a]=t[a];return new Xn(i,this._parents,this._name,this._id)}function hN(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pN(e,t,n){var o,r,s=hN(t)?Dc:On;return function(){var i=s(this,e),a=i.on;a!==o&&(r=(o=a).copy()).on(t,n),i.on=r}}function gN(e,t){var n=this._id;return arguments.length<2?fn(this.node(),n).on.on(e):this.each(pN(n,e,t))}function mN(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function yN(){return this.on("end.remove",mN(this._id))}function vN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ic(e));for(var o=this._groups,r=o.length,s=new Array(r),i=0;i<r;++i)for(var a=o[i],l=a.length,u=s[i]=new Array(l),c,d,h=0;h<l;++h)(c=a[h])&&(d=e.call(c,c.__data__,h,a))&&("__data__"in c&&(d.__data__=c.__data__),u[h]=d,nl(u[h],t,n,h,u,fn(c,n)));return new Xn(s,this._parents,t,n)}function bN(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$m(e));for(var o=this._groups,r=o.length,s=[],i=[],a=0;a<r;++a)for(var l=o[a],u=l.length,c,d=0;d<u;++d)if(c=l[d]){for(var h=e.call(c,c.__data__,d,l),f,p=fn(c,n),v=0,g=h.length;v<g;++v)(f=h[v])&&nl(f,t,n,v,h,p);s.push(h),i.push(c)}return new Xn(s,i,t,n)}var xN=Qs.prototype.constructor;function _N(){return new xN(this._groups,this._parents)}function wN(e,t){var n,o,r;return function(){var s=kr(this,e),i=(this.style.removeProperty(e),kr(this,e));return s===i?null:s===n&&i===o?r:r=t(n=s,o=i)}}function Gm(e){return function(){this.style.removeProperty(e)}}function kN(e,t,n){var o,r=n+"",s;return function(){var i=kr(this,e);return i===r?null:i===o?s:s=t(o=i,n)}}function EN(e,t,n){var o,r,s;return function(){var i=kr(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),kr(this,e))),i===l?null:i===o&&l===r?s:(r=l,s=t(o=i,a))}}function SN(e,t){var n,o,r,s="style."+t,i="end."+s,a;return function(){var l=On(this,e),u=l.on,c=l.value[s]==null?a||(a=Gm(t)):void 0;(u!==n||r!==c)&&(o=(n=u).copy()).on(i,r=c),l.on=o}}function $N(e,t,n){var o=(e+="")=="transform"?$C:Ym;return t==null?this.styleTween(e,wN(e,o)).on("end.style."+e,Gm(e)):typeof t=="function"?this.styleTween(e,EN(e,o,Pc(this,"style."+e,t))).each(SN(this._id,e)):this.styleTween(e,kN(e,o,t),n).on("end.style."+e,null)}function CN(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function NN(e,t,n){var o,r;function s(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&CN(e,i,n)),o}return s._value=t,s}function TN(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,NN(e,t,n??""))}function AN(e){return function(){this.textContent=e}}function IN(e){return function(){var t=e(this);this.textContent=t??""}}function ON(e){return this.tween("text",typeof e=="function"?IN(Pc(this,"text",e)):AN(e==null?"":e+""))}function RN(e){return function(t){this.textContent=e.call(this,t)}}function MN(e){var t,n;function o(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&RN(r)),t}return o._value=e,o}function DN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,MN(e))}function PN(){for(var e=this._name,t=this._id,n=Zm(),o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)if(l=i[u]){var c=fn(l,t);nl(l,e,n,u,i,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Xn(o,this._parents,e,n)}function VN(){var e,t,n=this,o=n._id,r=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--r===0&&s()}};n.each(function(){var u=On(this,o),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),u.on=t}),r===0&&s()})}var HN=0;function Xn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Zm(){return++HN}var Dn=Qs.prototype;Xn.prototype={constructor:Xn,select:vN,selectAll:bN,selectChild:Dn.selectChild,selectChildren:Dn.selectChildren,filter:dN,merge:fN,selection:_N,transition:PN,call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:gN,attr:ZC,attrTween:eN,style:$N,styleTween:TN,text:ON,textTween:DN,remove:yN,tween:BC,delay:oN,duration:iN,ease:lN,easeVarying:cN,end:VN,[Symbol.iterator]:Dn[Symbol.iterator]};function zN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var FN={time:null,delay:0,duration:250,ease:zN};function LN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function BN(e){var t,n;e instanceof Xn?(t=e._id,e=e._name):(t=Zm(),(n=FN).time=Mc(),e=e==null?null:e+"");for(var o=this._groups,r=o.length,s=0;s<r;++s)for(var i=o[s],a=i.length,l,u=0;u<a;++u)(l=i[u])&&nl(l,e,t,u,i,n||LN(l,t));return new Xn(o,this._parents,e,t)}Qs.prototype.interrupt=zC;Qs.prototype.transition=BN;const wi=e=>()=>e;function jN(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Bn(e,t,n){this.k=e,this.x=t,this.y=n}Bn.prototype={constructor:Bn,scale:function(e){return e===1?this:new Bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vc=new Bn(1,0,0);Bn.prototype;function Dl(e){e.stopImmediatePropagation()}function Wr(e){e.preventDefault(),e.stopImmediatePropagation()}function UN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function qN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Mf(){return this.__zoom||Vc}function WN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function YN(){return navigator.maxTouchPoints||"ontouchstart"in this}function GN(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function ZN(){var e=UN,t=qN,n=GN,o=WN,r=YN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=IC,u=Ac("start","zoom","end"),c,d,h,f=500,p=150,v=0,g=10;function y(m){m.property("__zoom",Mf).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",W).filter(r).on("touchstart.zoom",z).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}y.transform=function(m,T,S,H){var P=m.selection?m.selection():m;P.property("__zoom",Mf),m!==P?G(m,T,S,H):P.interrupt().each(function(){q(this,arguments).event(H).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},y.scaleBy=function(m,T,S,H){y.scaleTo(m,function(){var P=this.__zoom.k,Q=typeof T=="function"?T.apply(this,arguments):T;return P*Q},S,H)},y.scaleTo=function(m,T,S,H){y.transform(m,function(){var P=t.apply(this,arguments),Q=this.__zoom,Z=S==null?O(P):typeof S=="function"?S.apply(this,arguments):S,oe=Q.invert(Z),fe=typeof T=="function"?T.apply(this,arguments):T;return n(_(k(Q,fe),Z,oe),P,i)},S,H)},y.translateBy=function(m,T,S,H){y.transform(m,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof S=="function"?S.apply(this,arguments):S),t.apply(this,arguments),i)},null,H)},y.translateTo=function(m,T,S,H,P){y.transform(m,function(){var Q=t.apply(this,arguments),Z=this.__zoom,oe=H==null?O(Q):typeof H=="function"?H.apply(this,arguments):H;return n(Vc.translate(oe[0],oe[1]).scale(Z.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof S=="function"?-S.apply(this,arguments):-S),Q,i)},H,P)};function k(m,T){return T=Math.max(s[0],Math.min(s[1],T)),T===m.k?m:new Bn(T,m.x,m.y)}function _(m,T,S){var H=T[0]-S[0]*m.k,P=T[1]-S[1]*m.k;return H===m.x&&P===m.y?m:new Bn(m.k,H,P)}function O(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function G(m,T,S,H){m.on("start.zoom",function(){q(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(H).end()}).tween("zoom",function(){var P=this,Q=arguments,Z=q(P,Q).event(H),oe=t.apply(P,Q),fe=S==null?O(oe):typeof S=="function"?S.apply(P,Q):S,X=Math.max(oe[1][0]-oe[0][0],oe[1][1]-oe[0][1]),le=P.__zoom,de=typeof T=="function"?T.apply(P,Q):T,ye=l(le.invert(fe).concat(X/le.k),de.invert(fe).concat(X/de.k));return function(K){if(K===1)K=de;else{var ae=ye(K),ie=X/ae[2];K=new Bn(ie,fe[0]-ae[0]*ie,fe[1]-ae[1]*ie)}Z.zoom(null,K)}})}function q(m,T,S){return!S&&m.__zooming||new L(m,T)}function L(m,T){this.that=m,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(m,T),this.taps=0}L.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,T){return this.mouse&&m!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var T=po(this.that).datum();u.call(m,this.that,new jN(m,{sourceEvent:this.sourceEvent,target:y,transform:this.that.__zoom,dispatch:u}),T)}};function M(m,...T){if(!e.apply(this,arguments))return;var S=q(this,T).event(m),H=this.__zoom,P=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,o.apply(this,arguments)))),Q=ro(m);if(S.wheel)(S.mouse[0][0]!==Q[0]||S.mouse[0][1]!==Q[1])&&(S.mouse[1]=H.invert(S.mouse[0]=Q)),clearTimeout(S.wheel);else{if(H.k===P)return;S.mouse=[Q,H.invert(Q)],Vi(this),S.start()}Wr(m),S.wheel=setTimeout(Z,p),S.zoom("mouse",n(_(k(H,P),S.mouse[0],S.mouse[1]),S.extent,i));function Z(){S.wheel=null,S.end()}}function F(m,...T){if(h||!e.apply(this,arguments))return;var S=m.currentTarget,H=q(this,T,!0).event(m),P=po(m.view).on("mousemove.zoom",fe,!0).on("mouseup.zoom",X,!0),Q=ro(m,S),Z=m.clientX,oe=m.clientY;rC(m.view),Dl(m),H.mouse=[Q,this.__zoom.invert(Q)],Vi(this),H.start();function fe(le){if(Wr(le),!H.moved){var de=le.clientX-Z,ye=le.clientY-oe;H.moved=de*de+ye*ye>v}H.event(le).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=ro(le,S),H.mouse[1]),H.extent,i))}function X(le){P.on("mousemove.zoom mouseup.zoom",null),sC(le.view,H.moved),Wr(le),H.event(le).end()}}function W(m,...T){if(e.apply(this,arguments)){var S=this.__zoom,H=ro(m.changedTouches?m.changedTouches[0]:m,this),P=S.invert(H),Q=S.k*(m.shiftKey?.5:2),Z=n(_(k(S,Q),H,P),t.apply(this,T),i);Wr(m),a>0?po(this).transition().duration(a).call(G,Z,H,m):po(this).call(y.transform,Z,H,m)}}function z(m,...T){if(e.apply(this,arguments)){var S=m.touches,H=S.length,P=q(this,T,m.changedTouches.length===H).event(m),Q,Z,oe,fe;for(Dl(m),Z=0;Z<H;++Z)oe=S[Z],fe=ro(oe,this),fe=[fe,this.__zoom.invert(fe),oe.identifier],P.touch0?!P.touch1&&P.touch0[2]!==fe[2]&&(P.touch1=fe,P.taps=0):(P.touch0=fe,Q=!0,P.taps=1+!!c);c&&(c=clearTimeout(c)),Q&&(P.taps<2&&(d=fe[0],c=setTimeout(function(){c=null},f)),Vi(this),P.start())}}function N(m,...T){if(this.__zooming){var S=q(this,T).event(m),H=m.changedTouches,P=H.length,Q,Z,oe,fe;for(Wr(m),Q=0;Q<P;++Q)Z=H[Q],oe=ro(Z,this),S.touch0&&S.touch0[2]===Z.identifier?S.touch0[0]=oe:S.touch1&&S.touch1[2]===Z.identifier&&(S.touch1[0]=oe);if(Z=S.that.__zoom,S.touch1){var X=S.touch0[0],le=S.touch0[1],de=S.touch1[0],ye=S.touch1[1],K=(K=de[0]-X[0])*K+(K=de[1]-X[1])*K,ae=(ae=ye[0]-le[0])*ae+(ae=ye[1]-le[1])*ae;Z=k(Z,Math.sqrt(K/ae)),oe=[(X[0]+de[0])/2,(X[1]+de[1])/2],fe=[(le[0]+ye[0])/2,(le[1]+ye[1])/2]}else if(S.touch0)oe=S.touch0[0],fe=S.touch0[1];else return;S.zoom("touch",n(_(Z,oe,fe),S.extent,i))}}function Y(m,...T){if(this.__zooming){var S=q(this,T).event(m),H=m.changedTouches,P=H.length,Q,Z;for(Dl(m),h&&clearTimeout(h),h=setTimeout(function(){h=null},f),Q=0;Q<P;++Q)Z=H[Q],S.touch0&&S.touch0[2]===Z.identifier?delete S.touch0:S.touch1&&S.touch1[2]===Z.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(Z=ro(Z,this),Math.hypot(d[0]-Z[0],d[1]-Z[1])<g)){var oe=po(this).on("dblclick.zoom");oe&&oe.apply(this,arguments)}}}return y.wheelDelta=function(m){return arguments.length?(o=typeof m=="function"?m:wi(+m),y):o},y.filter=function(m){return arguments.length?(e=typeof m=="function"?m:wi(!!m),y):e},y.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:wi(!!m),y):r},y.extent=function(m){return arguments.length?(t=typeof m=="function"?m:wi([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),y):t},y.scaleExtent=function(m){return arguments.length?(s[0]=+m[0],s[1]=+m[1],y):[s[0],s[1]]},y.translateExtent=function(m){return arguments.length?(i[0][0]=+m[0][0],i[1][0]=+m[1][0],i[0][1]=+m[0][1],i[1][1]=+m[1][1],y):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},y.constrain=function(m){return arguments.length?(n=m,y):n},y.duration=function(m){return arguments.length?(a=+m,y):a},y.interpolate=function(m){return arguments.length?(l=m,y):l},y.on=function(){var m=u.on.apply(u,arguments);return m===u?y:m},y.clickDistance=function(m){return arguments.length?(v=(m=+m)*m,y):Math.sqrt(v)},y.tapDistance=function(m){return arguments.length?(g=+m,y):g},y}const Km=Symbol("MiniMapSlots"),KN=["id","x","y","rx","ry","width","height","fill","stroke","stroke-width","shape-rendering"],XN={name:"MiniMapNode",compatConfig:{MODE:3},inheritAttrs:!1},JN=at({...XN,props:{id:{},type:{},selected:{type:Boolean},dragging:{type:Boolean},position:{},dimensions:{},borderRadius:{},color:{},shapeRendering:{},strokeColor:{},strokeWidth:{},hidden:{type:Boolean}},emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{emit:t}){const n=e,o=Tt(Km),r=hc(),s=it(()=>r.style??{});function i(d){t("click",d)}function a(d){t("dblclick",d)}function l(d){t("mouseenter",d)}function u(d){t("mousemove",d)}function c(d){t("mouseleave",d)}return(d,h)=>!d.hidden&&d.dimensions.width!==0&&d.dimensions.height!==0?(V(),B(Pe,{key:0},[ge(o)[`node-${n.type}`]?(V(),pt(fo(ge(o)[`node-${n.type}`]),We(Ss({key:0},{...n,...d.$attrs})),null,16)):(V(),B("rect",Ss({key:1,id:d.id},d.$attrs,{class:["vue-flow__minimap-node",{selected:d.selected,dragging:d.dragging}],x:d.position.x,y:d.position.y,rx:d.borderRadius,ry:d.borderRadius,width:d.dimensions.width,height:d.dimensions.height,fill:d.color||s.value.background||s.value.backgroundColor,stroke:d.strokeColor,"stroke-width":d.strokeWidth,"shape-rendering":d.shapeRendering,onClick:i,onDblclick:a,onMouseenter:l,onMousemove:u,onMouseleave:c}),null,16,KN))],64)):Ee("",!0)}}),QN=["width","height","viewBox","aria-labelledby"],e2=["id"],t2=["d","fill","stroke","stroke-width"],n2={name:"MiniMap",compatConfig:{MODE:3}},o2=at({...n2,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:{},height:{},ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:1},offsetScale:{default:5},maskBorderRadius:{default:0}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=Fp(),o=hc(),r=200,s=150,{id:i,edges:a,viewport:l,translateExtent:u,dimensions:c,emits:d,d3Selection:h,d3Zoom:f,getNodesInitialized:p}=ft(),v=he();ln(Km,n);const g=it(()=>{var P;return e.width??((P=o.style)==null?void 0:P.width)??r}),y=it(()=>{var P;return e.height??((P=o.style)==null?void 0:P.height)??s}),k=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",_=ne(()=>typeof e.nodeColor=="string"?()=>e.nodeColor:e.nodeColor),O=ne(()=>typeof e.nodeStrokeColor=="string"?()=>e.nodeStrokeColor:e.nodeStrokeColor),G=ne(()=>typeof e.nodeClassName=="string"?()=>e.nodeClassName:typeof e.nodeClassName=="function"?e.nodeClassName:()=>""),q=ne(()=>$c(p.value.filter(P=>!P.hidden))),L=ne(()=>({x:-l.value.x/l.value.zoom,y:-l.value.y/l.value.zoom,width:c.value.width/l.value.zoom,height:c.value.height/l.value.zoom})),M=ne(()=>p.value&&p.value.length?D1(q.value,L.value):L.value),F=ne(()=>{const P=M.value.width/g.value,Q=M.value.height/y.value;return Math.max(P,Q)}),W=ne(()=>{const P=F.value*g.value,Q=F.value*y.value,Z=e.offsetScale*F.value;return{offset:Z,x:M.value.x-(P-M.value.width)/2-Z,y:M.value.y-(Q-M.value.height)/2-Z,width:P+Z*2,height:Q+Z*2}}),z=ne(()=>!W.value.x||!W.value.y?"":`
    M${W.value.x-W.value.offset},${W.value.y-W.value.offset}
    h${W.value.width+W.value.offset*2}
    v${W.value.height+W.value.offset*2}
    h${-W.value.width-W.value.offset*2}z
    M${L.value.x+e.maskBorderRadius},${L.value.y}
    h${L.value.width-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},${e.maskBorderRadius}
    v${L.value.height-2*e.maskBorderRadius}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},${e.maskBorderRadius}
    h${-(L.value.width-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 -${e.maskBorderRadius},-${e.maskBorderRadius}
    v${-(L.value.height-2*e.maskBorderRadius)}
    a${e.maskBorderRadius},${e.maskBorderRadius} 0 0 1 ${e.maskBorderRadius},-${e.maskBorderRadius}z`);T0(P=>{if(v.value){const Q=po(v.value),Z=X=>{if(X.sourceEvent.type!=="wheel"||!h.value||!f.value)return;const le=X.sourceEvent.ctrlKey&&Ps()?10:1,de=-X.sourceEvent.deltaY*(X.sourceEvent.deltaMode===1?.05:X.sourceEvent.deltaMode?1:.002)*e.zoomStep,ye=l.value.zoom*2**(de*le);f.value.scaleTo(h.value,ye)},oe=X=>{if(X.sourceEvent.type!=="mousemove"||!h.value||!f.value)return;const le=F.value*Math.max(1,l.value.zoom)*(e.inversePan?-1:1),de={x:l.value.x-X.sourceEvent.movementX*le,y:l.value.y-X.sourceEvent.movementY*le},ye=[[0,0],[c.value.width,c.value.height]],K=Vc.translate(de.x,de.y).scale(l.value.zoom),ae=f.value.constrain()(K,ye,u.value);f.value.transform(h.value,ae)},fe=ZN().wheelDelta(X=>gu(X)*(e.zoomStep/10)).on("zoom",e.pannable?oe:()=>{}).on("zoom.wheel",e.zoomable?Z:()=>{});Q.call(fe),P(()=>{Q.on("zoom",null)})}},{flush:"post"});function N(P){const[Q,Z]=ro(P);t("click",{event:P,position:{x:Q,y:Z}})}function Y(P,Q){const Z={event:P,node:Q,connectedEdges:To([Q],a.value)};d.miniMapNodeClick(Z),t("nodeClick",Z)}function m(P,Q){const Z={event:P,node:Q,connectedEdges:To([Q],a.value)};d.miniMapNodeDoubleClick(Z),t("nodeDblclick",Z)}function T(P,Q){const Z={event:P,node:Q,connectedEdges:To([Q],a.value)};d.miniMapNodeMouseEnter(Z),t("nodeMouseenter",Z)}function S(P,Q){const Z={event:P,node:Q,connectedEdges:To([Q],a.value)};d.miniMapNodeMouseMove(Z),t("nodeMousemove",Z)}function H(P,Q){const Z={event:P,node:Q,connectedEdges:To([Q],a.value)};d.miniMapNodeMouseLeave(Z),t("nodeMouseleave",Z)}return(P,Q)=>(V(),pt(ge(wm),{position:P.position,class:nt(["vue-flow__minimap",{pannable:P.pannable,zoomable:P.zoomable}])},{default:Ve(()=>[(V(),B("svg",{ref_key:"el",ref:v,width:g.value,height:y.value,viewBox:[W.value.x,W.value.y,W.value.width,W.value.height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${ge(i)}`,onClick:N},[P.ariaLabel?(V(),B("title",{key:0,id:`vue-flow__minimap-${ge(i)}`},xe(P.ariaLabel),9,e2)):Ee("",!0),(V(!0),B(Pe,null,ct(ge(p),Z=>(V(),pt(JN,{id:Z.id,key:Z.id,f:"",position:Z.computedPosition,dimensions:Z.dimensions,selected:Z.selected,dragging:Z.dragging,style:gt(Z.style),class:nt(G.value(Z)),color:_.value(Z),"border-radius":P.nodeBorderRadius,"stroke-color":O.value(Z),"stroke-width":P.nodeStrokeWidth,"shape-rendering":ge(k),type:Z.type,hidden:Z.hidden,onClick:oe=>Y(oe,Z),onDblclick:oe=>m(oe,Z),onMouseenter:oe=>T(oe,Z),onMousemove:oe=>S(oe,Z),onMouseleave:oe=>H(oe,Z)},null,8,["id","position","dimensions","selected","dragging","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","hidden","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),x("path",{class:"vue-flow__minimap-mask",d:z.value,fill:P.maskColor,stroke:P.maskStrokeColor,"stroke-width":P.maskStrokeWidth,"fill-rule":"evenodd"},null,8,t2)],8,QN))]),_:1},8,["position","class"]))}}),r2="modulepreload",s2=function(e){return"/editor/"+e},Df={},Ge=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let i=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=i(n.map(u=>{if(u=s2(u),u in Df)return;Df[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":r2,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};function i2(e,t){const n=new Set;return t.forEach(o=>{n.add(o.source),n.add(o.target)}),e.forEach(o=>{o.type==="input"&&n.add(o.id)}),e.filter(o=>n.has(o.id))}function a2(e,t,n){const o=new Map;e.forEach(s=>{if(s.type!=="variable")return;const i=n(s.id),a=(i==null?void 0:i.mode)||"get",l=i==null?void 0:i.variableName;if(!l||l.trim()==="")return;o.has(l)||o.set(l,{setNodes:[],getNodes:[]});const u=o.get(l);a==="set"?u.setNodes.push(s.id):a==="get"&&u.getNodes.push(s.id)});const r=[];for(const[s,{setNodes:i,getNodes:a}]of o)i.forEach(l=>{a.forEach(u=>{r.push({id:`virtual-var-${s}-${l}-${u}`,source:l,target:u,edgeType:"data",sourceHandle:"data-out",targetHandle:"data-in",_virtual:!0})})});return[...t,...r]}class l2{constructor(t=null,n=null){this.executionResults=new Map,this.executingNodes=new Set,this.executedNodes=new Set,this.errorNodes=new Set,this.executeTimers=new Map,this.execSignals=new Set,this.readyQueue=[],this.apiConfig=null,this.globalVariables={},this.nodeData=new Map,this.onStateChange=null,this.executeNodeFn=t,this.extractOutputsFn=n}setConfig(t,n={}){this.apiConfig=t,this.globalVariables=n}setNodeData(t,n){this.nodeData.set(t,n)}getNodeData(t){return this.nodeData.get(t)||{}}clearExecutionResults(){this.executionResults.clear(),this.executedNodes.clear(),this.executingNodes.clear(),this.errorNodes.clear(),this.execSignals.clear(),this.readyQueue=[];for(const t of this.executeTimers.values())clearTimeout(t);this.executeTimers.clear(),this._notifyStateChange()}async executeNode(t,n={}){var r;const o=this.getNodeData(t.id);this.executingNodes.add(t.id),this.errorNodes.delete(t.id),this._notifyStateChange();try{const s={apiConfig:this.apiConfig,globalVariables:this.globalVariables,nodeId:t.id,updateNodeData:a=>{const l=this.getNodeData(t.id);this.setNodeData(t.id,{...l,...a})}},i=await this.executeNodeFn(t,o,n,s);return this.executingNodes.delete(t.id),this.executedNodes.add(t.id),this._notifyStateChange(),i}catch(s){throw this.executingNodes.delete(t.id),this.errorNodes.add(t.id),this._notifyStateChange(),console.error(`
 Execution Error`),console.error("".repeat(50)),console.error(`Node: ${((r=t.data)==null?void 0:r.label)||t.type} (${t.id})`),console.error(`Type: ${t.type}`),console.error(`Message: ${s.message}`),s.stack&&(console.error(`
Stack trace:`),console.error(s.stack)),console.error("".repeat(50)+`
`),s}}async executeFlow(t,n){console.log(`
 EXECUTION START`),this.clearExecutionResults(),this.globalVariables={},this.currentNodes=t;const o=i2(t,n),r=a2(o,n,u=>this.getNodeData(u)),s=[],i=this._findTrueEntryNodes(o,r);console.log(`
 FLOW ANALYSIS:`),console.log("Total nodes:",o.length),o.filter(u=>this._hasExecInput(u,n)),o.filter(u=>this._hasExecOutput(u,n)),this.readyQueue=[...i];const a=o.length*2;let l=0;for(;this.readyQueue.length>0&&l<a;){l++;const u=this.readyQueue.shift();if(this.executedNodes.has(u.id))continue;if(!this._isReadyToExecute(u,r)){this.readyQueue.push(u);continue}const c=this._getNodeLabel(u);s.push(c),this._hasExecInput(u,n),this._hasExecOutput(u,n);const d=this._gatherInputs(u,n);try{const h=await this.executeNode(u,d);if(this.extractOutputsFn){const f={...u,data:this.getNodeData(u.id)},p=this.extractOutputsFn(f,h);this.executionResults.set(u.id,p)}else this.executionResults.set(u.id,h);if(this._hasExecOutput(u,n))if(u.type==="conditional-branch"){const f=h==null?void 0:h.branch,p=f==="exec-true"?"TRUE":"FALSE";s[s.length-1]+=` ( ${p})`,f&&this._sendExecSignal(u.id,n,f)}else this._sendExecSignal(u.id,n);o.forEach(f=>{if(this.executedNodes.has(f.id)||this.readyQueue.includes(f))return;const p=r.some(g=>g.target===f.id&&g.source===u.id&&g.edgeType==="data"),v=this.execSignals.has(f.id);(p||v)&&this._isReadyToExecute(f,r)&&this.readyQueue.push(f)})}catch(h){s[s.length-1]+=" ",this.executionResults.set(u.id,{error:h.message}),this._notifyStateChange(),console.log(` EXECUTION END (error)
`);return}}console.log(` EXECUTION END
`),this._notifyStateChange()}async executeConnectedNodes(t,n,o,r=null){const s=o.filter(i=>i.source===t&&i.edgeType==="exec"&&(r===null||i.sourceHandle===r));if(s.length!==0)for(const i of s){const a=n.find(u=>u.id===i.target);if(!a)continue;const l=this._gatherInputs(a,o);try{const u=await this.executeNode(a,l);if(this.executionResults.set(a.id,u),a.type==="conditional-branch"){const c=u==null?void 0:u.branch;c&&await this.executeConnectedNodes(a.id,n,o,`exec-${c}`)}else a.type==="forEach"||a.type==="whileLoop"||await this.executeConnectedNodes(a.id,n,o)}catch(u){this.executionResults.set(a.id,{error:u.message})}}}async executeWhileLoop(t,n,o,r,s=1e3){let i=0,a=r;for(;a&&i<s;){i++,await this.executeConnectedNodes(t,n,o,"exec-loop");const l=this.executionResults.get(t);if(a=(l==null?void 0:l.condition)??!1,i>=s)break}await this.executeConnectedNodes(t,n,o,"exec-done")}async executeForEachLoop(t,n,o,r){const s=[];for(let i=0;i<r.length;i++){const a=r[i];this.executionResults.set(t,{currentItem:a,currentIndex:i,totalItems:r.length}),await this.executeConnectedNodes(t,n,o,"exec-loop"),s.push(a)}this.executionResults.set(t,{results:s}),await this.executeConnectedNodes(t,n,o,"exec-done")}getResult(t){return this.executionResults.get(t)}getAllResults(){return Object.fromEntries(this.executionResults)}getAllExecutedNodes(){return Array.from(this.executedNodes)}getAllExecutingNodes(){return Array.from(this.executingNodes)}getAllErrorNodes(){return Array.from(this.errorNodes)}isExecuting(t){return this.executingNodes.has(t)}hasExecuted(t){return this.executedNodes.has(t)}hasError(t){return this.errorNodes.has(t)}_gatherInputs(t,n){const o={},r=n.filter(s=>s.target===t.id&&s.edgeType==="data");for(const s of r){const i=this.executionResults.get(s.source);if(!i)continue;const a=i[s.sourceHandle];o[s.targetHandle]=a}return o}_hasPendingDependencies(t,n){const o=n.filter(s=>{var i;return s.target!==t.id?!1:s.edgeType==="data"||!((i=s.sourceHandle)!=null&&i.startsWith("exec-"))}),r=this.getNodeData(t.id);if(t.type==="variable"&&(r==null?void 0:r.mode)==="get"&&o.every(i=>{var u;const a=(u=this.currentNodes)==null?void 0:u.find(c=>c.id===i.source),l=a?this.getNodeData(a.id):null;return(a==null?void 0:a.type)==="variable"&&(l==null?void 0:l.mode)==="set"})&&o.length>0)return!o.some(a=>this.executionResults.get(a.source));for(const s of o){const i=this.executionResults.get(s.source);if(!i||i[s.sourceHandle]===void 0)return!0}return!1}_hasExecInput(t,n){return n.some(o=>o.target===t.id&&o.edgeType==="flow")}_hasExecOutput(t,n){return n.some(o=>o.source===t.id&&o.edgeType==="flow")}_sendExecSignal(t,n,o=null){n.filter(s=>s.source===t&&s.edgeType==="flow"&&(o===null||s.sourceHandle===o)).forEach(s=>{this.execSignals.add(s.target)})}_isReadyToExecute(t,n){return!(this._hasPendingDependencies(t,n)||this._hasExecInput(t,n)&&!this.execSignals.has(t.id))}_findEntryNodes(t,n){return t.filter(o=>!this._hasExecInput(o,n))}_findTrueEntryNodes(t,n){return t.filter(o=>{if(o.type==="input"||o.type==="constant")return!0;if(o.type==="variable"){const i=this.getNodeData(o.id);if((i==null?void 0:i.mode)==="get")return!0}return this._hasExecInput(o,n)?!1:!n.some(i=>i.target===o.id&&i.edgeType==="data")})}_getNodeLabel(t){var s;const n=this.getNodeData(t.id),o=(n==null?void 0:n.label)||((s=t.data)==null?void 0:s.label);return o||{input:"Input",output:"Output",connector:"Data Connector",variable:"Variable","conditional-branch":"Conditional Branch",constant:"Constant","http-request":"HTTP Request","string-ops":"String Ops","field-extractor":"Field Extractor"}[t.type]||t.type}_notifyStateChange(){this.onStateChange&&this.onStateChange({executionResults:this.getAllResults(),executingNodes:Array.from(this.executingNodes),executedNodes:Array.from(this.executedNodes),errorNodes:Array.from(this.errorNodes)})}}let os=null;async function u2(){if(os)return os;try{return os=await(await fetch("/config/dataTypes.json")).json(),os}catch{return Xm()}}function Xm(){return{types:{any:{label:"Any",color:"#3b82f6"},string:{label:"String",color:"#10b981"},number:{label:"Number",color:"#f59e0b"},integer:{label:"Integer",color:"#f97316"},float:{label:"Float",color:"#fb923c"},boolean:{label:"Boolean",color:"#8b5cf6"},array:{label:"Array",color:"#ec4899"},object:{label:"Object",color:"#06b6d4"},date:{label:"Date",color:"#14b8a6"},null:{label:"Null",color:"#6b7280"}},compatibility:{any:["any","string","number","integer","float","boolean","array","object","date","null"],string:["any","string"],number:["any","number","integer","float"],integer:["any","number","integer"],float:["any","number","float"],boolean:["any","boolean"],array:["any","array"],object:["any","object"],date:["any","date","string"],null:["any","null"]}}}function ba(e){var n;return((n=(os||Xm()).types[e])==null?void 0:n.color)||"#3b82f6"}function xa(e){return e===null||e===void 0?"null":typeof e=="string"?"string":typeof e=="boolean"?"boolean":Array.isArray(e)?"array":e instanceof Date?"date":typeof e=="object"?"object":typeof e=="number"?Number.isInteger(e)?"integer":"float":"any"}const c2=Object.assign({});let d2=class{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":"),l=`../../${i}`,u=c2[l];if(!u)throw new Error(`Mdulo "${i}" no encontrado no registry`);const c=await u();if(!c[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const d=c[a];return this.methodCache.set(s,d),d}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}};const f2=new d2,Jm=e=>f2.getNodeDefinition(e);function h2(e,t,n){var o,r,s;if((o=n==null?void 0:n.executionResults)!=null&&o[e]){const i=n.executionResults[e][t];if(i!==void 0)return xa(i)}return(s=(r=n==null?void 0:n.savedDetectedTypes)==null?void 0:r[e])!=null&&s[t]?n.savedDetectedTypes[e][t]:"any"}function p2(e,t,n){var i;if(!(n!=null&&n.edges)||!(n!=null&&n.nodes))return"any";const o=n.edges.find(a=>{var l;return a.target===e&&a.targetHandle===t&&!((l=a.sourceHandle)!=null&&l.startsWith("exec-"))});if(!o)return"any";const r=n.nodes.find(a=>a.id===o.source);if(!r)return"any";const s=((i=n.nodeData)==null?void 0:i[r.id])||{};return yo(r.type,s,o.sourceHandle,"source",n)}function g2(e,t){const n=e==null?void 0:e[t];return n&&{number:"number",string:"string",boolean:"boolean",object:"object",array:"array",null:"any",integer:"integer",float:"float",date:"date"}[n]||"any"}function m2(e,t,n,o){const r=e==null?void 0:e._nodeId,s=e==null?void 0:e.variableName,i=(e==null?void 0:e.mode)||"get";if(!o||!r)return"any";if(n==="source"&&t==="data-out"){if(i==="set"){const a=o.edges.filter(l=>{var u;return l.target===r&&l.targetHandle==="data-input"&&!((u=l.sourceHandle)!=null&&u.startsWith("exec-"))});if(a.length>0){const l=o.nodes.find(u=>u.id===a[0].source);if(l){const u=o.nodeData[l.id];return yo(l.type,u,a[0].sourceHandle,"source",o)}}}if(i==="get"&&s){const a=o.nodes.filter(l=>{var u,c;return l.type==="variable"&&l.id!==r&&((u=o.nodeData[l.id])==null?void 0:u.mode)==="set"&&((c=o.nodeData[l.id])==null?void 0:c.variableName)===s});for(const l of a){const u=o.edges.filter(c=>{var d;return c.target===l.id&&c.targetHandle==="data-input"&&!((d=c.sourceHandle)!=null&&d.startsWith("exec-"))});if(u.length>0){const c=o.nodes.find(d=>d.id===u[0].source);if(c){const d=o.nodeData[c.id];return yo(c.type,d,u[0].sourceHandle,"source",o)}}}}}return"any"}function y2(e,t,n,o,r,s){const i=r==null?void 0:r.dynamic;if(!i)return(r==null?void 0:r.type)||"any";const a=t==null?void 0:t._nodeId;switch(i.mode){case"runtime-detection":return h2(a,n,s);case"input-inference":return p2(a,i.inferFrom||n,s);case"config-based":return g2(t,i.configField);case"wildcard":return m2(t,n,o,s);default:return(r==null?void 0:r.type)||"any"}}function yo(e,t,n,o,r=null){var l,u;if(e==="field-extractor"){if(n==="all-data")return"object";const c=(t==null?void 0:t.fieldTypes)||{},d=n.replace("field-","").replace(/-/g,".");return c[d]||"any"}if(e==="output"){const c=(t==null?void 0:t.customInputs)||[],d=parseInt(n.replace("data-input-",""));return((l=c[d])==null?void 0:l.type)||"any"}if(e==="input"){const c=(t==null?void 0:t.parameters)||[],d=parseInt(n.replace("param-output-",""));return((u=c[d])==null?void 0:u.type)||"any"}const s=Jm(e);if(!s||!s.handles)return"any";let i=o==="source"?s.handles.outputs:s.handles.inputs;if(s.dynamicHandles&&t){const c=s.dynamicHandles.mode;let d="mode";s.dynamicHandles[c]||(d=c);const h=t[d]||c,f=s.dynamicHandles[h];f&&(i=o==="source"?f.outputs:f.inputs)}if(!i||!i.data)return"any";const a=i.data.find(c=>c.id===n);return a?a.dynamic?y2(e,t,n,o,a,r):a.type||"any":"any"}function Nu(e,t){if(t.startsWith("exec-"))return["exec"];const n=Jm(e);if(!n||!n.handles||!n.handles.inputs||!n.handles.inputs.data)return["any"];const o=n.handles.inputs.data.find(r=>r.id===t);return!o||!o.type?["any"]:Array.isArray(o.type)?o.type:[o.type]}function Qm(e,t){if(e==="exec"||t.includes("exec"))return e==="exec"&&t.includes("exec");if(t.includes("any")||e==="any"||t.includes(e))return!0;const n=["number","integer","float"];return n.includes(e)?t.some(o=>n.includes(o)):!1}function v2(e,t,n,o,r){const s={...r.nodeData[e.id]||{},_nodeId:e.id};if({...r.nodeData[n.id]||{},_nodeId:n.id},t.startsWith("exec-"))return!0;const i=yo(e.type,s,t,"source",r),a=Nu(n.type,o);return Qm(i,a)}class b2{constructor(){this.detectedTypes=new Map}detectType(t,n,o){const r=xa(o);return this.detectedTypes.has(t)||this.detectedTypes.set(t,new Map),this.detectedTypes.get(t).set(n,r),r}detectAllTypes(t){const n={};for(const[o,r]of Object.entries(t))if(!(!r||typeof r!="object")){n[o]={};for(const s in r){if(s.startsWith("exec-"))continue;const i=r[s],a=this.detectType(o,s,i);n[o][s]=a}}return n}getDetectedType(t,n){const o=this.detectedTypes.get(t);return o&&o.get(n)||null}getNodeDetectedTypes(t){const n=this.detectedTypes.get(t);return n?Object.fromEntries(n):{}}loadDetectedTypes(t){this.detectedTypes.clear();for(const n in t){const o=new Map;for(const r in t[n])o.set(r,t[n][r]);this.detectedTypes.set(n,o)}}exportDetectedTypes(){const t={};for(const[n,o]of this.detectedTypes)t[n]=Object.fromEntries(o);return t}clearDetectedTypes(){this.detectedTypes.clear()}getHandleType(t,n,o={}){const r=this.getDetectedType(t.id,n.id);return r||yo(t,n,o)}isTypeCompatible(t,n){if(t==="any"||n==="any"||t===n)return!0;const o=["number","integer","float"];return!!(o.includes(t)&&o.includes(n)||t.startsWith("array")&&n==="array"||t==="array"&&n.startsWith("array")||t.startsWith("object")&&n==="object"||t==="object"&&n.startsWith("object"))}getTypeColor(t){const n={string:"#10b981",number:"#3b82f6",integer:"#3b82f6",float:"#3b82f6",boolean:"#f59e0b",array:"#8b5cf6",object:"#ec4899",date:"#14b8a6",any:"#6b7280",exec:"#ef4444",null:"#6b7280"};return t.startsWith("array")?n.array:t.startsWith("object")?n.object:n[t]||n.any}inferTypeFromInputs(t){if(!t||Object.keys(t).length===0)return"any";const n=Object.values(t)[0];return xa(n)}getTypeStats(){const t={totalNodes:this.detectedTypes.size,totalHandles:0,typeDistribution:{}};for(const n of this.detectedTypes.values()){t.totalHandles+=n.size;for(const o of n.values())t.typeDistribution[o]=(t.typeDistribution[o]||0)+1}return t}}class x2{constructor(){this.autoExecuteDelay=500,this.autoExecuteOnCreate=["input","constant","variable","array-create","object-create"],this.autoExecuteOnConfigChange=["input","constant","variable","data-connector","array-create","object-create","array-slice","array-filter","array-map","array-sort","array-aggregate","array-merge","array-distinct","array-groupby","object-filter","object-pick","object-merge","object-transform","object-rename","object-set-property","object-to-array","object-keys-values","field-extractor","comparison","logic","math","string-ops","type-conversion","debug-viewer"],this.autoExecuteOnDataReceived=["array-filter","array-map","array-sort","array-aggregate","array-merge","array-distinct","array-groupby","array-slice","object-filter","object-pick","object-merge","object-transform","object-rename","object-set-property","object-to-array","object-keys-values","field-extractor","comparison","logic","math","string-ops","type-conversion","debug-viewer"]}shouldAutoExecuteOnCreate(t){return this.autoExecuteOnCreate.includes(t)}shouldAutoExecuteOnConfigChange(t){return this.autoExecuteOnConfigChange.includes(t)}shouldAutoExecuteOnDataReceived(t){return this.autoExecuteOnDataReceived.includes(t)}shouldAutoExecute(t,n){switch(n){case"create":return this.shouldAutoExecuteOnCreate(t);case"config":return this.shouldAutoExecuteOnConfigChange(t);case"data":return this.shouldAutoExecuteOnDataReceived(t);default:return!1}}getDelay(){return this.autoExecuteDelay}setDelay(t){this.autoExecuteDelay=t}hasExecInputs(t,n){return n.some(o=>o.target===t&&o.edgeType==="exec")}getAffectedNodes(t,n,o){const r=[],s=new Set,i=a=>{if(s.has(a))return;s.add(a);const l=o.filter(u=>u.source===a&&u.edgeType==="data");for(const u of l){const c=n.find(d=>d.id===u.target);c&&this.shouldAutoExecuteOnDataReceived(c.type)&&(this.hasExecInputs(c.id,o)||(r.push(c.id),i(c.id)))}};return i(t),r}determineTrigger(t,n,o){if(this.hasExecInputs(t.id,n))return null;switch(o){case"create":return this.shouldAutoExecuteOnCreate(t.type)?"create":null;case"config-change":return this.shouldAutoExecuteOnConfigChange(t.type)?"config":null;case"upstream-execution":return this.shouldAutoExecuteOnDataReceived(t.type)?"data":null;default:return null}}getExecutionPlan(t,n,o,r){const s=[];if(r==="create"||r==="config-change"){const i=n.find(a=>a.id===t);i&&this.determineTrigger(i,o,r)&&s.push(t)}if(r==="upstream-execution"){const i=this.getAffectedNodes(t,n,o);s.push(...i)}return s}addAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate.includes(t)||this.autoExecuteOnCreate.push(t);break;case"config":this.autoExecuteOnConfigChange.includes(t)||this.autoExecuteOnConfigChange.push(t);break;case"data":this.autoExecuteOnDataReceived.includes(t)||this.autoExecuteOnDataReceived.push(t);break}}removeAutoExecuteRule(t,n){switch(n){case"create":this.autoExecuteOnCreate=this.autoExecuteOnCreate.filter(o=>o!==t);break;case"config":this.autoExecuteOnConfigChange=this.autoExecuteOnConfigChange.filter(o=>o!==t);break;case"data":this.autoExecuteOnDataReceived=this.autoExecuteOnDataReceived.filter(o=>o!==t);break}}getRules(){return{onCreate:[...this.autoExecuteOnCreate],onConfigChange:[...this.autoExecuteOnConfigChange],onDataReceived:[...this.autoExecuteOnDataReceived]}}}function Tu(e,t){if(!e||!t)return;const n=t.split(".");let o=e;for(const r of n){if(o==null)return;o=o[r]}return o}async function _2(e,t,n,o={}){var d,h;const{type:r,id:s}=e;if(!o.registry)throw new Error("context.registry is required for executeNode");const{getNodeDefinition:i,getNodeFunction:a}=o.registry,l=i(r);if(!l)throw new Error(`Node type "${r}" no encontrado no catlogo`);const u=((d=l.execution)==null?void 0:d.async)!==!1,c=await a(r,"method");if(!c)throw new Error(`Mtodo de execuo no encontrado para node type "${r}"`);try{const f={...t};t.exposedFields&&n&&Object.keys(t.exposedFields).forEach(y=>{const k=`exposed-${y}`.replace("data-","");n[k]!==void 0&&(f[y]=n[k])});const p={nodeData:f,inputs:n,context:o,nodeId:s},v=((h=l.execution)==null?void 0:h.timeout)||3e4;return u?await w2(c(p),v):c(p)}catch(f){throw f}}function w2(e,t){return Promise.race([e,new Promise((n,o)=>setTimeout(()=>o(new Error(`Timeout aps ${t}ms`)),t))])}function k2(e,t,n={}){var i,a,l,u,c;if(!n.registry)throw new Error("context.registry is required");const o=n.registry.getNodeDefinition(e.type);if(!o)return{};const r={};if(o.outputMapping)return E2(e,t,o,r);if(e.type==="connector"||["constant","array-filter","array-aggregate","array-slice","array-merge","array-create","object-create"].includes(e.type))return r["data-out"]=t,r;if(e.type==="input")return(((i=e.data)==null?void 0:i.parameters)||[]).forEach((h,f)=>{const p=`param-output-${f}`;r[p]=t[h.name]}),r;if(e.type==="output")return r["data-out"]=t,r;if(e.type==="field-extractor"){const d=((a=e.data)==null?void 0:a.selectedFields)||[],h=t!=null&&t.__wrapped?t.__originalData:t;return r["data-out"]=t!=null&&t.__wrapped?t.value:t,d.length>1&&(r["all-data"]=t),d.forEach(f=>{const p=`field-${f.replace(/\./g,"-")}`;r[p]=S2(h,f)}),r}let s=((u=(l=o.handles)==null?void 0:l.outputs)==null?void 0:u.data)||[];if(o.dynamicHandles&&e.data){const d=o.dynamicHandles.mode,h=e.data[d]||d;o.dynamicHandles[h]&&(s=((c=o.dynamicHandles[h].outputs)==null?void 0:c.data)||[])}return s.length===1?r[s[0].id]=t:s.length>1&&typeof t=="object"&&t!==null&&s.forEach(d=>{const h=d.id.replace("data-","");t[h]!==void 0&&(r[d.id]=t[h])}),r}function E2(e,t,n,o){var s;const r=n.outputMapping;if(r.mode==="dynamic"){const i=((s=e.data)==null?void 0:s[r.fieldSource])||[];Array.isArray(i)&&i.forEach((a,l)=>{const u=r.template.replace("{fieldName}",typeof a=="string"?a:a.name).replace("{index}",l),c=typeof a=="string"?Tu(t,a):t[a.name];o[u]=c})}return r.mainOutput&&(o[r.mainOutput]=t),o}function S2(e,t){if(Array.isArray(e))return e.map(n=>Tu(n,t));if(typeof e=="object"&&e!==null)return Tu(e,t)}function Sr(e){if(e===null||typeof e!="object")return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(n=>Sr(n));const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=Sr(e[n]));return t}function $2(e,t){Array.isArray(e)&&e.length>0&&(e=e[0]);const n=t.split(".");let o=e;for(const r of n)if(o&&typeof o=="object"&&r in o)o=o[r];else return;return o}var ot;(function(e){e.assertEqual=r=>{};function t(r){}e.assertIs=t;function n(r){throw new Error}e.assertNever=n,e.arrayToEnum=r=>{const s={};for(const i of r)s[i]=i;return s},e.getValidEnumValues=r=>{const s=e.objectKeys(r).filter(a=>typeof r[r[a]]!="number"),i={};for(const a of s)i[a]=r[a];return e.objectValues(i)},e.objectValues=r=>e.objectKeys(r).map(function(s){return r[s]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.push(i);return s},e.find=(r,s)=>{for(const i of r)if(s(i))return i},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,s=" | "){return r.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}e.joinValues=o,e.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(ot||(ot={}));var Pf;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Pf||(Pf={}));const Ce=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),uo=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return Number.isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},be=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Tn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},o={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)o._errors.push(n(i));else{let a=o,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(i))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return r(this),o}static assert(t){if(!(t instanceof Tn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},o=[];for(const r of this.issues)if(r.path.length>0){const s=r.path[0];n[s]=n[s]||[],n[s].push(t(r))}else o.push(t(r));return{formErrors:o,fieldErrors:n}}get formErrors(){return this.flatten()}}Tn.create=e=>new Tn(e);const Au=(e,t)=>{let n;switch(e.code){case be.invalid_type:e.received===Ce.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ot.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${ot.joinValues(e.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ot.joinValues(e.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${ot.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ot.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=t.defaultError,ot.assertNever(e)}return{message:n}};let C2=Au;function N2(){return C2}const T2=e=>{const{data:t,path:n,errorMaps:o,issueData:r}=e,s=[...n,...r.path||[]],i={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let a="";const l=o.filter(u=>!!u).slice().reverse();for(const u of l)a=u(i,{data:t,defaultError:a}).message;return{...r,path:s,message:a}};function $e(e,t){const n=N2(),o=T2({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Au?void 0:Au].filter(r=>!!r)});e.common.issues.push(o)}class jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const o=[];for(const r of n){if(r.status==="aborted")return Fe;r.status==="dirty"&&t.dirty(),o.push(r.value)}return{status:t.value,value:o}}static async mergeObjectAsync(t,n){const o=[];for(const r of n){const s=await r.key,i=await r.value;o.push({key:s,value:i})}return jt.mergeObjectSync(t,o)}static mergeObjectSync(t,n){const o={};for(const r of n){const{key:s,value:i}=r;if(s.status==="aborted"||i.status==="aborted")return Fe;s.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||r.alwaysSet)&&(o[s.value]=i.value)}return{status:t.value,value:o}}}const Fe=Object.freeze({status:"aborted"}),rs=e=>({status:"dirty",value:e}),en=e=>({status:"valid",value:e}),Vf=e=>e.status==="aborted",Hf=e=>e.status==="dirty",$r=e=>e.status==="valid",_a=e=>typeof Promise<"u"&&e instanceof Promise;var Ae;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ae||(Ae={}));class An{constructor(t,n,o,r){this._cachedPath=[],this.parent=t,this.data=n,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zf=(e,t)=>{if($r(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Tn(e.common.issues);return this._error=n,this._error}}};function qe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:o,description:r}=e;if(t&&(n||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:r}:{errorMap:(i,a)=>{const{message:l}=e;return i.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??o??a.defaultError}:i.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:r}}class Xe{get description(){return this._def.description}_getType(t){return uo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:uo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new jt,ctx:{common:t.parent.common,data:t.data,parsedType:uo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(_a(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const o=this.safeParse(t,n);if(o.success)return o.data;throw o.error}safeParse(t,n){const o={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uo(t)},r=this._parseSync({data:t,path:o.path,parent:o});return zf(o,r)}"~validate"(t){var o,r;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uo(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return $r(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(r=(o=s==null?void 0:s.message)==null?void 0:o.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>$r(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const o=await this.safeParseAsync(t,n);if(o.success)return o.data;throw o.error}async safeParseAsync(t,n){const o={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:uo(t)},r=this._parse({data:t,path:o.path,parent:o}),s=await(_a(r)?r:Promise.resolve(r));return zf(o,s)}refine(t,n){const o=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const i=t(r),a=()=>s.addIssue({code:be.custom,...o(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(l=>l?!0:(a(),!1)):i?!0:(a(),!1)})}refinement(t,n){return this._refinement((o,r)=>t(o)?!0:(r.addIssue(typeof n=="function"?n(o,r):n),!1))}_refinement(t){return new Tr({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return vo.create(this,this._def)}nullable(){return Ar.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Cn.create(this)}promise(){return $a.create(this,this._def)}or(t){return ka.create([this,t],this._def)}and(t){return Ea.create(this,t,this._def)}transform(t){return new Tr({...qe(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Pu({...qe(this._def),innerType:this,defaultValue:n,typeName:He.ZodDefault})}brand(){return new J2({typeName:He.ZodBranded,type:this,...qe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vu({...qe(this._def),innerType:this,catchValue:n,typeName:He.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Hc.create(this,t)}readonly(){return Hu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const A2=/^c[^\s-]{8,}$/i,I2=/^[0-9a-z]+$/,O2=/^[0-9A-HJKMNP-TV-Z]{26}$/i,R2=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M2=/^[a-z0-9_-]{21}$/i,D2=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P2=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,V2=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H2="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pl;const z2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,L2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B2=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,U2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ey="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q2=new RegExp(`^${ey}$`);function ty(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function W2(e){return new RegExp(`^${ty(e)}$`)}function Y2(e){let t=`${ey}T${ty(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function G2(e,t){return!!((t==="v4"||!t)&&z2.test(e)||(t==="v6"||!t)&&L2.test(e))}function Z2(e,t){if(!D2.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const o=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&r.alg!==t)}catch{return!1}}function K2(e,t){return!!((t==="v4"||!t)&&F2.test(e)||(t==="v6"||!t)&&B2.test(e))}class jn extends Xe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const s=this._getOrReturnCtx(t);return $e(s,{code:be.invalid_type,expected:Ce.string,received:s.parsedType}),Fe}const o=new jt;let r;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(r=this._getOrReturnCtx(t,r),$e(r,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")t.data.length>s.value&&(r=this._getOrReturnCtx(t,r),$e(r,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){const i=t.data.length>s.value,a=t.data.length<s.value;(i||a)&&(r=this._getOrReturnCtx(t,r),i?$e(r,{code:be.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&$e(r,{code:be.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")V2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"email",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")Pl||(Pl=new RegExp(H2,"u")),Pl.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"emoji",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")R2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"uuid",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")M2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"nanoid",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")A2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"cuid",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")I2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"cuid2",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")O2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"ulid",code:be.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),$e(r,{validation:"url",code:be.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"regex",code:be.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?Y2(s).test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?q2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?W2(s).test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{code:be.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?P2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"duration",code:be.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?G2(t.data,s.version)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"ip",code:be.invalid_string,message:s.message}),o.dirty()):s.kind==="jwt"?Z2(t.data,s.alg)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"jwt",code:be.invalid_string,message:s.message}),o.dirty()):s.kind==="cidr"?K2(t.data,s.version)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"cidr",code:be.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?j2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"base64",code:be.invalid_string,message:s.message}),o.dirty()):s.kind==="base64url"?U2.test(t.data)||(r=this._getOrReturnCtx(t,r),$e(r,{validation:"base64url",code:be.invalid_string,message:s.message}),o.dirty()):ot.assertNever(s);return{status:o.value,value:t.data}}_regex(t,n,o){return this.refinement(r=>t.test(r),{validation:n,code:be.invalid_string,...Ae.errToObj(o)})}_addCheck(t){return new jn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ae.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ae.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ae.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ae.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ae.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ae.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ae.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ae.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ae.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ae.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ae.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ae.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ae.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ae.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ae.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ae.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ae.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ae.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ae.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ae.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ae.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ae.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ae.errToObj(n)})}nonempty(t){return this.min(1,Ae.errToObj(t))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}jn.create=e=>new jn({checks:[],typeName:He.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});function X2(e,t){const n=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,r=n>o?n:o,s=Number.parseInt(e.toFixed(r).replace(".","")),i=Number.parseInt(t.toFixed(r).replace(".",""));return s%i/10**r}class Cr extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const s=this._getOrReturnCtx(t);return $e(s,{code:be.invalid_type,expected:Ce.number,received:s.parsedType}),Fe}let o;const r=new jt;for(const s of this._def.checks)s.kind==="int"?ot.isInteger(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{code:be.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?X2(t.data,s.value)!==0&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(o=this._getOrReturnCtx(t,o),$e(o,{code:be.not_finite,message:s.message}),r.dirty()):ot.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ae.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ae.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ae.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ae.toString(n))}setLimit(t,n,o,r){return new Cr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:Ae.toString(r)}]})}_addCheck(t){return new Cr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ae.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ae.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(n===null||o.value>n)&&(n=o.value):o.kind==="max"&&(t===null||o.value<t)&&(t=o.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Cr.create=e=>new Cr({checks:[],typeName:He.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Ls extends Xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let o;const r=new jt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(t,o),$e(o,{code:be.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):ot.assertNever(s);return{status:r.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return $e(n,{code:be.invalid_type,expected:Ce.bigint,received:n.parsedType}),Fe}gte(t,n){return this.setLimit("min",t,!0,Ae.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ae.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ae.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ae.toString(n))}setLimit(t,n,o,r){return new Ls({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:o,message:Ae.toString(r)}]})}_addCheck(t){return new Ls({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ls.create=e=>new Ls({checks:[],typeName:He.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});class Iu extends Xe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.boolean,received:o.parsedType}),Fe}return en(t.data)}}Iu.create=e=>new Iu({typeName:He.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class wa extends Xe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const s=this._getOrReturnCtx(t);return $e(s,{code:be.invalid_type,expected:Ce.date,received:s.parsedType}),Fe}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return $e(s,{code:be.invalid_date}),Fe}const o=new jt;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),$e(r,{code:be.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),$e(r,{code:be.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):ot.assertNever(s);return{status:o.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wa({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ae.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ae.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}wa.create=e=>new wa({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:He.ZodDate,...qe(e)});class Ff extends Xe{_parse(t){if(this._getType(t)!==Ce.symbol){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.symbol,received:o.parsedType}),Fe}return en(t.data)}}Ff.create=e=>new Ff({typeName:He.ZodSymbol,...qe(e)});class Lf extends Xe{_parse(t){if(this._getType(t)!==Ce.undefined){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.undefined,received:o.parsedType}),Fe}return en(t.data)}}Lf.create=e=>new Lf({typeName:He.ZodUndefined,...qe(e)});class Ou extends Xe{_parse(t){if(this._getType(t)!==Ce.null){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.null,received:o.parsedType}),Fe}return en(t.data)}}Ou.create=e=>new Ou({typeName:He.ZodNull,...qe(e)});class Bf extends Xe{constructor(){super(...arguments),this._any=!0}_parse(t){return en(t.data)}}Bf.create=e=>new Bf({typeName:He.ZodAny,...qe(e)});class Ru extends Xe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return en(t.data)}}Ru.create=e=>new Ru({typeName:He.ZodUnknown,...qe(e)});class wo extends Xe{_parse(t){const n=this._getOrReturnCtx(t);return $e(n,{code:be.invalid_type,expected:Ce.never,received:n.parsedType}),Fe}}wo.create=e=>new wo({typeName:He.ZodNever,...qe(e)});class jf extends Xe{_parse(t){if(this._getType(t)!==Ce.undefined){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.void,received:o.parsedType}),Fe}return en(t.data)}}jf.create=e=>new jf({typeName:He.ZodVoid,...qe(e)});class Cn extends Xe{_parse(t){const{ctx:n,status:o}=this._processInputParams(t),r=this._def;if(n.parsedType!==Ce.array)return $e(n,{code:be.invalid_type,expected:Ce.array,received:n.parsedType}),Fe;if(r.exactLength!==null){const i=n.data.length>r.exactLength.value,a=n.data.length<r.exactLength.value;(i||a)&&($e(n,{code:i?be.too_big:be.too_small,minimum:a?r.exactLength.value:void 0,maximum:i?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&($e(n,{code:be.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&($e(n,{code:be.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),n.common.async)return Promise.all([...n.data].map((i,a)=>r.type._parseAsync(new An(n,i,n.path,a)))).then(i=>jt.mergeArray(o,i));const s=[...n.data].map((i,a)=>r.type._parseSync(new An(n,i,n.path,a)));return jt.mergeArray(o,s)}get element(){return this._def.type}min(t,n){return new Cn({...this._def,minLength:{value:t,message:Ae.toString(n)}})}max(t,n){return new Cn({...this._def,maxLength:{value:t,message:Ae.toString(n)}})}length(t,n){return new Cn({...this._def,exactLength:{value:t,message:Ae.toString(n)}})}nonempty(t){return this.min(1,t)}}Cn.create=(e,t)=>new Cn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...qe(t)});function or(e){if(e instanceof Ct){const t={};for(const n in e.shape){const o=e.shape[n];t[n]=vo.create(or(o))}return new Ct({...e._def,shape:()=>t})}else return e instanceof Cn?new Cn({...e._def,type:or(e.element)}):e instanceof vo?vo.create(or(e.unwrap())):e instanceof Ar?Ar.create(or(e.unwrap())):e instanceof Wo?Wo.create(e.items.map(t=>or(t))):e}class Ct extends Xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ot.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Ce.object){const u=this._getOrReturnCtx(t);return $e(u,{code:be.invalid_type,expected:Ce.object,received:u.parsedType}),Fe}const{status:o,ctx:r}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof wo&&this._def.unknownKeys==="strip"))for(const u in r.data)i.includes(u)||a.push(u);const l=[];for(const u of i){const c=s[u],d=r.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new An(r,d,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof wo){const u=this._def.unknownKeys;if(u==="passthrough")for(const c of a)l.push({key:{status:"valid",value:c},value:{status:"valid",value:r.data[c]}});else if(u==="strict")a.length>0&&($e(r,{code:be.unrecognized_keys,keys:a}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const c of a){const d=r.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new An(r,d,r.path,c)),alwaysSet:c in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const c of l){const d=await c.key,h=await c.value;u.push({key:d,value:h,alwaysSet:c.alwaysSet})}return u}).then(u=>jt.mergeObjectSync(o,u)):jt.mergeObjectSync(o,l)}get shape(){return this._def.shape()}strict(t){return Ae.errToObj,new Ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,o)=>{var s,i;const r=((i=(s=this._def).errorMap)==null?void 0:i.call(s,n,o).message)??o.defaultError;return n.code==="unrecognized_keys"?{message:Ae.errToObj(t).message??r}:{message:r}}}:{}})}strip(){return new Ct({...this._def,unknownKeys:"strip"})}passthrough(){return new Ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:He.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ct({...this._def,catchall:t})}pick(t){const n={};for(const o of ot.objectKeys(t))t[o]&&this.shape[o]&&(n[o]=this.shape[o]);return new Ct({...this._def,shape:()=>n})}omit(t){const n={};for(const o of ot.objectKeys(this.shape))t[o]||(n[o]=this.shape[o]);return new Ct({...this._def,shape:()=>n})}deepPartial(){return or(this)}partial(t){const n={};for(const o of ot.objectKeys(this.shape)){const r=this.shape[o];t&&!t[o]?n[o]=r:n[o]=r.optional()}return new Ct({...this._def,shape:()=>n})}required(t){const n={};for(const o of ot.objectKeys(this.shape))if(t&&!t[o])n[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof vo;)s=s._def.innerType;n[o]=s}return new Ct({...this._def,shape:()=>n})}keyof(){return ny(ot.objectKeys(this.shape))}}Ct.create=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strip",catchall:wo.create(),typeName:He.ZodObject,...qe(t)});Ct.strictCreate=(e,t)=>new Ct({shape:()=>e,unknownKeys:"strict",catchall:wo.create(),typeName:He.ZodObject,...qe(t)});Ct.lazycreate=(e,t)=>new Ct({shape:e,unknownKeys:"strip",catchall:wo.create(),typeName:He.ZodObject,...qe(t)});class ka extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),o=this._def.options;function r(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new Tn(a.ctx.common.issues));return $e(n,{code:be.invalid_union,unionErrors:i}),Fe}if(n.common.async)return Promise.all(o.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(r);{let s;const i=[];for(const l of o){const u={...n,common:{...n.common,issues:[]},parent:null},c=l._parseSync({data:n.data,path:n.path,parent:u});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(l=>new Tn(l));return $e(n,{code:be.invalid_union,unionErrors:a}),Fe}}get options(){return this._def.options}}ka.create=(e,t)=>new ka({options:e,typeName:He.ZodUnion,...qe(t)});function Mu(e,t){const n=uo(e),o=uo(t);if(e===t)return{valid:!0,data:e};if(n===Ce.object&&o===Ce.object){const r=ot.objectKeys(t),s=ot.objectKeys(e).filter(a=>r.indexOf(a)!==-1),i={...e,...t};for(const a of s){const l=Mu(e[a],t[a]);if(!l.valid)return{valid:!1};i[a]=l.data}return{valid:!0,data:i}}else if(n===Ce.array&&o===Ce.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let s=0;s<e.length;s++){const i=e[s],a=t[s],l=Mu(i,a);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return n===Ce.date&&o===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ea extends Xe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t),r=(s,i)=>{if(Vf(s)||Vf(i))return Fe;const a=Mu(s.value,i.value);return a.valid?((Hf(s)||Hf(i))&&n.dirty(),{status:n.value,value:a.data}):($e(o,{code:be.invalid_intersection_types}),Fe)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,i])=>r(s,i)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}Ea.create=(e,t,n)=>new Ea({left:e,right:t,typeName:He.ZodIntersection,...qe(n)});class Wo extends Xe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ce.array)return $e(o,{code:be.invalid_type,expected:Ce.array,received:o.parsedType}),Fe;if(o.data.length<this._def.items.length)return $e(o,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Fe;!this._def.rest&&o.data.length>this._def.items.length&&($e(o,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...o.data].map((i,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new An(o,i,o.path,a)):null}).filter(i=>!!i);return o.common.async?Promise.all(s).then(i=>jt.mergeArray(n,i)):jt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Wo({...this._def,rest:t})}}Wo.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wo({items:e,typeName:He.ZodTuple,rest:null,...qe(t)})};class Sa extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ce.object)return $e(o,{code:be.invalid_type,expected:Ce.object,received:o.parsedType}),Fe;const r=[],s=this._def.keyType,i=this._def.valueType;for(const a in o.data)r.push({key:s._parse(new An(o,a,o.path,a)),value:i._parse(new An(o,o.data[a],o.path,a)),alwaysSet:a in o.data});return o.common.async?jt.mergeObjectAsync(n,r):jt.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(t,n,o){return n instanceof Xe?new Sa({keyType:t,valueType:n,typeName:He.ZodRecord,...qe(o)}):new Sa({keyType:jn.create(),valueType:t,typeName:He.ZodRecord,...qe(n)})}}class Uf extends Xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ce.map)return $e(o,{code:be.invalid_type,expected:Ce.map,received:o.parsedType}),Fe;const r=this._def.keyType,s=this._def.valueType,i=[...o.data.entries()].map(([a,l],u)=>({key:r._parse(new An(o,a,o.path,[u,"key"])),value:s._parse(new An(o,l,o.path,[u,"value"]))}));if(o.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of i){const u=await l.key,c=await l.value;if(u.status==="aborted"||c.status==="aborted")return Fe;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of i){const u=l.key,c=l.value;if(u.status==="aborted"||c.status==="aborted")return Fe;(u.status==="dirty"||c.status==="dirty")&&n.dirty(),a.set(u.value,c.value)}return{status:n.value,value:a}}}}Uf.create=(e,t,n)=>new Uf({valueType:t,keyType:e,typeName:He.ZodMap,...qe(n)});class Bs extends Xe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.parsedType!==Ce.set)return $e(o,{code:be.invalid_type,expected:Ce.set,received:o.parsedType}),Fe;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&($e(o,{code:be.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&($e(o,{code:be.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function i(l){const u=new Set;for(const c of l){if(c.status==="aborted")return Fe;c.status==="dirty"&&n.dirty(),u.add(c.value)}return{status:n.value,value:u}}const a=[...o.data.values()].map((l,u)=>s._parse(new An(o,l,o.path,u)));return o.common.async?Promise.all(a).then(l=>i(l)):i(a)}min(t,n){return new Bs({...this._def,minSize:{value:t,message:Ae.toString(n)}})}max(t,n){return new Bs({...this._def,maxSize:{value:t,message:Ae.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Bs.create=(e,t)=>new Bs({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...qe(t)});class Du extends Xe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Du.create=(e,t)=>new Du({getter:e,typeName:He.ZodLazy,...qe(t)});class qf extends Xe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return $e(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),Fe}return{status:"valid",value:t.data}}get value(){return this._def.value}}qf.create=(e,t)=>new qf({value:e,typeName:He.ZodLiteral,...qe(t)});function ny(e,t){return new Nr({values:e,typeName:He.ZodEnum,...qe(t)})}class Nr extends Xe{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),o=this._def.values;return $e(n,{expected:ot.joinValues(o),received:n.parsedType,code:be.invalid_type}),Fe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),o=this._def.values;return $e(n,{received:n.data,code:be.invalid_enum_value,options:o}),Fe}return en(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Nr.create(t,{...this._def,...n})}exclude(t,n=this._def){return Nr.create(this.options.filter(o=>!t.includes(o)),{...this._def,...n})}}Nr.create=ny;class Wf extends Xe{_parse(t){const n=ot.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(t);if(o.parsedType!==Ce.string&&o.parsedType!==Ce.number){const r=ot.objectValues(n);return $e(o,{expected:ot.joinValues(r),received:o.parsedType,code:be.invalid_type}),Fe}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const r=ot.objectValues(n);return $e(o,{received:o.data,code:be.invalid_enum_value,options:r}),Fe}return en(t.data)}get enum(){return this._def.values}}Wf.create=(e,t)=>new Wf({values:e,typeName:He.ZodNativeEnum,...qe(t)});class $a extends Xe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.promise&&n.common.async===!1)return $e(n,{code:be.invalid_type,expected:Ce.promise,received:n.parsedType}),Fe;const o=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return en(o.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$a.create=(e,t)=>new $a({type:e,typeName:He.ZodPromise,...qe(t)});class Tr extends Xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:o}=this._processInputParams(t),r=this._def.effect||null,s={addIssue:i=>{$e(o,i),i.fatal?n.abort():n.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const i=r.transform(o.data,s);if(o.common.async)return Promise.resolve(i).then(async a=>{if(n.value==="aborted")return Fe;const l=await this._def.schema._parseAsync({data:a,path:o.path,parent:o});return l.status==="aborted"?Fe:l.status==="dirty"||n.value==="dirty"?rs(l.value):l});{if(n.value==="aborted")return Fe;const a=this._def.schema._parseSync({data:i,path:o.path,parent:o});return a.status==="aborted"?Fe:a.status==="dirty"||n.value==="dirty"?rs(a.value):a}}if(r.type==="refinement"){const i=a=>{const l=r.refinement(a,s);if(o.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return a.status==="aborted"?Fe:(a.status==="dirty"&&n.dirty(),i(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>a.status==="aborted"?Fe:(a.status==="dirty"&&n.dirty(),i(a.value).then(()=>({status:n.value,value:a.value}))))}if(r.type==="transform")if(o.common.async===!1){const i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!$r(i))return Fe;const a=r.transform(i.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>$r(i)?Promise.resolve(r.transform(i.value,s)).then(a=>({status:n.value,value:a})):Fe);ot.assertNever(r)}}Tr.create=(e,t,n)=>new Tr({schema:e,typeName:He.ZodEffects,effect:t,...qe(n)});Tr.createWithPreprocess=(e,t,n)=>new Tr({schema:t,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...qe(n)});class vo extends Xe{_parse(t){return this._getType(t)===Ce.undefined?en(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vo.create=(e,t)=>new vo({innerType:e,typeName:He.ZodOptional,...qe(t)});class Ar extends Xe{_parse(t){return this._getType(t)===Ce.null?en(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ar.create=(e,t)=>new Ar({innerType:e,typeName:He.ZodNullable,...qe(t)});class Pu extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t);let o=n.data;return n.parsedType===Ce.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Pu.create=(e,t)=>new Pu({innerType:e,typeName:He.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qe(t)});class Vu extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),o={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return _a(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Tn(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Tn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Vu.create=(e,t)=>new Vu({innerType:e,typeName:He.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qe(t)});class Yf extends Xe{_parse(t){if(this._getType(t)!==Ce.nan){const o=this._getOrReturnCtx(t);return $e(o,{code:be.invalid_type,expected:Ce.nan,received:o.parsedType}),Fe}return{status:"valid",value:t.data}}}Yf.create=e=>new Yf({typeName:He.ZodNaN,...qe(e)});class J2 extends Xe{_parse(t){const{ctx:n}=this._processInputParams(t),o=n.data;return this._def.type._parse({data:o,path:n.path,parent:n})}unwrap(){return this._def.type}}class Hc extends Xe{_parse(t){const{status:n,ctx:o}=this._processInputParams(t);if(o.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?Fe:s.status==="dirty"?(n.dirty(),rs(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?Fe:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(t,n){return new Hc({in:t,out:n,typeName:He.ZodPipeline})}}class Hu extends Xe{_parse(t){const n=this._def.innerType._parse(t),o=r=>($r(r)&&(r.value=Object.freeze(r.value)),r);return _a(n)?n.then(r=>o(r)):o(n)}unwrap(){return this._def.innerType}}Hu.create=(e,t)=>new Hu({innerType:e,typeName:He.ZodReadonly,...qe(t)});var He;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(He||(He={}));const Gf=jn.create,Zf=Cr.create,Kf=Iu.create,Xf=Ou.create,ki=Ru.create;wo.create;const Jf=Cn.create,Qf=ka.create;Ea.create;Wo.create;const eh=Sa.create,th=Du.create;Nr.create;$a.create;vo.create;Ar.create;const _n=10,oy=1024*1024;function Q2(e){if(typeof e!="string"||e.length>oy)return!1;try{return JSON.parse(e),!0}catch{return!1}}function Fo(e,t=0){if(t>_n||e===null||typeof e!="object")return t;if(Array.isArray(e))return e.length===0?t+1:Math.max(...e.map(o=>Fo(o,t+1)));const n=Object.values(e);return n.length===0?t+1:Math.max(...n.map(o=>Fo(o,t+1)))}function d5(e,t=null,n={}){const o=n.maxDepth||_n,r=n.maxSize||oy;if(typeof e!="string")throw new Error("Input must be a string");if(e.length>r)throw new Error(`JSON string exceeds maximum size of ${r} bytes`);if(!Q2(e))throw new Error("Invalid JSON syntax");let s;try{s=JSON.parse(e)}catch(a){throw new Error(`JSON parse error: ${a.message}`)}if(Fo(s)>o)throw new Error(`Object nesting exceeds maximum depth of ${o}`);if(t)try{return t.parse(s)}catch(a){if(a instanceof Tn){const l=a.errors.map(u=>`${u.path.join(".")}: ${u.message}`).join(", ");throw new Error(`Schema validation failed: ${l}`)}throw a}return s}function f5(e){if(typeof e!="string")throw new Error("Input must be a string");return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const h5={safeObject:eh(ki()).refine(e=>Fo(e)<=_n,{message:`Object depth exceeds ${_n} levels`}),safeArray:Jf(ki()).refine(e=>Fo(e)<=_n,{message:`Array depth exceeds ${_n} levels`}),primitive:Qf([Gf(),Zf(),Kf(),Xf()]),safeValue:Qf([Gf(),Zf(),Kf(),Xf(),th(()=>eh(ki())),th(()=>Jf(ki()))]).refine(e=>Fo(e)<=_n,{message:`Value depth exceeds ${_n} levels`})};function p5(e){if(Fo(e)>_n)throw new Error(`Value nesting exceeds maximum depth of ${_n}`);if(typeof e=="object"&&e!==null){const n=Object.keys(e),o=["__proto__","constructor","prototype"];for(const r of n)if(o.includes(r))throw new Error(`Dangerous key detected: ${r}`)}}const eT=Object.assign({"../methods/connectors/connector.js":()=>Ge(()=>import("./connector-Bn9OBLLJ.js"),[]),"../methods/io/output.js":()=>Ge(()=>import("./output-B5NVIygm.js"),__vite__mapDeps([0,1]))}),tT={"lib/methods/comparison/comparison.js":()=>Ge(()=>import("./comparison-C-3EnatI.js"),__vite__mapDeps([2,1])),"lib/methods/constants/constant.js":()=>Ge(()=>import("./constant-pr9Qzjzb.js"),[]),"lib/methods/conversion/typeConversion.js":()=>Ge(()=>import("./typeConversion-Dht7g6FP.js"),__vite__mapDeps([3,1])),"lib/methods/io/input.js":()=>Ge(()=>import("./input-BPNNlCXK.js"),[]),"lib/methods/iteration/forEach.js":()=>Ge(()=>import("./forEach-9OFFvcAY.js"),__vite__mapDeps([4,1])),"lib/methods/iteration/whileLoop.js":()=>Ge(()=>import("./whileLoop-BWu1MzO-.js"),__vite__mapDeps([5,1])),"lib/methods/logic/conditionalBranch.js":()=>Ge(()=>import("./conditionalBranch-CkXXrdZr.js"),__vite__mapDeps([6,1])),"lib/methods/logic/logic.js":()=>Ge(()=>import("./logic-ePm9P3Wg.js"),__vite__mapDeps([7,1])),"lib/methods/organization/marker.js":()=>Ge(()=>import("./marker-BauP6ejb.js"),[]),"lib/methods/processors/arrayAggregate.js":()=>Ge(()=>import("./arrayAggregate-CSBVTpYh.js"),__vite__mapDeps([8,1,9])),"lib/methods/processors/arrayCreate.js":()=>Ge(()=>import("./arrayCreate-CWf8_DP0.js"),__vite__mapDeps([10,1])),"lib/methods/processors/arrayDistinct.js":()=>Ge(()=>import("./arrayDistinct-BN7t7hKV.js"),__vite__mapDeps([11,1,9])),"lib/methods/processors/arrayFilter.js":()=>Ge(()=>import("./arrayFilter-pA2HOpjP.js"),__vite__mapDeps([12,1,9])),"lib/methods/processors/arrayGroupBy.js":()=>Ge(()=>import("./arrayGroupBy-BUOG99i5.js"),__vite__mapDeps([13,1,9])),"lib/methods/processors/arrayMap.js":()=>Ge(()=>import("./arrayMap-CoFGNbsb.js"),__vite__mapDeps([14,1,9])),"lib/methods/processors/arrayMerge.js":()=>Ge(()=>import("./arrayMerge-DTWeiSuC.js"),__vite__mapDeps([15,1])),"lib/methods/processors/arrayProcessor.js":()=>Ge(()=>import("./arrayProcessor-3bzHxIk3.js"),__vite__mapDeps([16,1])),"lib/methods/processors/arraySlice.js":()=>Ge(()=>import("./arraySlice-CQXToVqn.js"),__vite__mapDeps([17,1])),"lib/methods/processors/arraySort.js":()=>Ge(()=>import("./arraySort-BUsbMhVI.js"),__vite__mapDeps([18,1,9])),"lib/methods/processors/debugViewer.js":()=>Ge(()=>import("./debugViewer-DCC5-KnR.js"),__vite__mapDeps([19,1])),"lib/methods/processors/fieldExtractor.js":()=>Ge(()=>import("./fieldExtractor-TLxGAfq2.js"),__vite__mapDeps([20,1,9])),"lib/methods/processors/math.js":()=>Ge(()=>import("./math-BT4bU4qf.js"),__vite__mapDeps([21,1])),"lib/methods/processors/objectCreate.js":()=>Ge(()=>import("./objectCreate-Cp_MSNis.js"),__vite__mapDeps([22,1])),"lib/methods/processors/objectFilter.js":()=>Ge(()=>import("./objectFilter-EJheFovF.js"),__vite__mapDeps([23,1])),"lib/methods/processors/objectKeysValues.js":()=>Ge(()=>import("./objectKeysValues-DCvxA3oL.js"),__vite__mapDeps([24,1])),"lib/methods/processors/objectMerge.js":()=>Ge(()=>import("./objectMerge-BDO1RdGM.js"),__vite__mapDeps([25,1])),"lib/methods/processors/objectPick.js":()=>Ge(()=>import("./objectPick-BaVu1BQP.js"),__vite__mapDeps([26,1,9])),"lib/methods/processors/objectRename.js":()=>Ge(()=>import("./objectRename-Txwo_3ZR.js"),__vite__mapDeps([27,1])),"lib/methods/processors/objectSetProperty.js":()=>Ge(()=>import("./objectSetProperty-D743SG3x.js"),__vite__mapDeps([28,1])),"lib/methods/processors/objectToArray.js":()=>Ge(()=>import("./objectToArray-3882GLb-.js"),__vite__mapDeps([29,1])),"lib/methods/processors/objectTransform.js":()=>Ge(()=>import("./objectTransform-BU6IzUSf.js"),__vite__mapDeps([30,1,9])),"lib/methods/processors/round.js":()=>Ge(()=>import("./round-DvGedJfu.js"),__vite__mapDeps([31,1])),"lib/methods/storage/variable.js":()=>Ge(()=>import("./variable-y4ks1ONU.js"),[]),"lib/methods/string/stringOps.js":()=>Ge(()=>import("./stringOps-CdSKE0Es.js"),__vite__mapDeps([32,1]))},nh={...tT,...eT};class nT{constructor(){this.nodes=new Map,this.categories=new Map,this.methodCache=new Map}registerNode(t,n){this.nodes.set(t,n)}registerCategory(t,n){this.categories.set(t,n)}getNodeDefinition(t){const n=this.nodes.get(t);return n||null}getAllNodes(){return Array.from(this.nodes.values())}getNodesByCategory(t){return this.getAllNodes().filter(n=>n.category===t)}getAllCategories(){return Array.from(this.categories.values())}hasNode(t){return this.nodes.has(t)}async getNodeFunction(t,n="method"){const o=this.getNodeDefinition(t);if(!o)return null;const r=o[n];if(!r)return null;const s=`${t}:${n}`;if(this.methodCache.has(s))return this.methodCache.get(s);try{const[i,a]=r.split(":");let l=null,u=null;const c=i.replace("lib/methods/","../methods/");if(l=nh[c],u=c,l||(u=i,l=nh[u]),!l)throw new Error(`Mdulo "${i}" no encontrado no registry`);const d=await l();if(!d[a])throw new Error(`Funo "${a}" no encontrada no mdulo "${i}"`);const h=d[a];return this.methodCache.set(s,h),h}catch{return null}}validateNodeConfig(t,n){const o=this.getNodeDefinition(t);if(!o)return{valid:!1,errors:[`Node type "${t}" no existe`]};const r=[],s=o.config||{};for(const[i,a]of Object.entries(s))if(a.required&&(n[i]===void 0||n[i]===null||n[i]==="")&&r.push(`Campo obrigatrio "${i}" est vazio`),a.condition&&n[i]!==void 0){const[l,u]=Object.entries(a.condition)[0],c=n[l];if(Array.isArray(u)){if(!u.includes(c))continue}else if(c!==u)continue}return{valid:r.length===0,errors:r}}getNodeHandles(t){const n=this.getNodeDefinition(t);return n?n.handles||{inputs:{execution:[],data:[]},outputs:{execution:[],data:[]}}:null}clear(){this.nodes.clear(),this.categories.clear(),this.methodCache.clear()}getStats(){return{totalNodes:this.nodes.size,totalCategories:this.categories.size,cachedMethods:this.methodCache.size,nodesByCategory:Array.from(this.categories.keys()).reduce((t,n)=>(t[n]=this.getNodesByCategory(n).length,t),{})}}}const Zo=new nT,g5=(e,t)=>Zo.registerNode(e,t),m5=(e,t)=>Zo.registerCategory(e,t),Yo=e=>Zo.getNodeDefinition(e),oT=()=>Zo.getAllNodes(),rT=e=>Zo.getNodesByCategory(e),ry=()=>Zo.getAllCategories(),sT=(e,t)=>Zo.getNodeFunction(e,t),sy={getNodeDefinition:Yo,getNodeFunction:sT};async function iT(e,t,n,o={}){const r={...o,registry:sy};return _2(e,t,n,r)}function Hi(e,t){return k2(e,t,{registry:sy})}function aT(e,t){const n=t.find(l=>l.id===e.source),o=t.find(l=>l.id===e.target);if(!n||!o)return;const r=Yo(n.type),s=Yo(o.type),i=oh(n,r,e.sourceHandle,"output"),a=oh(o,s,e.targetHandle,"input");console.log(" Edge connected:",{source:{node:n.type,handle:e.sourceHandle,type:i},target:{node:o.type,handle:e.targetHandle,type:a}})}function oh(e,t,n,o){var i,a,l,u,c,d;if(!t||!n)return"unknown";if(e.type==="input"&&o==="output"){const h=parseInt(n.replace("param-output-",""));return((a=(((i=e.data)==null?void 0:i.parameters)||[])[h])==null?void 0:a.type)||"any"}const r=o==="output"?(u=(l=t.handles)==null?void 0:l.outputs)==null?void 0:u.data:(d=(c=t.handles)==null?void 0:c.inputs)==null?void 0:d.data;if(!r)return"unknown";const s=r.find(h=>h.id===n);return(s==null?void 0:s.type)||"unknown"}function iy(e,t){return function(){return e.apply(t,arguments)}}const{toString:lT}=Object.prototype,{getPrototypeOf:zc}=Object,{iterator:ol,toStringTag:ay}=Symbol,rl=(e=>t=>{const n=lT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hn=e=>(e=e.toLowerCase(),t=>rl(t)===e),sl=e=>t=>typeof t===e,{isArray:Hr}=Array,Ir=sl("undefined");function ti(e){return e!==null&&!Ir(e)&&e.constructor!==null&&!Ir(e.constructor)&&Yt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ly=hn("ArrayBuffer");function uT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ly(e.buffer),t}const cT=sl("string"),Yt=sl("function"),uy=sl("number"),ni=e=>e!==null&&typeof e=="object",dT=e=>e===!0||e===!1,zi=e=>{if(rl(e)!=="object")return!1;const t=zc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ay in e)&&!(ol in e)},fT=e=>{if(!ni(e)||ti(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hT=hn("Date"),pT=hn("File"),gT=hn("Blob"),mT=hn("FileList"),yT=e=>ni(e)&&Yt(e.pipe),vT=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yt(e.append)&&((t=rl(e))==="formdata"||t==="object"&&Yt(e.toString)&&e.toString()==="[object FormData]"))},bT=hn("URLSearchParams"),[xT,_T,wT,kT]=["ReadableStream","Request","Response","Headers"].map(hn),ET=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oi(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),Hr(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(ti(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),i=s.length;let a;for(o=0;o<i;o++)a=s[o],t.call(null,e[a],a,e)}}function cy(e,t){if(ti(e))return null;t=t.toLowerCase();const n=Object.keys(e);let o=n.length,r;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,dy=e=>!Ir(e)&&e!==Ro;function zu(){const{caseless:e,skipUndefined:t}=dy(this)&&this||{},n={},o=(r,s)=>{const i=e&&cy(n,s)||s;zi(n[i])&&zi(r)?n[i]=zu(n[i],r):zi(r)?n[i]=zu({},r):Hr(r)?n[i]=r.slice():(!t||!Ir(r))&&(n[i]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&oi(arguments[r],o);return n}const ST=(e,t,n,{allOwnKeys:o}={})=>(oi(t,(r,s)=>{n&&Yt(r)?e[s]=iy(r,n):e[s]=r},{allOwnKeys:o}),e),$T=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),CT=(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},NT=(e,t,n,o)=>{let r,s,i;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],(!o||o(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=n!==!1&&zc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},TT=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return o!==-1&&o===n},AT=e=>{if(!e)return null;if(Hr(e))return e;let t=e.length;if(!uy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},IT=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&zc(Uint8Array)),OT=(e,t)=>{const o=(e&&e[ol]).call(e);let r;for(;(r=o.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},RT=(e,t)=>{let n;const o=[];for(;(n=e.exec(t))!==null;)o.push(n);return o},MT=hn("HTMLFormElement"),DT=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,r){return o.toUpperCase()+r}),rh=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),PT=hn("RegExp"),fy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};oi(n,(r,s)=>{let i;(i=t(r,s,e))!==!1&&(o[s]=i||r)}),Object.defineProperties(e,o)},VT=e=>{fy(e,(t,n)=>{if(Yt(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=e[n];if(Yt(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HT=(e,t)=>{const n={},o=r=>{r.forEach(s=>{n[s]=!0})};return Hr(e)?o(e):o(String(e).split(t)),n},zT=()=>{},FT=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function LT(e){return!!(e&&Yt(e.append)&&e[ay]==="FormData"&&e[ol])}const BT=e=>{const t=new Array(10),n=(o,r)=>{if(ni(o)){if(t.indexOf(o)>=0)return;if(ti(o))return o;if(!("toJSON"in o)){t[r]=o;const s=Hr(o)?[]:{};return oi(o,(i,a)=>{const l=n(i,r+1);!Ir(l)&&(s[a]=l)}),t[r]=void 0,s}}return o};return n(e,0)},jT=hn("AsyncFunction"),UT=e=>e&&(ni(e)||Yt(e))&&Yt(e.then)&&Yt(e.catch),hy=((e,t)=>e?setImmediate:t?((n,o)=>(Ro.addEventListener("message",({source:r,data:s})=>{r===Ro&&s===n&&o.length&&o.shift()()},!1),r=>{o.push(r),Ro.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Yt(Ro.postMessage)),qT=typeof queueMicrotask<"u"?queueMicrotask.bind(Ro):typeof process<"u"&&process.nextTick||hy,WT=e=>e!=null&&Yt(e[ol]),te={isArray:Hr,isArrayBuffer:ly,isBuffer:ti,isFormData:vT,isArrayBufferView:uT,isString:cT,isNumber:uy,isBoolean:dT,isObject:ni,isPlainObject:zi,isEmptyObject:fT,isReadableStream:xT,isRequest:_T,isResponse:wT,isHeaders:kT,isUndefined:Ir,isDate:hT,isFile:pT,isBlob:gT,isRegExp:PT,isFunction:Yt,isStream:yT,isURLSearchParams:bT,isTypedArray:IT,isFileList:mT,forEach:oi,merge:zu,extend:ST,trim:ET,stripBOM:$T,inherits:CT,toFlatObject:NT,kindOf:rl,kindOfTest:hn,endsWith:TT,toArray:AT,forEachEntry:OT,matchAll:RT,isHTMLForm:MT,hasOwnProperty:rh,hasOwnProp:rh,reduceDescriptors:fy,freezeMethods:VT,toObjectSet:HT,toCamelCase:DT,noop:zT,toFiniteNumber:FT,findKey:cy,global:Ro,isContextDefined:dy,isSpecCompliantForm:LT,toJSONObject:BT,isAsyncFn:jT,isThenable:UT,setImmediate:hy,asap:qT,isIterable:WT};function je(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}te.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const py=je.prototype,gy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{gy[e]={value:e}});Object.defineProperties(je,gy);Object.defineProperty(py,"isAxiosError",{value:!0});je.from=(e,t,n,o,r,s)=>{const i=Object.create(py);te.toFlatObject(e,i,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return je.call(i,a,l,n,o,r),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const YT=null;function Fu(e){return te.isPlainObject(e)||te.isArray(e)}function my(e){return te.endsWith(e,"[]")?e.slice(0,-2):e}function sh(e,t,n){return e?e.concat(t).map(function(r,s){return r=my(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function GT(e){return te.isArray(e)&&!e.some(Fu)}const ZT=te.toFlatObject(te,{},null,function(t){return/^is[A-Z]/.test(t)});function il(e,t,n){if(!te.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!te.isUndefined(g[v])});const o=n.metaTokens,r=n.visitor||c,s=n.dots,i=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(t);if(!te.isFunction(r))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(te.isDate(p))return p.toISOString();if(te.isBoolean(p))return p.toString();if(!l&&te.isBlob(p))throw new je("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(p)||te.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,g){let y=p;if(p&&!g&&typeof p=="object"){if(te.endsWith(v,"{}"))v=o?v:v.slice(0,-2),p=JSON.stringify(p);else if(te.isArray(p)&&GT(p)||(te.isFileList(p)||te.endsWith(v,"[]"))&&(y=te.toArray(p)))return v=my(v),y.forEach(function(_,O){!(te.isUndefined(_)||_===null)&&t.append(i===!0?sh([v],O,s):i===null?v:v+"[]",u(_))}),!1}return Fu(p)?!0:(t.append(sh(g,v,s),u(p)),!1)}const d=[],h=Object.assign(ZT,{defaultVisitor:c,convertValue:u,isVisitable:Fu});function f(p,v){if(!te.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),te.forEach(p,function(y,k){(!(te.isUndefined(y)||y===null)&&r.call(t,y,te.isString(k)?k.trim():k,v,h))===!0&&f(y,v?v.concat(k):[k])}),d.pop()}}if(!te.isObject(e))throw new TypeError("data must be an object");return f(e),t}function ih(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Fc(e,t){this._pairs=[],e&&il(e,this,t)}const yy=Fc.prototype;yy.append=function(t,n){this._pairs.push([t,n])};yy.toString=function(t){const n=t?function(o){return t.call(this,o,ih)}:ih;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function KT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vy(e,t,n){if(!t)return e;const o=n&&n.encode||KT;te.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(t,n):s=te.isURLSearchParams(t)?t.toString():new Fc(t,n).toString(o),s){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class ah{constructor(){this.handlers=[]}use(t,n,o){return this.handlers.push({fulfilled:t,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){te.forEach(this.handlers,function(o){o!==null&&t(o)})}}const by={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XT=typeof URLSearchParams<"u"?URLSearchParams:Fc,JT=typeof FormData<"u"?FormData:null,QT=typeof Blob<"u"?Blob:null,eA={isBrowser:!0,classes:{URLSearchParams:XT,FormData:JT,Blob:QT},protocols:["http","https","file","blob","url","data"]},Lc=typeof window<"u"&&typeof document<"u",Lu=typeof navigator=="object"&&navigator||void 0,tA=Lc&&(!Lu||["ReactNative","NativeScript","NS"].indexOf(Lu.product)<0),nA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oA=Lc&&window.location.href||"http://localhost",rA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lc,hasStandardBrowserEnv:tA,hasStandardBrowserWebWorkerEnv:nA,navigator:Lu,origin:oA},Symbol.toStringTag,{value:"Module"})),Vt={...rA,...eA};function sA(e,t){return il(e,new Vt.classes.URLSearchParams,{visitor:function(n,o,r,s){return Vt.isNode&&te.isBuffer(n)?(this.append(o,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function iA(e){return te.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aA(e){const t={},n=Object.keys(e);let o;const r=n.length;let s;for(o=0;o<r;o++)s=n[o],t[s]=e[s];return t}function xy(e){function t(n,o,r,s){let i=n[s++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),l=s>=n.length;return i=!i&&te.isArray(r)?r.length:i,l?(te.hasOwnProp(r,i)?r[i]=[r[i],o]:r[i]=o,!a):((!r[i]||!te.isObject(r[i]))&&(r[i]=[]),t(n,o,r[i],s)&&te.isArray(r[i])&&(r[i]=aA(r[i])),!a)}if(te.isFormData(e)&&te.isFunction(e.entries)){const n={};return te.forEachEntry(e,(o,r)=>{t(iA(o),r,n,0)}),n}return null}function lA(e,t,n){if(te.isString(e))try{return(t||JSON.parse)(e),te.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(e)}const ri={transitional:by,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const o=n.getContentType()||"",r=o.indexOf("application/json")>-1,s=te.isObject(t);if(s&&te.isHTMLForm(t)&&(t=new FormData(t)),te.isFormData(t))return r?JSON.stringify(xy(t)):t;if(te.isArrayBuffer(t)||te.isBuffer(t)||te.isStream(t)||te.isFile(t)||te.isBlob(t)||te.isReadableStream(t))return t;if(te.isArrayBufferView(t))return t.buffer;if(te.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(o.indexOf("application/x-www-form-urlencoded")>-1)return sA(t,this.formSerializer).toString();if((a=te.isFileList(t))||o.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return il(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),lA(t)):t}],transformResponse:[function(t){const n=this.transitional||ri.transitional,o=n&&n.forcedJSONParsing,r=this.responseType==="json";if(te.isResponse(t)||te.isReadableStream(t))return t;if(t&&te.isString(t)&&(o&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?je.from(a,je.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vt.classes.FormData,Blob:Vt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],e=>{ri.headers[e]={}});const uA=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cA=e=>{const t={};let n,o,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),o=i.substring(r+1).trim(),!(!n||t[n]&&uA[n])&&(n==="set-cookie"?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)}),t},lh=Symbol("internals");function Yr(e){return e&&String(e).trim().toLowerCase()}function Fi(e){return e===!1||e==null?e:te.isArray(e)?e.map(Fi):String(e)}function dA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}const fA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Vl(e,t,n,o,r){if(te.isFunction(o))return o.call(this,t,n);if(r&&(t=n),!!te.isString(t)){if(te.isString(o))return t.indexOf(o)!==-1;if(te.isRegExp(o))return o.test(t)}}function hA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,o)=>n.toUpperCase()+o)}function pA(e,t){const n=te.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+n,{value:function(r,s,i){return this[o].call(this,t,r,s,i)},configurable:!0})})}let Gt=class{constructor(t){t&&this.set(t)}set(t,n,o){const r=this;function s(a,l,u){const c=Yr(l);if(!c)throw new Error("header name must be a non-empty string");const d=te.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=Fi(a))}const i=(a,l)=>te.forEach(a,(u,c)=>s(u,c,l));if(te.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(te.isString(t)&&(t=t.trim())&&!fA(t))i(cA(t),n);else if(te.isObject(t)&&te.isIterable(t)){let a={},l,u;for(const c of t){if(!te.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?te.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}i(a,n)}else t!=null&&s(n,t,o);return this}get(t,n){if(t=Yr(t),t){const o=te.findKey(this,t);if(o){const r=this[o];if(!n)return r;if(n===!0)return dA(r);if(te.isFunction(n))return n.call(this,r,o);if(te.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Yr(t),t){const o=te.findKey(this,t);return!!(o&&this[o]!==void 0&&(!n||Vl(this,this[o],o,n)))}return!1}delete(t,n){const o=this;let r=!1;function s(i){if(i=Yr(i),i){const a=te.findKey(o,i);a&&(!n||Vl(o,o[a],a,n))&&(delete o[a],r=!0)}}return te.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let o=n.length,r=!1;for(;o--;){const s=n[o];(!t||Vl(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,o={};return te.forEach(this,(r,s)=>{const i=te.findKey(o,s);if(i){n[i]=Fi(r),delete n[s];return}const a=t?hA(s):String(s).trim();a!==s&&delete n[s],n[a]=Fi(r),o[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return te.forEach(this,(o,r)=>{o!=null&&o!==!1&&(n[r]=t&&te.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const o=new this(t);return n.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[lh]=this[lh]={accessors:{}}).accessors,r=this.prototype;function s(i){const a=Yr(i);o[a]||(pA(r,i),o[a]=!0)}return te.isArray(t)?t.forEach(s):s(t),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(Gt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[n]=o}}});te.freezeMethods(Gt);function Hl(e,t){const n=this||ri,o=t||n,r=Gt.from(o.headers);let s=o.data;return te.forEach(e,function(a){s=a.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function _y(e){return!!(e&&e.__CANCEL__)}function zr(e,t,n){je.call(this,e??"canceled",je.ERR_CANCELED,t,n),this.name="CanceledError"}te.inherits(zr,je,{__CANCEL__:!0});function wy(e,t,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?e(n):t(new je("Request failed with status code "+n.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mA(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r=0,s=0,i;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=o[s];i||(i=u),n[r]=l,o[r]=u;let d=s,h=0;for(;d!==r;)h+=n[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),u-i<t)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function yA(e,t){let n=0,o=1e3/t,r,s;const i=(u,c=Date.now())=>{n=c,r=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=o?i(u,c):(r=u,s||(s=setTimeout(()=>{s=null,i(r)},o-d)))},()=>r&&i(r)]}const Ca=(e,t,n=3)=>{let o=0;const r=mA(50,250);return yA(s=>{const i=s.loaded,a=s.lengthComputable?s.total:void 0,l=i-o,u=r(l),c=i<=a;o=i;const d={loaded:i,total:a,progress:a?i/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-i)/u:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},uh=(e,t)=>{const n=e!=null;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},ch=e=>(...t)=>te.asap(()=>e(...t)),vA=Vt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vt.origin),Vt.navigator&&/(msie|trident)/i.test(Vt.navigator.userAgent)):()=>!0,bA=Vt.hasStandardBrowserEnv?{write(e,t,n,o,r,s){const i=[e+"="+encodeURIComponent(t)];te.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),te.isString(o)&&i.push("path="+o),te.isString(r)&&i.push("domain="+r),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _A(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ky(e,t,n){let o=!xA(t);return e&&(o||n==!1)?_A(e,t):t}const dh=e=>e instanceof Gt?{...e}:e;function Go(e,t){t=t||{};const n={};function o(u,c,d,h){return te.isPlainObject(u)&&te.isPlainObject(c)?te.merge.call({caseless:h},u,c):te.isPlainObject(c)?te.merge({},c):te.isArray(c)?c.slice():c}function r(u,c,d,h){if(te.isUndefined(c)){if(!te.isUndefined(u))return o(void 0,u,d,h)}else return o(u,c,d,h)}function s(u,c){if(!te.isUndefined(c))return o(void 0,c)}function i(u,c){if(te.isUndefined(c)){if(!te.isUndefined(u))return o(void 0,u)}else return o(void 0,c)}function a(u,c,d){if(d in t)return o(u,c);if(d in e)return o(void 0,u)}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(u,c,d)=>r(dh(u),dh(c),d,!0)};return te.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||r,h=d(e[c],t[c],c);te.isUndefined(h)&&d!==a||(n[c]=h)}),n}const Ey=e=>{const t=Go({},e);let{data:n,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:a}=t;if(t.headers=i=Gt.from(i),t.url=vy(ky(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),te.isFormData(n)){if(Vt.hasStandardBrowserEnv||Vt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(te.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&i.set(c,d)})}}if(Vt.hasStandardBrowserEnv&&(o&&te.isFunction(o)&&(o=o(t)),o||o!==!1&&vA(t.url))){const l=r&&s&&bA.read(s);l&&i.set(r,l)}return t},wA=typeof XMLHttpRequest<"u",kA=wA&&function(e){return new Promise(function(n,o){const r=Ey(e);let s=r.data;const i=Gt.from(r.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=r,c,d,h,f,p;function v(){f&&f(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function y(){if(!g)return;const _=Gt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),G={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:_,config:e,request:g};wy(function(L){n(L),v()},function(L){o(L),v()},G),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(o(new je("Request aborted",je.ECONNABORTED,e,g)),g=null)},g.onerror=function(O){const G=O&&O.message?O.message:"Network Error",q=new je(G,je.ERR_NETWORK,e,g);q.event=O||null,o(q),g=null},g.ontimeout=function(){let O=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const G=r.transitional||by;r.timeoutErrorMessage&&(O=r.timeoutErrorMessage),o(new je(O,G.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,e,g)),g=null},s===void 0&&i.setContentType(null),"setRequestHeader"in g&&te.forEach(i.toJSON(),function(O,G){g.setRequestHeader(G,O)}),te.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),a&&a!=="json"&&(g.responseType=r.responseType),u&&([h,p]=Ca(u,!0),g.addEventListener("progress",h)),l&&g.upload&&([d,f]=Ca(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",f)),(r.cancelToken||r.signal)&&(c=_=>{g&&(o(!_||_.type?new zr(null,e,g):_),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const k=gA(r.url);if(k&&Vt.protocols.indexOf(k)===-1){o(new je("Unsupported protocol "+k+":",je.ERR_BAD_REQUEST,e));return}g.send(s||null)})},EA=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let o=new AbortController,r;const s=function(u){if(!r){r=!0,a();const c=u instanceof Error?u:this.reason;o.abort(c instanceof je?c:new zr(c instanceof Error?c.message:c))}};let i=t&&setTimeout(()=>{i=null,s(new je(`timeout ${t} of ms exceeded`,je.ETIMEDOUT))},t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=o;return l.unsubscribe=()=>te.asap(a),l}},SA=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let o=0,r;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},$A=async function*(e,t){for await(const n of CA(e))yield*SA(n,t)},CA=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)break;yield o}}finally{await t.cancel()}},fh=(e,t,n,o)=>{const r=$A(e,t);let s=0,i,a=l=>{i||(i=!0,o&&o(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let h=s+=d;n(h)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),r.return()}},{highWaterMark:2})},hh=64*1024,{isFunction:Ei}=te,NA=(({Request:e,Response:t})=>({Request:e,Response:t}))(te.global),{ReadableStream:ph,TextEncoder:gh}=te.global,mh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},TA=e=>{e=te.merge.call({skipUndefined:!0},NA,e);const{fetch:t,Request:n,Response:o}=e,r=t?Ei(t):typeof fetch=="function",s=Ei(n),i=Ei(o);if(!r)return!1;const a=r&&Ei(ph),l=r&&(typeof gh=="function"?(p=>v=>p.encode(v))(new gh):async p=>new Uint8Array(await new n(p).arrayBuffer())),u=s&&a&&mh(()=>{let p=!1;const v=new n(Vt.origin,{body:new ph,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!v}),c=i&&a&&mh(()=>te.isReadableStream(new o("").body)),d={stream:c&&(p=>p.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(v,g)=>{let y=v&&v[p];if(y)return y.call(v);throw new je(`Response type '${p}' is not supported`,je.ERR_NOT_SUPPORT,g)})});const h=async p=>{if(p==null)return 0;if(te.isBlob(p))return p.size;if(te.isSpecCompliantForm(p))return(await new n(Vt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(te.isArrayBufferView(p)||te.isArrayBuffer(p))return p.byteLength;if(te.isURLSearchParams(p)&&(p=p+""),te.isString(p))return(await l(p)).byteLength},f=async(p,v)=>{const g=te.toFiniteNumber(p.getContentLength());return g??h(v)};return async p=>{let{url:v,method:g,data:y,signal:k,cancelToken:_,timeout:O,onDownloadProgress:G,onUploadProgress:q,responseType:L,headers:M,withCredentials:F="same-origin",fetchOptions:W}=Ey(p),z=t||fetch;L=L?(L+"").toLowerCase():"text";let N=EA([k,_&&_.toAbortSignal()],O),Y=null;const m=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let T;try{if(q&&u&&g!=="get"&&g!=="head"&&(T=await f(M,y))!==0){let oe=new n(v,{method:"POST",body:y,duplex:"half"}),fe;if(te.isFormData(y)&&(fe=oe.headers.get("content-type"))&&M.setContentType(fe),oe.body){const[X,le]=uh(T,Ca(ch(q)));y=fh(oe.body,hh,X,le)}}te.isString(F)||(F=F?"include":"omit");const S=s&&"credentials"in n.prototype,H={...W,signal:N,method:g.toUpperCase(),headers:M.normalize().toJSON(),body:y,duplex:"half",credentials:S?F:void 0};Y=s&&new n(v,H);let P=await(s?z(Y,W):z(v,H));const Q=c&&(L==="stream"||L==="response");if(c&&(G||Q&&m)){const oe={};["status","statusText","headers"].forEach(de=>{oe[de]=P[de]});const fe=te.toFiniteNumber(P.headers.get("content-length")),[X,le]=G&&uh(fe,Ca(ch(G),!0))||[];P=new o(fh(P.body,hh,X,()=>{le&&le(),m&&m()}),oe)}L=L||"text";let Z=await d[te.findKey(d,L)||"text"](P,p);return!Q&&m&&m(),await new Promise((oe,fe)=>{wy(oe,fe,{data:Z,headers:Gt.from(P.headers),status:P.status,statusText:P.statusText,config:p,request:Y})})}catch(S){throw m&&m(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,p,Y),{cause:S.cause||S}):je.from(S,S&&S.code,p,Y)}}},AA=new Map,Sy=e=>{let t=e?e.env:{};const{fetch:n,Request:o,Response:r}=t,s=[o,r,n];let i=s.length,a=i,l,u,c=AA;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:TA(t)),c=u;return u};Sy();const Bu={http:YT,xhr:kA,fetch:{get:Sy}};te.forEach(Bu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yh=e=>`- ${e}`,IA=e=>te.isFunction(e)||e===null||e===!1,$y={getAdapter:(e,t)=>{e=te.isArray(e)?e:[e];const{length:n}=e;let o,r;const s={};for(let i=0;i<n;i++){o=e[i];let a;if(r=o,!IA(o)&&(r=Bu[(a=String(o)).toLowerCase()],r===void 0))throw new je(`Unknown adapter '${a}'`);if(r&&(te.isFunction(r)||(r=r.get(t))))break;s[a||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(yh).join(`
`):" "+yh(i[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:Bu};function zl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zr(null,e)}function vh(e){return zl(e),e.headers=Gt.from(e.headers),e.data=Hl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$y.getAdapter(e.adapter||ri.adapter,e)(e).then(function(o){return zl(e),o.data=Hl.call(e,e.transformResponse,o),o.headers=Gt.from(o.headers),o},function(o){return _y(o)||(zl(e),o&&o.response&&(o.response.data=Hl.call(e,e.transformResponse,o.response),o.response.headers=Gt.from(o.response.headers))),Promise.reject(o)})}const Cy="1.12.2",al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{al[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const bh={};al.transitional=function(t,n,o){function r(s,i){return"[Axios v"+Cy+"] Transitional option '"+s+"'"+i+(o?". "+o:"")}return(s,i,a)=>{if(t===!1)throw new je(r(i," has been removed"+(n?" in "+n:"")),je.ERR_DEPRECATED);return n&&!bh[i]&&(bh[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,i,a):!0}};al.spelling=function(t){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function OA(e,t,n){if(typeof e!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const s=o[r],i=t[s];if(i){const a=e[s],l=a===void 0||i(a,s,e);if(l!==!0)throw new je("option "+s+" must be "+l,je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new je("Unknown option "+s,je.ERR_BAD_OPTION)}}const Li={assertOptions:OA,validators:al},gn=Li.validators;let Lo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ah,response:new ah}}async request(t,n){try{return await this._request(t,n)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?s&&!String(o.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+s):o.stack=s}catch{}}throw o}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Go(this.defaults,n);const{transitional:o,paramsSerializer:r,headers:s}=n;o!==void 0&&Li.assertOptions(o,{silentJSONParsing:gn.transitional(gn.boolean),forcedJSONParsing:gn.transitional(gn.boolean),clarifyTimeoutError:gn.transitional(gn.boolean)},!1),r!=null&&(te.isFunction(r)?n.paramsSerializer={serialize:r}:Li.assertOptions(r,{encode:gn.function,serialize:gn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Li.assertOptions(n,{baseUrl:gn.spelling("baseURL"),withXsrfToken:gn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=s&&te.merge(s.common,s[n.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Gt.concat(i,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,h;if(!l){const p=[vh.bind(this),void 0];for(p.unshift(...a),p.push(...u),h=p.length,c=Promise.resolve(n);d<h;)c=c.then(p[d++],p[d++]);return c}h=a.length;let f=n;for(;d<h;){const p=a[d++],v=a[d++];try{f=p(f)}catch(g){v.call(this,g);break}}try{c=vh.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Go(this.defaults,t);const n=ky(t.baseURL,t.url,t.allowAbsoluteUrls);return vy(n,t.params,t.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(t){Lo.prototype[t]=function(n,o){return this.request(Go(o||{},{method:t,url:n,data:(o||{}).data}))}});te.forEach(["post","put","patch"],function(t){function n(o){return function(s,i,a){return this.request(Go(a||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}Lo.prototype[t]=n(),Lo.prototype[t+"Form"]=n(!0)});let RA=class Ny{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const o=this;this.promise.then(r=>{if(!o._listeners)return;let s=o._listeners.length;for(;s-- >0;)o._listeners[s](r);o._listeners=null}),this.promise.then=r=>{let s;const i=new Promise(a=>{o.subscribe(a),s=a}).then(r);return i.cancel=function(){o.unsubscribe(s)},i},t(function(s,i,a){o.reason||(o.reason=new zr(s,i,a),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=o=>{t.abort(o)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ny(function(r){t=r}),cancel:t}}};function MA(e){return function(n){return e.apply(null,n)}}function DA(e){return te.isObject(e)&&e.isAxiosError===!0}const ju={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ju).forEach(([e,t])=>{ju[t]=e});function Ty(e){const t=new Lo(e),n=iy(Lo.prototype.request,t);return te.extend(n,Lo.prototype,t,{allOwnKeys:!0}),te.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Ty(Go(e,r))},n}const kt=Ty(ri);kt.Axios=Lo;kt.CanceledError=zr;kt.CancelToken=RA;kt.isCancel=_y;kt.VERSION=Cy;kt.toFormData=il;kt.AxiosError=je;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=MA;kt.isAxiosError=DA;kt.mergeConfig=Go;kt.AxiosHeaders=Gt;kt.formToJSON=e=>xy(te.isHTMLForm(e)?new FormData(e):e);kt.getAdapter=$y.getAdapter;kt.HttpStatusCode=ju;kt.default=kt;const{Axios:b5,AxiosError:x5,CanceledError:_5,isCancel:w5,CancelToken:k5,VERSION:E5,all:S5,Cancel:$5,isAxiosError:C5,spread:N5,toFormData:T5,AxiosHeaders:A5,HttpStatusCode:I5,formToJSON:O5,getAdapter:R5,mergeConfig:M5}=kt,Ay="http://localhost:3001/api",Uu="http://localhost:5173",go=kt.create({baseURL:Ay,timeout:3e4});go.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));go.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(["/auth/login","/auth/register","/auth/2fa/login","/auth/refresh"].some(s=>{var i;return(i=t.url)==null?void 0:i.includes(s)}))return Promise.reject(e);if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;const s=localStorage.getItem("refreshToken");if(s)try{const i=await kt.post(`${Ay}/auth/refresh`,{refreshToken:s}),{data:a}=i.data,{tokens:l}=a,{accessToken:u,refreshToken:c}=l;return localStorage.setItem("accessToken",u),localStorage.setItem("refreshToken",c),t.headers.Authorization=`Bearer ${u}`,go(t)}catch(i){return console.error("Token refresh failed, redirecting to login"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href=`${Uu}/login`,Promise.reject(i)}else console.warn("No refresh token available, redirecting to login"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href=`${Uu}/login`}return Promise.reject(e)});const Rt=mg("flow",()=>{const e=new l2(iT,Hi),t=new b2,n=new x2,o=he([]),r=he([]),s=he({}),i=he({}),a=he(null),l=he(!1),u=he({}),c=he(new Set),d=he(new Set),h=he(new Set),f=he({}),p=he(new Map),v=he(new Set);let g=null;const y=he(!1),k=he([]),_=he(-1),O=50,G=he(!1),q=he({token:null,flowId:null,flowDataId:null,baseUrl:"http://localhost:3001"}),L=he("offline"),M=he(null),F=he(!1),W=he(null),z=12e4,N=ne(()=>r.value.filter(j=>{var re;return j.edgeType==="flow"||((re=j.sourceHandle)==null?void 0:re.startsWith("exec-"))})),Y=ne(()=>r.value.filter(j=>{var re;return j.edgeType==="data"||!((re=j.sourceHandle)!=null&&re.startsWith("exec-"))})),m=ne(()=>({nodes:oT(),categories:ry()})),T=ne(()=>{var me,pe;const j=o.value.filter(_e=>_e.type==="input"),re=o.value.filter(_e=>_e.type==="output");return{hasInput:j.length>0,hasOutput:re.length>0,hasMultipleInputs:j.length>1,hasMultipleOutputs:re.length>1,isValid:j.length===1&&re.length===1,inputNodeId:((me=j[0])==null?void 0:me.id)||null,outputNodeId:((pe=re[0])==null?void 0:pe.id)||null}});e.onStateChange=j=>{u.value=j.executionResults,c.value=new Set(j.executingNodes),d.value=new Set(j.executedNodes),h.value=new Set(j.errorNodes)},ze(s,j=>{for(const re in j)e.setNodeData(re,j[re])},{deep:!0}),ze([q,i],()=>{e.setConfig(q.value,i.value)},{deep:!0});const S=he({});ze(i,j=>{const re=new Set;for(const me in j)j[me]!==S.value[me]&&re.add(me);S.value={...j},re.size>0&&o.value.forEach(me=>{if(me.type==="variable"){const pe=s.value[me.id];(pe==null?void 0:pe.mode)==="get"&&(pe!=null&&pe.variableName)&&re.has(pe.variableName)&&R(me.id)}})},{deep:!0}),ze(r,()=>{r.value.forEach(j=>{var re,me;if(!j.edgeType){const pe=((re=j.sourceHandle)==null?void 0:re.startsWith("exec-"))||((me=j.targetHandle)==null?void 0:me.startsWith("exec-"));j.edgeType=pe?"flow":"data"}})},{immediate:!0});const P=()=>{if(G.value)return;const j={nodes:JSON.parse(JSON.stringify(o.value)),edges:JSON.parse(JSON.stringify(r.value)),nodeData:JSON.parse(JSON.stringify(s.value))};_.value<k.value.length-1&&(k.value=k.value.slice(0,_.value+1)),k.value.push(j),_.value=k.value.length-1,k.value.length>O&&(k.value.shift(),_.value--)},Q=()=>{if(_.value<=0)return!1;G.value=!0,_.value--;const j=k.value[_.value];return o.value=JSON.parse(JSON.stringify(j.nodes)),r.value=JSON.parse(JSON.stringify(j.edges)),s.value=JSON.parse(JSON.stringify(j.nodeData)),G.value=!1,!0},Z=()=>{if(_.value>=k.value.length-1)return!1;G.value=!0,_.value++;const j=k.value[_.value];return o.value=JSON.parse(JSON.stringify(j.nodes)),r.value=JSON.parse(JSON.stringify(j.edges)),s.value=JSON.parse(JSON.stringify(j.nodeData)),G.value=!1,!0},oe=j=>{var pe;if(j.type==="input"&&T.value.hasInput)return console.warn(" Cannot add Input node: Flow already has an Input node"),!1;if(j.type==="output"&&T.value.hasOutput)return console.warn(" Cannot add Output node: Flow already has an Output node"),!1;o.value=[...o.value,j],s.value={...s.value,[j.id]:{}},P();const re=n.shouldAutoExecuteOnCreate(j.type),me=j.type==="variable"&&!((pe=j.data)!=null&&pe.variableName);return re&&!me&&setTimeout(()=>R(j.id),n.getDelay()),!0},fe=j=>{const re=o.value.find(_e=>_e.id===j);if(re&&(re.type==="input"||re.type==="output"))return console.warn(` Cannot remove ${re.type} node: It is required for the flow`),!1;o.value=o.value.filter(_e=>_e.id!==j);const{[j]:me,...pe}=s.value;s.value=pe,r.value=r.value.filter(_e=>_e.source!==j&&_e.target!==j),ve(j),P()},X=(j,re)=>{const me=o.value.findIndex(pe=>pe.id===j);me!==-1&&(o.value[me].position=re)},le=j=>{l.value=j},de=(j,re)=>{const me={...s.value[j],...re};s.value={...s.value,[j]:me},e.setNodeData(j,me);const pe=o.value.find(_e=>_e.id===j);pe&&n.shouldAutoExecuteOnConfigChange(pe.type)&&setTimeout(()=>R(j),n.getDelay())},ye=j=>{var pe,_e;const re=((pe=j.sourceHandle)==null?void 0:pe.startsWith("exec-"))||((_e=j.targetHandle)==null?void 0:_e.startsWith("exec-"));j.edgeType=re?"flow":"data",r.value=[...r.value,j],aT(j,o.value),P(),o.value.find(Ie=>Ie.id===j.target)&&j.edgeType==="data"&&u.value[j.source]!==void 0&&setTimeout(()=>R(j.target),n.getDelay())},K=j=>{r.value=r.value.filter(re=>re.id!==j),P()},ae=j=>{const re={},me=Y.value.filter(pe=>pe.target===j);for(const pe of me){const _e=u.value[pe.source];if(_e!==void 0){const Ie=typeof _e=="object"&&_e!==null&&pe.sourceHandle in _e?_e[pe.sourceHandle]:_e,we=pe.targetHandle||"data-input";re[we]=Ie}}return re},ie=(j,re)=>{const me=u.value[j];u.value={...u.value,[j]:re},e.executionResults.set(j,re),!y.value&&me!==re&&I(j)},ve=j=>{const{[j]:re,...me}=u.value;u.value=me,e.executionResults.delete(j)},Te=j=>{u.value={...u.value,...j},Object.entries(j).forEach(([re,me])=>{e.executionResults.set(re,me)})},A=()=>{u.value={},e.clearExecutionResults()},R=async j=>{const re=o.value.find(Ie=>Ie.id===j);if(!re)return;const me=ae(j),pe=Y.value.filter(Ie=>Ie.target===j),_e=pe.every(Ie=>u.value[Ie.source]!==void 0);if(!(pe.length>0&&!_e))try{const Ie=await e.executeNode(re,me),we={...re,data:s.value[j]},lt=Hi(we,Ie);if(ie(j,lt),lt&&typeof lt=="object"){for(const _t in lt)_t.startsWith("exec-")||t.detectType(j,_t,lt[_t]);f.value=t.exportDetectedTypes()}const xt=n.getExecutionPlan(j,o.value,r.value,"upstream-execution");for(const _t of xt)setTimeout(()=>R(_t),100);return lt}catch(Ie){throw Ie}},b=async()=>{const j=Date.now();let re="failed",me=0,pe=null;const _e=()=>{const we={};return o.value.filter(xt=>xt.type==="input").forEach(xt=>{((s.value[xt.id]||{}).parameters||[]).forEach(Eo=>{we[Eo.name]=Eo.value??Eo.defaultValue})}),we},Ie=we=>{const lt=o.value.filter(Ko=>Ko.type==="output");if(lt.length===0){console.warn(" No Output node found in flow");const Ko=Object.keys(we)[Object.keys(we).length-1];return we[Ko]}const xt=lt[0],_t=we[xt.id];if(!_t){const Ko=r.value.filter(Ut=>Ut.target===xt.id&&Ut.edgeType==="data"),Eo={};if(Ko.forEach(Ut=>{const Xo=we[Ut.source];if(Xo&&Ut.sourceHandle){const Gc=Xo[Ut.sourceHandle];if(Gc!==void 0){const sv=Ut.targetHandle||Ut.sourceHandle;Eo[sv]=Gc}}}),Object.keys(Eo).length>0)return Eo;const Yc=r.value.filter(Ut=>{var Xo;return Ut.target===xt.id&&(Ut.edgeType==="flow"||((Xo=Ut.sourceHandle)==null?void 0:Xo.startsWith("exec-")))});if(Yc.length>0){const Ut=Yc[0].source;return we[Ut]||null}return null}return _t&&_t["data-out"]?_t["data-out"]:_t||null};y.value=!0;try{await e.executeFlow(o.value,r.value);const we=e.getAllResults();me=Object.keys(we).length,u.value={...we},d.value=new Set(e.getAllExecutedNodes()),c.value=new Set(e.getAllExecutingNodes()),h.value=new Set(e.getAllErrorNodes()),i.value={...e.globalVariables},t.detectAllTypes(u.value),f.value=t.exportDetectedTypes(),pe=Ie(we),re="success"}catch(we){throw console.error("Flow execution error:",we),re="failed",we}finally{y.value=!1;const we=Date.now()-j;if(q.value.token&&q.value.flowId)try{const lt=_e();await w({flowId:q.value.flowId,status:re,executionTime:we,nodesExecuted:me,inputData:lt,outputData:pe,flowSnapshot:{totalNodes:o.value.length,nodes:o.value.map(xt=>{var _t;return{nodeId:xt.id,type:xt.type,name:((_t=s.value[xt.id])==null?void 0:_t.label)||xt.type}})}}),console.log(" Execution saved to history")}catch(lt){console.warn(" Failed to save execution to history:",lt)}}},w=async j=>{var re,me,pe;try{return(await go.post("/executions/save",j)).data}catch(_e){const Ie=((pe=(me=(re=_e.response)==null?void 0:re.data)==null?void 0:me.error)==null?void 0:pe.message)||_e.message||"Failed to save execution";throw new Error(Ie)}},C=async(j=null,re={},me={})=>{var _e,Ie;const pe=j||q.value.flowId;if(!pe)throw new Error("Flow ID no fornecido. Fornea flowId como parmetro ou configure apiConfig.flowId");try{const we=await go.post(`/flows/${pe}/execute`,{inputData:re,options:{saveResult:me.saveResult||!1,includeNodeResults:me.includeNodeResults||!1,timeout:me.timeout||6e4}});if(we.data.success)return we.data.data;throw new Error(we.data.message||"Erro desconhecido na execuo")}catch(we){console.error(" Erro ao executar flow no backend:",we);const lt=((Ie=(_e=we.response)==null?void 0:_e.data)==null?void 0:Ie.message)||we.message;throw new Error(lt)}},$=async(j,re=null)=>{await e.executeConnectedNodes(j,o.value,r.value,re),u.value=e.getAllResults()},U=async(j,re={})=>{try{const me=await e.executeNode(j,re);if(ie(j.id,me),me&&typeof me=="object")for(const pe in me)pe.startsWith("exec-")||t.detectType(j.id,pe,me[pe]);return me}catch(me){throw me}},ee=async j=>{const re=o.value.find(_e=>_e.id===j.target);if(!re)return;const me=ae(j.target);if(["add","subtract","multiply","divide","variable","field-extractor","connector","input","array-filter","array-aggregate","array-slice","array-sort","array-map","array-groupby","array-distinct","array-merge","array-create","object-merge","object-pick","object-keys-values","object-rename","object-set-property","object-to-array","object-transform","object-create","constant","compare","type-conversion","logic","string-ops","debug-viewer"].includes(re.type))try{const _e=await U(re,me),Ie={...re,data:s.value[re.id]},we=Hi(Ie,_e);ie(j.target,we);const lt=Y.value.filter(xt=>xt.source===j.target);for(const xt of lt)await ee(xt)}catch{}},E=()=>{A(),t.clearDetectedTypes(),c.value=new Set,d.value=new Set,h.value=new Set,p.value.clear(),v.value.clear(),g&&(clearTimeout(g),g=null)},I=async j=>{if(y.value)return;p.value.has(j)&&clearTimeout(p.value.get(j));const re=setTimeout(async()=>{const me=n.getExecutionPlan(j,o.value,r.value,"upstream-execution");for(const pe of me)await R(pe);p.value.delete(j)},n.getDelay());p.value.set(j,re)},D=j=>{v.value.add(j),g&&clearTimeout(g),g=setTimeout(async()=>{const re=Array.from(v.value);v.value.clear();for(const me of re)await R(me);g=null},300)},J=async()=>{const j=o.value.filter(re=>{const me=Y.value.some(_e=>_e.target===re.id),pe=n.shouldAutoExecuteOnCreate(re.type);return!me&&pe});for(const re of j)try{await R(re.id)}catch(me){console.error(`Error executing source node ${re.id}:`,me)}},se=()=>{const j=t.exportDetectedTypes(),re={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:j,timestamp:new Date().toISOString(),version:"2.0"},me=JSON.stringify(re,null,2),pe=new Blob([me],{type:"application/json"}),_e=URL.createObjectURL(pe),Ie=document.createElement("a");return Ie.href=_e,Ie.download=`flow-forge-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.json`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(_e),re},ue=j=>{try{if(!j.nodes||!j.edges)throw new Error("Invalid flow data format");y.value=!0,E(),o.value=[],r.value=[],s.value={},i.value={},s.value={...j.nodeData||{}},j.detectedTypes&&(t.loadDetectedTypes(j.detectedTypes),f.value=j.detectedTypes),setTimeout(()=>{o.value=j.nodes.map(re=>({...re})),r.value=j.edges.map(re=>({...re})),W.value={nodes:o.value.map(re=>({id:re.id,type:re.type,position:{x:re.position.x,y:re.position.y}})),edges:r.value.map(re=>({id:re.id,source:re.source,target:re.target,sourceHandle:re.sourceHandle,targetHandle:re.targetHandle})),nodeData:Sr(s.value)},setTimeout(async()=>{y.value=!1,await J()},200)},100)}catch(re){throw y.value=!1,re}},ke=async()=>{var j,re;if(q.value.flowDataId)try{L.value="syncing";const me={nodes:o.value,edges:r.value,nodeData:s.value,detectedTypes:t.exportDetectedTypes()};await go.put(`/flow-data/${q.value.flowDataId}`,{data:me}),L.value="synced",M.value=null,F.value=!1,W.value={nodes:o.value.map(pe=>({id:pe.id,type:pe.type,position:{x:pe.position.x,y:pe.position.y}})),edges:r.value.map(pe=>({id:pe.id,source:pe.source,target:pe.target,sourceHandle:pe.sourceHandle,targetHandle:pe.targetHandle})),nodeData:Sr(s.value)}}catch(me){L.value="error",M.value=((re=(j=me.response)==null?void 0:j.data)==null?void 0:re.message)||me.message}},Oe=async j=>{var re,me;try{const pe=await go.get(`/flow-data/${j}`);ue(pe.data.flowData),q.value.flowDataId=j,L.value="synced"}catch(pe){const _e=((me=(re=pe.response)==null?void 0:re.data)==null?void 0:me.message)||pe.message||"Load failed";throw new Error(_e)}},Re=async()=>{const j=await u2();a.value=j,e.setConfig(q.value,i.value)},De=()=>{const re=new URLSearchParams(window.location.search).get("flowId"),me=localStorage.getItem("accessToken"),pe=re;me&&pe?(q.value.token=me,q.value.flowId=pe,Ue()):L.value="offline"},Ue=async()=>{var j,re,me,pe;if(!q.value.token||!q.value.flowId)return L.value="offline",!1;L.value="syncing";try{const _e=await go.get(`/flow-data/by-flow/${q.value.flowId}`);if(_e.data.success&&_e.data.data){const Ie=_e.data;if(q.value.flowDataId=Ie.data._id,Ie.data.data&&Ie.data.data.nodes&&Ie.data.data.edges){const we={nodes:Ie.data.data.nodes,edges:Ie.data.data.edges,nodeData:Ie.data.data.nodeData||{},detectedTypes:Ie.data.data.detectedTypes||{},variables:Ie.data.data.variables||{}};ue(we),Ie.data.data.variables&&Object.assign(i.value,Ie.data.data.variables)}else E();return L.value="synced",et(),!0}else throw new Error("Invalid response format")}catch(_e){return((j=_e.response)==null?void 0:j.status)===401||((re=_e.response)==null?void 0:re.status)===403?(L.value="error",M.value="Authentication failed",!1):(L.value="error",M.value=((pe=(me=_e.response)==null?void 0:me.data)==null?void 0:pe.message)||_e.message,!1)}},et=()=>{setInterval(async()=>{F.value&&q.value.flowDataId&&L.value!=="syncing"&&(console.log(" Auto-save: salvando mudanas pendentes..."),await ke())},z);let j=null;ze([o,r,s],()=>{j&&clearTimeout(j),j=setTimeout(()=>{if(!y.value&&W.value!==null&&!F.value){const re=we=>{const lt={};return Object.keys(we).sort().forEach(xt=>{const _t=we[xt];_t!=null&&(typeof _t=="object"&&!Array.isArray(_t)?lt[xt]=re(_t):lt[xt]=_t)}),lt},me={nodes:o.value.map(we=>({id:we.id,type:we.type,x:Math.round(we.position.x),y:Math.round(we.position.y)})),edges:r.value.map(we=>({id:we.id,s:we.source,t:we.target,sh:we.sourceHandle,th:we.targetHandle})),nodeData:re(s.value)},pe={nodes:W.value.nodes.map(we=>({id:we.id,type:we.type,x:Math.round(we.position.x),y:Math.round(we.position.y)})),edges:W.value.edges.map(we=>({id:we.id,s:we.source,t:we.target,sh:we.sourceHandle,th:we.targetHandle})),nodeData:re(W.value.nodeData)},_e=JSON.stringify(me),Ie=JSON.stringify(pe);_e!==Ie&&(F.value=!0)}},300)},{deep:!0})};return{flowEngine:e,typeEngine:t,autoExecEngine:n,nodes:o,edges:r,nodeData:s,executionResults:u,executingNodes:c,executedNodes:d,errorNodes:h,savedDetectedTypes:f,globalVariables:i,dataTypes:a,isDragging:l,apiConfig:q,syncStatus:L,lastSyncError:M,hasUnsavedChanges:F,flowEdges:N,dataEdges:Y,nodeCatalog:m,flowValidation:T,addNode:oe,removeNode:fe,updateNodePosition:X,setDragging:le,updateNodeData:de,addEdge:ye,removeEdge:K,executeNode:U,executeNodeById:R,executeFlow:b,executeFlowOnBackend:C,saveExecutionToHistory:w,executeConnectedNodes:$,propagateDataToTarget:ee,clearExecutionResults:E,getNodeDataInputs:ae,setExecutionResult:ie,removeExecutionResult:ve,updateExecutionResults:Te,clearAllExecutionResults:A,propagateToDownstream:I,scheduleExecution:D,executeSourceNodes:J,isLoadingFlow:y,saveFlow:se,loadFlow:ue,syncToAPI:ke,loadFromAPI:Oe,undo:Q,redo:Z,saveSnapshot:P,initialize:Re,initializeFromUrl:De,fetchFlowData:Ue}});function PA(){const e=he(!1),t=he({x:0,y:0}),n=he({x:0,y:0}),o=(i,a)=>{t.value={x:i,y:a},n.value={x:i,y:a},e.value=!0};return{showContextMenu:e,contextMenuPosition:t,lastRightClickPosition:n,openContextMenu:o,closeContextMenu:()=>{e.value=!1},handleContextMenu:i=>{i.preventDefault(),o(i.clientX,i.clientY)}}}const VA="/editor/favicon.svg",sn=he(!1),HA=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,zA=()=>{const e=localStorage.getItem("flow-forge-theme");e?sn.value=e==="dark":sn.value=HA(),Iy()},Iy=()=>{const e=document.documentElement;sn.value?e.classList.add("dark"):e.classList.remove("dark")};ze(sn,()=>{localStorage.setItem("flow-forge-theme",sn.value?"dark":"light"),Iy()});window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{localStorage.getItem("flow-forge-theme")||(sn.value=e.matches)});const Oy=()=>{const e=()=>{sn.value=!sn.value},t=o=>{sn.value=o==="dark"},n=ne(()=>sn.value?"dark":"light");return{isDark:sn,theme:n,toggleTheme:e,setTheme:t,initTheme:zA}},Ry=/^[a-z0-9]+(-[a-z0-9]+)*$/,ll=(e,t,n,o="")=>{const r=e.split(":");if(e.slice(0,1)==="@"){if(r.length<2||r.length>3)return null;o=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const a=r.pop(),l=r.pop(),u={provider:r.length>0?r[0]:o,prefix:l,name:a};return t&&!Bi(u)?null:u}const s=r[0],i=s.split("-");if(i.length>1){const a={provider:o,prefix:i.shift(),name:i.join("-")};return t&&!Bi(a)?null:a}if(n&&o===""){const a={provider:o,prefix:"",name:s};return t&&!Bi(a,n)?null:a}return null},Bi=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,My=Object.freeze({left:0,top:0,width:16,height:16}),Na=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),ul=Object.freeze({...My,...Na}),qu=Object.freeze({...ul,body:"",hidden:!1});function FA(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const o=((e.rotate||0)+(t.rotate||0))%4;return o&&(n.rotate=o),n}function xh(e,t){const n=FA(e,t);for(const o in qu)o in Na?o in e&&!(o in n)&&(n[o]=Na[o]):o in t?n[o]=t[o]:o in e&&(n[o]=e[o]);return n}function LA(e,t){const n=e.icons,o=e.aliases||Object.create(null),r=Object.create(null);function s(i){if(n[i])return r[i]=[];if(!(i in r)){r[i]=null;const a=o[i]&&o[i].parent,l=a&&s(a);l&&(r[i]=[a].concat(l))}return r[i]}return Object.keys(n).concat(Object.keys(o)).forEach(s),r}function BA(e,t,n){const o=e.icons,r=e.aliases||Object.create(null);let s={};function i(a){s=xh(o[a]||r[a],s)}return i(t),n.forEach(i),xh(e,s)}function Dy(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(r=>{t(r,null),n.push(r)});const o=LA(e);for(const r in o){const s=o[r];s&&(t(r,BA(e,r,s)),n.push(r))}return n}const jA={provider:"",aliases:{},not_found:{},...My};function Fl(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Py(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!Fl(e,jA))return null;const n=t.icons;for(const r in n){const s=n[r];if(!r||typeof s.body!="string"||!Fl(s,qu))return null}const o=t.aliases||Object.create(null);for(const r in o){const s=o[r],i=s.parent;if(!r||typeof i!="string"||!n[i]&&!o[i]||!Fl(s,qu))return null}return t}const _h=Object.create(null);function UA(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Or(e,t){const n=_h[e]||(_h[e]=Object.create(null));return n[t]||(n[t]=UA(e,t))}function Vy(e,t){return Py(t)?Dy(t,(n,o)=>{o?e.icons[n]=o:e.missing.add(n)}):[]}function qA(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let js=!1;function Hy(e){return typeof e=="boolean"&&(js=e),js}function WA(e){const t=typeof e=="string"?ll(e,!0,js):e;if(t){const n=Or(t.provider,t.prefix),o=t.name;return n.icons[o]||(n.missing.has(o)?null:void 0)}}function YA(e,t){const n=ll(e,!0,js);if(!n)return!1;const o=Or(n.provider,n.prefix);return t?qA(o,n.name,t):(o.missing.add(n.name),!0)}function GA(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),js&&!t&&!e.prefix){let r=!1;return Py(e)&&(e.prefix="",Dy(e,(s,i)=>{YA(s,i)&&(r=!0)})),r}const n=e.prefix;if(!Bi({prefix:n,name:"a"}))return!1;const o=Or(t,n);return!!Vy(o,e)}const zy=Object.freeze({width:null,height:null}),Fy=Object.freeze({...zy,...Na}),ZA=/(-?[0-9.]*[0-9]+[0-9.]*)/g,KA=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function wh(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const o=e.split(ZA);if(o===null||!o.length)return e;const r=[];let s=o.shift(),i=KA.test(s);for(;;){if(i){const a=parseFloat(s);isNaN(a)?r.push(s):r.push(Math.ceil(a*t*n)/n)}else r.push(s);if(s=o.shift(),s===void 0)return r.join("");i=!i}}function XA(e,t="defs"){let n="";const o=e.indexOf("<"+t);for(;o>=0;){const r=e.indexOf(">",o),s=e.indexOf("</"+t);if(r===-1||s===-1)break;const i=e.indexOf(">",s);if(i===-1)break;n+=e.slice(r+1,s).trim(),e=e.slice(0,o).trim()+e.slice(i+1)}return{defs:n,content:e}}function JA(e,t){return e?"<defs>"+e+"</defs>"+t:t}function QA(e,t,n){const o=XA(e);return JA(o.defs,t+o.content+n)}const eI=e=>e==="unset"||e==="undefined"||e==="none";function tI(e,t){const n={...ul,...e},o={...Fy,...t},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,o].forEach(v=>{const g=[],y=v.hFlip,k=v.vFlip;let _=v.rotate;y?k?_+=2:(g.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),g.push("scale(-1 1)"),r.top=r.left=0):k&&(g.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),g.push("scale(1 -1)"),r.top=r.left=0);let O;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:O=r.height/2+r.top,g.unshift("rotate(90 "+O.toString()+" "+O.toString()+")");break;case 2:g.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:O=r.width/2+r.left,g.unshift("rotate(-90 "+O.toString()+" "+O.toString()+")");break}_%2===1&&(r.left!==r.top&&(O=r.left,r.left=r.top,r.top=O),r.width!==r.height&&(O=r.width,r.width=r.height,r.height=O)),g.length&&(s=QA(s,'<g transform="'+g.join(" ")+'">',"</g>"))});const i=o.width,a=o.height,l=r.width,u=r.height;let c,d;i===null?(d=a===null?"1em":a==="auto"?u:a,c=wh(d,l/u)):(c=i==="auto"?l:i,d=a===null?wh(c,u/l):a==="auto"?u:a);const h={},f=(v,g)=>{eI(g)||(h[v]=g.toString())};f("width",c),f("height",d);const p=[r.left,r.top,l,u];return h.viewBox=p.join(" "),{attributes:h,viewBox:p,body:s}}const nI=/\sid="(\S+)"/g,oI="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let rI=0;function sI(e,t=oI){const n=[];let o;for(;o=nI.exec(e);)n.push(o[1]);if(!n.length)return e;const r="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const i=typeof t=="function"?t(s):t+(rI++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+i+r+"$3")}),e=e.replace(new RegExp(r,"g"),""),e}const Wu=Object.create(null);function iI(e,t){Wu[e]=t}function Yu(e){return Wu[e]||Wu[""]}function Bc(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const jc=Object.create(null),Gr=["https://api.simplesvg.com","https://api.unisvg.com"],ji=[];for(;Gr.length>0;)Gr.length===1||Math.random()>.5?ji.push(Gr.shift()):ji.push(Gr.pop());jc[""]=Bc({resources:["https://api.iconify.design"].concat(ji)});function aI(e,t){const n=Bc(t);return n===null?!1:(jc[e]=n,!0)}function Uc(e){return jc[e]}const lI=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let kh=lI();function uI(e,t){const n=Uc(e);if(!n)return 0;let o;if(!n.maxURL)o=0;else{let r=0;n.resources.forEach(i=>{r=Math.max(r,i.length)});const s=t+".json?icons=";o=n.maxURL-r-n.path.length-s.length}return o}function cI(e){return e===404}const dI=(e,t,n)=>{const o=[],r=uI(e,t),s="icons";let i={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=r&&u>0&&(o.push(i),i={type:s,provider:e,prefix:t,icons:[]},a=l.length),i.icons.push(l)}),o.push(i),o};function fI(e){if(typeof e=="string"){const t=Uc(e);if(t)return t.path}return"/"}const hI=(e,t,n)=>{if(!kh){n("abort",424);return}let o=fI(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});o+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;o+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let r=503;kh(e+o).then(s=>{const i=s.status;if(i!==200){setTimeout(()=>{n(cI(i)?"abort":"next",i)});return}return r=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",r)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",r)})},pI={prepare:dI,send:hI};function gI(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((r,s)=>r.provider!==s.provider?r.provider.localeCompare(s.provider):r.prefix!==s.prefix?r.prefix.localeCompare(s.prefix):r.name.localeCompare(s.name));let o={provider:"",prefix:"",name:""};return e.forEach(r=>{if(o.name===r.name&&o.prefix===r.prefix&&o.provider===r.provider)return;o=r;const s=r.provider,i=r.prefix,a=r.name,l=n[s]||(n[s]=Object.create(null)),u=l[i]||(l[i]=Or(s,i));let c;a in u.icons?c=t.loaded:i===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:i,name:a};c.push(d)}),t}function Ly(e,t){e.forEach(n=>{const o=n.loaderCallbacks;o&&(n.loaderCallbacks=o.filter(r=>r.id!==t))})}function mI(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const o=e.provider,r=e.prefix;t.forEach(s=>{const i=s.icons,a=i.pending.length;i.pending=i.pending.filter(l=>{if(l.prefix!==r)return!0;const u=l.name;if(e.icons[u])i.loaded.push({provider:o,prefix:r,name:u});else if(e.missing.has(u))i.missing.push({provider:o,prefix:r,name:u});else return n=!0,!0;return!1}),i.pending.length!==a&&(n||Ly([e],s.id),s.callback(i.loaded.slice(0),i.missing.slice(0),i.pending.slice(0),s.abort))})}))}let yI=0;function vI(e,t,n){const o=yI++,r=Ly.bind(null,n,o);if(!t.pending.length)return r;const s={id:o,icons:t,callback:e,abort:r};return n.forEach(i=>{(i.loaderCallbacks||(i.loaderCallbacks=[])).push(s)}),r}function bI(e,t=!0,n=!1){const o=[];return e.forEach(r=>{const s=typeof r=="string"?ll(r,t,n):r;s&&o.push(s)}),o}var xI={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function _I(e,t,n,o){const r=e.resources.length,s=e.random?Math.floor(Math.random()*r):e.index;let i;if(e.random){let q=e.resources.slice(0);for(i=[];q.length>1;){const L=Math.floor(Math.random()*q.length);i.push(q[L]),q=q.slice(0,L).concat(q.slice(L+1))}i=i.concat(q)}else i=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,h=[],f=[];typeof o=="function"&&f.push(o);function p(){d&&(clearTimeout(d),d=null)}function v(){l==="pending"&&(l="aborted"),p(),h.forEach(q=>{q.status==="pending"&&(q.status="aborted")}),h=[]}function g(q,L){L&&(f=[]),typeof q=="function"&&f.push(q)}function y(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:h.length,subscribe:g,abort:v}}function k(){l="failed",f.forEach(q=>{q(void 0,c)})}function _(){h.forEach(q=>{q.status==="pending"&&(q.status="aborted")}),h=[]}function O(q,L,M){const F=L!=="success";switch(h=h.filter(W=>W!==q),l){case"pending":break;case"failed":if(F||!e.dataAfterTimeout)return;break;default:return}if(L==="abort"){c=M,k();return}if(F){c=M,h.length||(i.length?G():k());return}if(p(),_(),!e.random){const W=e.resources.indexOf(q.resource);W!==-1&&W!==e.index&&(e.index=W)}l="completed",f.forEach(W=>{W(M)})}function G(){if(l!=="pending")return;p();const q=i.shift();if(q===void 0){if(h.length){d=setTimeout(()=>{p(),l==="pending"&&(_(),k())},e.timeout);return}k();return}const L={status:"pending",resource:q,callback:(M,F)=>{O(L,M,F)}};h.push(L),u++,d=setTimeout(G,e.rotate),n(q,t,L.callback)}return setTimeout(G),y}function By(e){const t={...xI,...e};let n=[];function o(){n=n.filter(a=>a().status==="pending")}function r(a,l,u){const c=_I(t,a,l,(d,h)=>{o(),u&&u(d,h)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:r,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:o}}function Eh(){}const Ll=Object.create(null);function wI(e){if(!Ll[e]){const t=Uc(e);if(!t)return;const n=By(t),o={config:t,redundancy:n};Ll[e]=o}return Ll[e]}function kI(e,t,n){let o,r;if(typeof e=="string"){const s=Yu(e);if(!s)return n(void 0,424),Eh;r=s.send;const i=wI(e);i&&(o=i.redundancy)}else{const s=Bc(e);if(s){o=By(s);const i=e.resources?e.resources[0]:"",a=Yu(i);a&&(r=a.send)}}return!o||!r?(n(void 0,424),Eh):o.query(t,r,n)().abort}function Sh(){}function EI(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,mI(e)}))}function SI(e){const t=[],n=[];return e.forEach(o=>{(o.match(Ry)?t:n).push(o)}),{valid:t,invalid:n}}function Zr(e,t,n){function o(){const r=e.pendingIcons;t.forEach(s=>{r&&r.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!Vy(e,n).length){o();return}}catch(r){console.error(r)}o(),EI(e)}function $h(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function $I(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:o}=e,r=e.iconsToLoad;if(delete e.iconsToLoad,!r||!r.length)return;const s=e.loadIcon;if(e.loadIcons&&(r.length>1||!s)){$h(e.loadIcons(r,o,n),c=>{Zr(e,r,c)});return}if(s){r.forEach(c=>{const d=s(c,o,n);$h(d,h=>{const f=h?{prefix:o,icons:{[c]:h}}:null;Zr(e,[c],f)})});return}const{valid:i,invalid:a}=SI(r);if(a.length&&Zr(e,a,null),!i.length)return;const l=o.match(Ry)?Yu(n):null;if(!l){Zr(e,i,null);return}l.prepare(n,o,i).forEach(c=>{kI(n,c,d=>{Zr(e,c.icons,d)})})}))}const CI=(e,t)=>{const n=bI(e,!0,Hy()),o=gI(n);if(!o.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(o.loaded,o.missing,o.pending,Sh)}),()=>{l=!1}}const r=Object.create(null),s=[];let i,a;return o.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===i)return;i=u,a=c,s.push(Or(u,c));const d=r[u]||(r[u]=Object.create(null));d[c]||(d[c]=[])}),o.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,h=Or(u,c),f=h.pendingIcons||(h.pendingIcons=new Set);f.has(d)||(f.add(d),r[u][c].push(d))}),s.forEach(l=>{const u=r[l.provider][l.prefix];u.length&&$I(l,u)}),t?vI(t,o,s):Sh};function NI(e,t){const n={...e};for(const o in t){const r=t[o],s=typeof r;o in zy?(r===null||r&&(s==="string"||s==="number"))&&(n[o]=r):s===typeof n[o]&&(n[o]=o==="rotate"?r%4:r)}return n}const TI=/[\s,]+/;function AI(e,t){t.split(TI).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function II(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function o(r){for(;r<0;)r+=4;return r%4}if(n===""){const r=parseInt(e);return isNaN(r)?0:o(r)}else if(n!==e){let r=0;switch(n){case"%":r=25;break;case"deg":r=90}if(r){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/r,s%1===0?o(s):0)}}return t}function OI(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const o in t)n+=" "+o+'="'+t[o]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function RI(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function MI(e){return"data:image/svg+xml,"+RI(e)}function DI(e){return'url("'+MI(e)+'")'}const Ch={...Fy,inline:!1},PI={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},VI={display:"inline-block"},Gu={backgroundColor:"currentColor"},jy={backgroundColor:"transparent"},Nh={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Th={webkitMask:Gu,mask:Gu,background:jy};for(const e in Th){const t=Th[e];for(const n in Nh)t[e+n]=Nh[n]}const Ui={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";Ui[e+"-flip"]=t,Ui[e.slice(0,1)+"-flip"]=t,Ui[e+"Flip"]=t});function Ah(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Ih=(e,t)=>{const n=NI(Ch,t),o={...PI},r=t.mode||"svg",s={},i=t.style,a=typeof i=="object"&&!(i instanceof Array)?i:{};for(let v in t){const g=t[v];if(g!==void 0)switch(v){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[v]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&AI(n,g);break;case"color":s.color=g;break;case"rotate":typeof g=="string"?n[v]=II(g):typeof g=="number"&&(n[v]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete o["aria-hidden"];break;default:{const y=Ui[v];y?(g===!0||g==="true"||g===1)&&(n[y]=!0):Ch[v]===void 0&&(o[v]=g)}}}const l=tI(e,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),r==="svg"){o.style={...s,...a},Object.assign(o,u);let v=0,g=t.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),o.innerHTML=sI(l.body,g?()=>g+"ID"+v++:"iconifyVue"),Qe("svg",o)}const{body:c,width:d,height:h}=e,f=r==="mask"||(r==="bg"?!1:c.indexOf("currentColor")!==-1),p=OI(c,{...u,width:d+"",height:h+""});return o.style={...s,"--svg":DI(p),width:Ah(u.width),height:Ah(u.height),...VI,...f?Gu:jy,...a},Qe("span",o)};Hy(!0);iI("",pI);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(o=>{try{(typeof o!="object"||o===null||o instanceof Array||typeof o.icons!="object"||typeof o.prefix!="string"||!GA(o))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const o="IconifyProviders["+n+"] is invalid.";try{const r=t[n];if(typeof r!="object"||!r||r.resources===void 0)continue;aI(n,r)||console.error(o)}catch{console.error(o)}}}}const HI={...ul,body:""},zI=at((e,{emit:t})=>{const n=he(null);function o(){var u,c;n.value&&((c=(u=n.value).abort)==null||c.call(u),n.value=null)}const r=he(!!e.ssr),s=he(""),i=pr(null);function a(){const u=e.icon;if(typeof u=="object"&&u!==null&&typeof u.body=="string")return s.value="",{data:u};let c;if(typeof u!="string"||(c=ll(u,!1,!0))===null)return null;let d=WA(c);if(!d){const p=n.value;return(!p||p.name!==u)&&(d===null?n.value={name:u}:n.value={name:u,abort:CI([c],l)}),null}o(),s.value!==u&&(s.value=u,Bt(()=>{t("load",u)}));const h=e.customise;if(h){d=Object.assign({},d);const p=h(d.body,c.name,c.prefix,c.provider);typeof p=="string"&&(d.body=p)}const f=["iconify"];return c.prefix!==""&&f.push("iconify--"+c.prefix),c.provider!==""&&f.push("iconify--"+c.provider),{data:d,classes:f}}function l(){var c;const u=a();u?u.data!==((c=i.value)==null?void 0:c.data)&&(i.value=u):i.value=null}return r.value?l():Et(()=>{r.value=!0,l()}),ze(()=>e.icon,l),Vr(o),()=>{const u=i.value;if(!u)return Ih(HI,e);let c=e;return u.classes&&(c={...e,class:u.classes.join(" ")}),Ih({...ul,...u.data},c)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),At=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},FI={__name:"Icon",props:{icon:{type:String,required:!0},size:{type:[String,Number],default:16},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},color:{type:String,default:null},className:{type:String,default:""}},setup(e){return(t,n)=>(V(),pt(ge(zI),{icon:e.icon,width:e.width||e.size,height:e.height||e.size,class:nt(["flow-icon",e.className]),style:gt({color:e.color})},null,8,["icon","width","height","class","style"]))}},Je=At(FI,[["__scopeId","data-v-4b4f777d"]]),LI={class:"h-14 glass-header backdrop-blur-xl bg-white/30 dark:bg-gray-900/30 shadow-sm border-b border-white/20 dark:border-gray-700/20 flex items-center justify-between px-4 relative z-[100]"},BI={class:"flex items-center gap-2 flex-1 justify-center"},jI={class:"flex items-center gap-1"},UI={class:"flex items-center gap-1"},qI=["disabled"],WI=["disabled"],YI={class:"flex items-center gap-2"},GI=["disabled","title"],ZI=["title"],KI={key:0,class:"flex items-center gap-1.5 px-3 py-1 bg-white/40 dark:bg-gray-800/40 rounded-2xl border border-gray-300 dark:border-gray-700"},XI={class:"text-xs text-gray-700 dark:text-gray-300 font-medium tracking-wide"},JI=["title"],QI={__name:"TopToolbar",props:{canUndo:{type:Boolean,default:!1},canRedo:{type:Boolean,default:!1},executionStatus:{type:String,default:null},hasUnsavedChanges:{type:Boolean,default:!1}},emits:["execute","undo","redo","save"],setup(e,{emit:t}){const n=e,o=t,r=Rt(),{isDark:s,toggleTheme:i}=Oy(),a=ne(()=>{switch(n.executionStatus){case"running":return"Executando...";case"success":return"Executado";case"error":return"Erro";default:return""}}),l=ne(()=>r.syncStatus),u=ne(()=>{if(n.hasUnsavedChanges&&l.value!=="syncing")return"material-symbols:cloud-upload";switch(l.value){case"synced":return"material-symbols:cloud-done";case"syncing":return"material-symbols:sync";case"error":return"material-symbols:cloud-off";case"offline":return"material-symbols:wifi-off";default:return"material-symbols:cloud"}}),c=ne(()=>{if(n.hasUnsavedChanges&&l.value!=="syncing")return"No Salvo";switch(l.value){case"synced":return"Salvo";case"syncing":return"Salvando...";case"error":return"Erro";case"offline":return"Offline";default:return""}}),d=ne(()=>{if(n.hasUnsavedChanges&&l.value!=="syncing")return"Voc tem alteraes no salvas (salvamento automtico em at 2 minutos)";switch(l.value){case"synced":return"Todas as alteraes salvas na nuvem";case"syncing":return"Salvando alteraes...";case"error":return"Falha ao salvar alteraes";case"offline":return"Sem conexo com o servidor";default:return""}}),h=()=>{o("execute")},f=ne(()=>l.value==="syncing"?"Salvando...":n.hasUnsavedChanges?"Salvar":"Salvo"),p=ne(()=>l.value==="syncing"?"Salvando alteraes na nuvem...":n.hasUnsavedChanges?"Salvar alteraes na nuvem (Ctrl+S)":"Sem alteraes no salvas"),v=()=>{n.hasUnsavedChanges&&l.value!=="syncing"&&o("save")};return(g,y)=>(V(),B("div",LI,[y[6]||(y[6]=x("div",{class:"flex items-center gap-2"},[x("div",{class:"flex items-center gap-3 px-2"},[x("img",{src:VA,alt:"Lynt Flow",class:"w-8 h-8 object-contain"}),x("span",{class:"text-xl font-light text-gray-800 dark:text-gray-200 tracking-wide"},"Lynt Flow")])],-1)),x("div",BI,[x("div",jI,[x("button",{onClick:h,class:"inline-flex items-center gap-1.5 px-4 py-2 bg-brand-purple border border-brand-purple rounded-lg text-white text-sm font-semibold cursor-pointer transition-all duration-200 hover:brightness-110 hover:shadow-lg hover:scale-105 active:scale-95 tracking-wide"},[ce(Je,{icon:"material-symbols:play-arrow",size:16}),y[3]||(y[3]=ut(" Executar ",-1))])]),y[4]||(y[4]=x("div",{class:"w-px h-6 bg-gray-300 dark:bg-gray-700 mx-3 opacity-50"},null,-1)),x("div",UI,[x("button",{onClick:y[0]||(y[0]=k=>g.$emit("undo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-white/40 dark:bg-gray-800/40 border border-gray-300 dark:border-gray-700 rounded-md text-gray-700 dark:text-gray-300 text-sm font-medium cursor-pointer transition-all hover:bg-white/60 dark:hover:bg-gray-800/60 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",title:"Desfazer (Ctrl+Z)",disabled:!e.canUndo},[ce(Je,{icon:"material-symbols:undo",size:16})],8,qI),x("button",{onClick:y[1]||(y[1]=k=>g.$emit("redo")),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-white/40 dark:bg-gray-800/40 border border-gray-300 dark:border-gray-700 rounded-md text-gray-700 dark:text-gray-300 text-sm font-medium cursor-pointer transition-all hover:bg-white/60 dark:hover:bg-gray-800/60 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refazer (Ctrl+Y)",disabled:!e.canRedo},[ce(Je,{icon:"material-symbols:redo",size:16})],8,WI)])]),x("div",YI,[x("button",{onClick:v,disabled:!e.hasUnsavedChanges||l.value==="syncing",class:nt(["inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-all tracking-wide",{"bg-brand-purple border border-brand-purple text-white hover:brightness-110 hover:shadow-lg cursor-pointer":e.hasUnsavedChanges&&l.value!=="syncing","bg-white/40 dark:bg-gray-800/40 border border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-500 cursor-not-allowed opacity-50":!e.hasUnsavedChanges||l.value==="syncing"}]),title:p.value},[ce(Je,{icon:l.value==="syncing"?"material-symbols:sync":"material-symbols:save",size:16,class:nt({"animate-spin":l.value==="syncing"})},null,8,["icon","class"]),ut(" "+xe(f.value),1)],10,GI),y[5]||(y[5]=x("div",{class:"w-px h-6 bg-gray-300 dark:bg-gray-700 mx-2 opacity-50"},null,-1)),x("div",{class:nt(["flex items-center gap-1.5 px-2.5 py-1 rounded-lg",{"bg-brand-orange/10 dark:bg-brand-orange/20 border border-brand-orange/30":e.hasUnsavedChanges&&l.value!=="syncing","bg-brand-green/10 dark:bg-brand-green/20 border border-brand-green/30":!e.hasUnsavedChanges&&l.value==="synced","bg-brand-purple/10 dark:bg-brand-purple/20 border border-brand-purple/30":l.value==="syncing","bg-brand-red/10 dark:bg-brand-red/20 border border-brand-red/30":l.value==="error","bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700":l.value==="offline"}]),title:d.value},[ce(Je,{icon:u.value,size:14,class:nt({"text-brand-orange":e.hasUnsavedChanges&&l.value!=="syncing","text-brand-green":!e.hasUnsavedChanges&&l.value==="synced","text-brand-purple animate-spin":l.value==="syncing","text-brand-red":l.value==="error","text-gray-600 dark:text-gray-400":l.value==="offline"})},null,8,["icon","class"]),x("span",{class:nt(["text-xs font-medium tracking-wide",{"text-brand-orange":e.hasUnsavedChanges&&l.value!=="syncing","text-brand-green":!e.hasUnsavedChanges&&l.value==="synced","text-brand-purple":l.value==="syncing","text-brand-red":l.value==="error","text-gray-700 dark:text-gray-300":l.value==="offline"}])},xe(c.value),3)],10,ZI),e.executionStatus?(V(),B("div",KI,[x("div",{class:nt(["w-2 h-2 rounded-full",{"bg-gray-400":!e.executionStatus,"bg-brand-orange animate-pulse":e.executionStatus==="running","bg-brand-green":e.executionStatus==="success","bg-brand-red":e.executionStatus==="error"}])},null,2),x("span",XI,xe(a.value),1)])):Ee("",!0),x("button",{onClick:y[2]||(y[2]=(...k)=>ge(i)&&ge(i)(...k)),class:"inline-flex items-center gap-1.5 px-2 py-1.5 bg-white/40 dark:bg-gray-800/40 border border-gray-300 dark:border-gray-700 rounded-md text-gray-700 dark:text-gray-300 text-sm font-medium cursor-pointer transition-all hover:bg-white/60 dark:hover:bg-gray-800/60 hover:brightness-110",title:`Mudar para modo ${ge(s)?"claro":"escuro"}`},[ce(Je,{icon:ge(s)?"material-symbols:light-mode":"material-symbols:dark-mode",size:16},null,8,["icon"])],8,JI)])]))}},eO=At(QI,[["__scopeId","data-v-6fcd405c"]]),tO={class:"glass-sidebar fixed top-20 bottom-4 left-4 w-64 backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow-lg z-30 transition-transform duration-300 ease-in-out -translate-x-full lg:translate-x-0 flex flex-col overflow-hidden"},nO={class:"p-4 border-b border-white/20 dark:border-gray-700/20"},oO={class:"flex-1 overflow-y-auto px-4 pb-4 space-y-1"},rO=["onClick"],sO={class:"flex-1 text-sm font-medium"},iO={class:"text-xs text-brand-purple bg-brand-purple/10 border border-brand-purple/30 px-2 py-0.5 rounded-full font-medium"},aO={class:"ml-6 mt-2 space-y-1 pb-2"},lO=["draggable","onDragstart","onClick"],uO={class:"flex-1 text-left truncate"},cO={__name:"NodeSidebar",setup(e){const t=Rt(),{addNodes:n,project:o}=ft(),r=he(""),s=he({}),i=he([]);Et(()=>{a()});function a(){try{const p=ry();i.value=p.map(v=>{const y=rT(v.id).map(k=>({type:k.type,name:k.label,icon:k.icon,description:k.description,color:k.color}));return s.value[v.label]=!1,{name:v.label,icon:v.icon,id:v.id,nodes:y}})}catch{i.value=[]}}const l=ne(()=>r.value?i.value.map(p=>({...p,nodes:p.nodes.filter(v=>v.name.toLowerCase().includes(r.value.toLowerCase())||v.description.toLowerCase().includes(r.value.toLowerCase()))})).filter(p=>p.nodes.length>0):i.value),u=p=>{s.value[p]===void 0?s.value[p]=!0:s.value[p]=!s.value[p]},c=p=>!!(p==="input"&&t.flowValidation.hasInput||p==="output"&&t.flowValidation.hasOutput),d=(p,v)=>{if(v.type==="input"&&t.flowValidation.hasInput){p.preventDefault(),console.warn(" Cannot add Input node: Flow already has an Input node");return}if(v.type==="output"&&t.flowValidation.hasOutput){p.preventDefault(),console.warn(" Cannot add Output node: Flow already has an Output node");return}p.dataTransfer.effectAllowed="move",p.dataTransfer.setData("application/vueflow",JSON.stringify(v))},h=p=>{if(p.type==="input"&&t.flowValidation.hasInput){console.warn(" Cannot add Input node: Flow already has an Input node");return}if(p.type==="output"&&t.flowValidation.hasOutput){console.warn(" Cannot add Output node: Flow already has an Output node");return}const{x:v,y:g}=o({x:window.innerWidth/2,y:window.innerHeight/2}),y=f(p.type,{x:v,y:g});n([y])},f=(p,v)=>{const g={id:`${p}_${Date.now()}`,type:p,position:v,data:{}};switch(p){case"input":g.data={label:"API Input",parameters:[]};break;case"connector":g.data={label:"Data Connector",sourceType:"analytics",analyticsType:"sales",selectedApi:"custom",apiUrl:"",dataPath:"",mockData:Math.floor(Math.random()*100)};break;case"field-extractor":g.data={label:"Field Extractor",selectedFields:[]};break;case"array-processor":g.data={label:"Array Processor",operation:"extract",fieldPath:"",filterValue:""};break;case"add":case"subtract":case"multiply":case"divide":g.data={label:p.charAt(0).toUpperCase()+p.slice(1),operation:p};break;case"output":g.data={label:"My Output",outputFields:[]};break;case"variable":g.data={label:"Variable",mode:"set",variableName:"myVariable"};break;default:g.data={label:p.charAt(0).toUpperCase()+p.slice(1)}}return g};return(p,v)=>(V(),B("div",tO,[x("div",nO,[Be(x("input",{"onUpdate:modelValue":v[0]||(v[0]=g=>r.value=g),type:"text",placeholder:"Buscar nodes...",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg text-sm bg-white/80 dark:bg-gray-900/80 text-gray-900 dark:text-gray-100 transition-all duration-200 focus:outline-none focus:border-brand-purple focus:ring-2 focus:ring-brand-purple/20 placeholder-gray-500 dark:placeholder-gray-400 tracking-wide"},null,512),[[yt,r.value]])]),x("div",oO,[(V(!0),B(Pe,null,ct(l.value,g=>(V(),B("div",{key:g.name,class:"space-y-1"},[x("div",{class:nt(["group flex items-center w-full px-3 py-2.5 cursor-pointer transition-all select-none rounded mb-1",s.value[g.name]?"bg-brand-purple/10 dark:bg-gray-800 text-brand-purple border-r-2 border-brand-purple":"text-gray-700 bg-[#f7f7f7] hover:bg-white/40 hover:brightness-95"]),onClick:y=>u(g.name)},[ce(Je,{icon:s.value[g.name]?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-right",size:16,class:nt(["mr-2 transition-transform duration-200",s.value[g.name]?"text-brand-purple":"text-gray-500"])},null,8,["icon","class"]),ce(Je,{icon:g.icon,size:16,class:nt(["w-5 h-5 mr-3 flex-shrink-0 transition-colors",s.value[g.name]?"text-brand-purple":"text-gray-500"])},null,8,["icon","class"]),x("span",sO,xe(g.name),1),x("span",iO,xe(g.nodes.length),1)],10,rO),Be(x("div",aO,[(V(!0),B(Pe,null,ct(g.nodes,y=>(V(),B("div",{key:y.type},[x("button",{class:nt(["group flex items-center w-full px-3 py-2 text-sm font-normal rounded-md transition-all bg-white/50 dark:bg-gray-800/50 border border-gray-200/60 dark:border-gray-600/40",c(y.type)?"opacity-50 cursor-not-allowed text-gray-500":"text-gray-800 dark:text-gray-200 hover:bg-white/80 dark:hover:bg-gray-800/80 hover:border-brand-purple/40 hover:shadow-sm"]),draggable:!c(y.type),onDragstart:k=>d(k,y),onClick:k=>h(y)},[ce(Je,{icon:y.icon,class:nt(["w-5 h-5 mr-3 flex-shrink-0 transition-colors",c(y.type)?"text-gray-400":"text-gray-600 dark:text-gray-400"])},null,8,["icon","class"]),x("span",uO,xe(y.name),1)],42,lO)]))),128))],512),[[nb,s.value[g.name]]])]))),128))])]))}},dO=At(cO,[["__scopeId","data-v-f7479117"]]),Uy=mg("connection",()=>{const e=he([]),t=he(!1),n=he(null),o=ne(()=>e.value.filter(p=>p.serviceType==="analytics")),r=ne(()=>e.value.filter(p=>p.serviceType==="sheets")),s=ne(()=>o.value.length>0),i=ne(()=>r.value.length>0);return{connections:e,loading:t,error:n,getAnalyticsConnections:o,getSheetsConnections:r,hasAnalyticsConnection:s,hasSheetsConnection:i,getConnectionById:f=>e.value.find(p=>p.id===f),getConnectionsByType:f=>e.value.filter(p=>p.serviceType===f),fetchConnections:async f=>{var p;t.value=!0,n.value=null;try{const v=(f==null?void 0:f.baseUrl)||"http://localhost:3001",g=f==null?void 0:f.token;if(!g){e.value=[];return}const y=await fetch(`${v}/api/oauth/connections`,{method:"GET",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to fetch connections: ${y.status}`);const k=await y.json();let _=((p=k.data)==null?void 0:p.connections)||k.connections||[];const O=[],G=new Set;for(const q of _){const L=q.id||q._id||q.connectionId;if(!L){O.push(q);continue}G.has(L)||(G.add(L),O.push(q))}e.value=O}catch(v){n.value=v.message,e.value=[]}finally{t.value=!1}},connectGoogle:async(f,p)=>{var v;t.value=!0,n.value=null;try{const g=(p==null?void 0:p.baseUrl)||"http://localhost:3001",y=p==null?void 0:p.token;if(!y)throw localStorage.getItem("LyntFlow_token")?new Error(" Token no foi passado corretamente. Verifique que flowStore.apiConfig.token est configurado."):new Error(" Token de autenticao no encontrado. Acesse a aplicao com ?accessToken=SEU_TOKEN&flowId=SEU_FLOW_ID");const _={analytics:"analytics",sheets:"sheets"}[f];if(!_)throw new Error(`Tipo de servio desconhecido: ${f}`);const O=`${g}/api/oauth/google/authorize?scopes=${_}&purpose=connection&serviceType=${f}`,G=await fetch(O,{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(!G.ok){let M=`Erro HTTP ${G.status}`;try{const F=await G.json();M=F.message||F.error||M}catch{}throw G.status===404?new Error(" Rota OAuth no encontrada no backend. Verifique se o backend est atualizado e rodando."):G.status===401?new Error(" Token invlido ou expirado. Configure o token no flowStore."):new Error(` Falha ao iniciar OAuth: ${M}`)}const q=await G.json(),L=((v=q.data)==null?void 0:v.authUrl)||q.authUrl;if(!L)throw new Error(" Backend no retornou URL de autorizao. Verifique se a rota /api/oauth/google/authorize est implementada no backend.");window.location.href=L}catch(g){throw n.value=g.message,t.value=!1,g}},revokeConnection:async(f,p)=>{t.value=!0,n.value=null;try{const v=(p==null?void 0:p.baseUrl)||"http://localhost:3001",g=p==null?void 0:p.token;if(!g)throw new Error("Authentication token required");const y=await fetch(`${v}/api/oauth/connections/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!y.ok)throw new Error(`Failed to revoke connection: ${y.status}`);const k=await y.json();if(k.success)e.value=e.value.filter(_=>_.id!==f);else throw new Error(k.error||"Failed to revoke connection")}catch(v){throw n.value=v.message,v}finally{t.value=!1}},handleOAuthCallback:f=>{const p=f.get("success")==="true",v=f.get("serviceType"),g=f.get("email"),y=f.get("error");return p&&v&&g?{success:!0,message:`Google ${v==="analytics"?"Analytics":"Sheets"} conectado com sucesso!`,serviceType:v,email:g}:y?{success:!1,message:`Erro ao conectar: ${y}`}:{success:!1,message:"Erro desconhecido ao conectar"}}}}),fO={class:"connection-select space-y-2"},hO={key:0},pO=["value"],gO=["value"],mO={key:1,class:"text-center py-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-dashed border-gray-300 dark:border-gray-600"},yO={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},vO=["disabled"],bO={class:"mr-2"},xO=["disabled"],_O={__name:"ConnectionSelect",props:{serviceType:{type:String,required:!0,validator:e=>["analytics","sheets"].includes(e)},modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,r=Uy(),s=Rt(),i=he(!1),a=he(!1),l=ne(()=>n.serviceType==="analytics"?r.getAnalyticsConnections:r.getSheetsConnections),u=ne(()=>n.serviceType==="analytics"?"Google Analytics":"Google Sheets"),c=f=>{o("update:modelValue",f.target.value)},d=async()=>{i.value=!0;try{await r.connectGoogle(n.serviceType,s.apiConfig)}catch(f){alert(`Erro ao conectar: ${f.message}`)}finally{i.value=!1}},h=async()=>{a.value=!0;try{await r.fetchConnections(s.apiConfig)}catch{}finally{a.value=!1}};return Et(async()=>{r.connections.length===0&&await r.fetchConnections(s.apiConfig)}),(f,p)=>(V(),B("div",fO,[l.value.length>0?(V(),B("div",hO,[x("select",{value:e.modelValue,onChange:c,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[p[0]||(p[0]=x("option",{value:""},"Selecione uma conexo...",-1)),(V(!0),B(Pe,null,ct(l.value,v=>{var g;return V(),B("option",{key:v.id,value:v.id},xe(v.email||v.accountEmail||v.name||`Conexo ${(g=v.id)==null?void 0:g.substring(0,8)}`),9,gO)}),128))],40,pO)])):(V(),B("div",mO,[x("p",yO," Nenhuma conexo "+xe(u.value)+" disponvel ",1)])),x("button",{onClick:d,disabled:i.value,type:"button",class:"w-full px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/30 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"},[x("span",bO,xe(l.value.length>0?"":""),1),ut(" "+xe(i.value?"Conectando...":`${l.value.length>0?"Adicionar":"Conectar"} ${u.value}`),1)],8,vO),l.value.length>0?(V(),B("button",{key:2,onClick:h,disabled:a.value,type:"button",class:"w-full px-2 py-1.5 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"},xe(a.value?"Atualizando...":" Atualizar lista"),9,xO)):Ee("",!0)]))}},qy=At(_O,[["__scopeId","data-v-6542a43e"]]),wO={class:"generic-properties space-y-4"},kO={key:0,class:"mb-4"},EO=["disabled"],SO={key:0,class:"mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md border border-gray-200 dark:border-gray-700"},$O={class:"text-xs text-gray-600 dark:text-gray-400 overflow-auto max-h-32"},CO={key:0,class:"space-y-1"},NO={class:"flex items-center justify-between"},TO={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},AO={key:0,class:"text-red-500"},IO={key:0,class:"flex items-center gap-1"},OO=["checked","onChange"],RO=["onUpdate:modelValue","placeholder","disabled"],MO={key:1,class:"space-y-1"},DO={class:"flex items-center justify-between"},PO={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},VO={key:0,class:"text-red-500"},HO={key:0,class:"flex items-center gap-1"},zO=["checked","onChange"],FO=["onUpdate:modelValue","placeholder","disabled"],LO={key:2,class:"space-y-1"},BO={class:"flex items-center justify-between"},jO={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},UO={key:0,class:"text-red-500"},qO={key:0,class:"flex items-center gap-1"},WO=["checked","onChange"],YO=["onUpdate:modelValue","disabled"],GO=["value"],ZO={key:3,class:"space-y-1"},KO={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},XO={key:0,class:"text-red-500"},JO={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},QO={key:4,class:"space-y-1"},e3={class:"flex items-center justify-between"},t3={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},n3={key:0,class:"text-red-500"},o3={key:0,class:"flex items-center gap-1"},r3=["checked","onChange"],s3=["onUpdate:modelValue","placeholder","disabled"],i3={key:5,class:"space-y-1"},a3={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},l3={key:0,class:"text-red-500"},u3={class:"flex items-center gap-2"},c3=["onUpdate:modelValue"],d3=["onUpdate:modelValue","placeholder"],f3={key:6,class:"space-y-1"},h3={class:"flex items-center justify-between"},p3={class:"flex items-center space-x-2"},g3=["onUpdate:modelValue","disabled"],m3={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},y3={key:0,class:"flex items-center gap-1"},v3=["checked","onChange"],b3={key:7,class:"space-y-1"},x3={class:"flex items-center justify-between"},_3={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},w3={key:0,class:"text-red-500"},k3={key:0,class:"flex items-center gap-1"},E3=["checked","onChange"],S3=["onUpdate:modelValue","placeholder","disabled"],$3={key:8,class:"space-y-1"},C3={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},N3={key:0,class:"text-red-500"},T3={class:"flex gap-2"},A3=["onUpdate:modelValue"],I3=["value"],O3=["onUpdate:modelValue","placeholder"],R3={key:9,class:"space-y-2"},M3={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},D3={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},P3={key:1,class:"space-y-2 mb-3"},V3={class:"flex items-center justify-between"},H3={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},z3=["onClick"],F3=["onUpdate:modelValue"],L3=["onUpdate:modelValue"],B3=["onUpdate:modelValue"],j3=["onUpdate:modelValue","step"],U3={key:2,class:"flex items-center gap-2 px-2 py-1"},q3=["onUpdate:modelValue"],W3={class:"text-xs text-gray-600 dark:text-gray-400"},Y3={key:3,class:"space-y-2"},G3=["onUpdate:modelValue"],Z3=["onUpdate:modelValue"],K3=["onUpdate:modelValue","placeholder"],X3={class:"flex items-center gap-2"},J3=["onUpdate:modelValue"],Q3=["onClick"],eR={key:10,class:"space-y-1"},tR={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},nR={key:0,class:"text-red-500"},oR={key:11,class:"space-y-2"},rR={class:"block text-xs font-medium text-gray-700 dark:text-gray-300"},sR={key:0,class:"text-red-500"},iR={key:0,class:"text-xs text-gray-500 dark:text-gray-400 italic mb-2"},aR={key:1,class:"space-y-1 mb-2"},lR={class:"text-xs font-medium text-gray-600 dark:text-gray-400"},uR={class:"flex flex-wrap gap-1"},cR=["onClick","title"],dR=["title"],fR=["onClick"],hR={class:"space-y-1"},pR={key:0,class:"max-h-40 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded p-2 space-y-1"},gR=["onClick","disabled"],mR={key:1,class:"text-xs text-gray-500 dark:text-gray-400 italic p-2 border border-dashed border-gray-300 dark:border-gray-600 rounded"},yR={key:1,class:"text-center py-8"},vR={__name:"GenericProperties",props:{nodeId:{type:String,required:!0},localData:{type:Object,default:()=>({})}},emits:["update-node-data"],setup(e,{emit:t}){const n=e,o=t,r=Rt(),s=he({...n.localData}),i=he(!1),a=he(null),l=ne(()=>{const z=r.nodes.find(m=>m.id===n.nodeId);return!z||z.type!=="variable"?[]:r.nodes.filter(m=>{var T;return m.type==="variable"&&m.id!==n.nodeId&&((T=r.nodeData[m.id])==null?void 0:T.mode)==="set"}).map(m=>{var T;return(T=r.nodeData[m.id])==null?void 0:T.variableName}).filter(m=>m&&m.trim()!=="").filter((m,T,S)=>S.indexOf(m)===T).sort()}),u=ne(()=>{if(!r.nodes.find(S=>S.id===n.nodeId))return[];const N=r.edges.filter(S=>S.target===n.nodeId&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(N.length===0)return[];const Y=N[0],m=r.executionResults[Y.source];if(!m)return[];const T=typeof m=="object"&&m!==null&&Y.sourceHandle in m?m[Y.sourceHandle]:m;return c(T)}),c=(z,N="")=>{const Y=[];if(!z||typeof z!="object")return Y;if(Array.isArray(z))return z.length>0?c(z[0],N):Y;for(const m in z){const T=N?`${N}.${m}`:m;if(Y.push(T),z[m]&&typeof z[m]=="object"&&!Array.isArray(z[m])){const S=c(z[m],T);Y.push(...S)}}return Y},d=ne(()=>{const z=r.nodes.find(N=>N.id===n.nodeId);return z?Yo(z.type):null}),h=ne(()=>{var z;return((z=d.value)==null?void 0:z.config)||{}}),f=(z,N)=>{if(!z.condition)return!0;for(const[Y,m]of Object.entries(z.condition)){const T=s.value[Y];if(Array.isArray(m)){if(!m.includes(T))return!1}else if(T!==m)return!1}return!0},p=ne(()=>{const z={};for(const[N,Y]of Object.entries(h.value))f(Y)&&(z[N]=Y);return z});ze(()=>n.localData,z=>{s.value={...z}},{deep:!0,immediate:!0}),Et(()=>{const z=h.value;for(const N in z)s.value[N]===void 0&&z[N].default!==void 0&&(s.value[N]=z[N].default);y()});const v=async()=>{var z,N;i.value=!0,a.value=null;try{const Y=r.nodes.find(oe=>oe.id===n.nodeId);if(!Y)throw new Error("Node not found");const m={...s.value},T={apiConfig:{baseUrl:((z=r.apiConfig)==null?void 0:z.baseUrl)||"http://localhost:3001",token:((N=r.apiConfig)==null?void 0:N.token)||""}},S=r.getNodeDataInputs(n.nodeId);r.updateNodeData(n.nodeId,m);const H={...Y,data:m},P=await r.executeNode(H,S);a.value=P;const Q=Hi(H,P);r.setExecutionResult(n.nodeId,Q);const Z=r.edges.filter(oe=>{var fe;return oe.source===n.nodeId&&(oe.edgeType==="data"||!((fe=oe.sourceHandle)!=null&&fe.startsWith("exec-")))});for(const oe of Z)await r.propagateDataToTarget(oe)}catch(Y){a.value={error:Y.message}}finally{i.value=!1}},g=z=>z?z.error?`Error: ${z.error}`:JSON.stringify(z,null,2):"",y=()=>{const z=h.value;for(const[N,Y]of Object.entries(z))Y.mapTo&&s.value[N]!==void 0&&(s.value[Y.mapTo]=s.value[N]);r.updateNodeData(n.nodeId,s.value),o("update-node-data")},k=(z,N)=>{var T;const Y=h.value[z];(Y==null?void 0:Y.singleSelect)===!0?s.value[z]=[N]:(s.value[z]||(s.value[z]=[]),s.value[z].includes(N)||s.value[z].push(N)),((T=d.value)==null?void 0:T.type)==="field-extractor"&&_(N),y()},_=z=>{if(!r.nodes.find(P=>P.id===n.nodeId))return;const Y=r.edges.filter(P=>P.target===n.nodeId&&P.targetHandle==="data-input"&&P.edgeType!=="flow");if(Y.length===0)return;const m=Y[0],T=r.executionResults[m.source];if(!T)return;const S=$2(T,z),H=xa(S);s.value.fieldTypes||(s.value.fieldTypes={}),s.value.fieldTypes[z]=H,y()},O=(z,N)=>{if(s.value[z]){const Y=s.value[z][N];s.value[z].splice(N,1),s.value.fieldOutputsEnabled&&Y&&delete s.value.fieldOutputsEnabled[Y],s.value.fieldTypes&&Y&&delete s.value.fieldTypes[Y],y()}},G=z=>{s.value[z]||(s.value[z]=[]),s.value[z].push({name:`param${s.value[z].length+1}`,type:"any",required:!1,defaultValue:null,dateFormat:"DD/MM/YYYY"}),y()},q=(z,N)=>{s.value[z]&&(s.value[z].splice(N,1),y())},L=z=>{s.value.fieldOutputsEnabled||(s.value.fieldOutputsEnabled={});const N=s.value.fieldOutputsEnabled[z];s.value.fieldOutputsEnabled[z]=N===!1,y()},M=z=>s.value.fieldOutputsEnabled?s.value.fieldOutputsEnabled[z]!==!1:!0,F=z=>{var N;return((N=s.value.exposedFields)==null?void 0:N[z])!==void 0},W=(z,N)=>{s.value.exposedFields||(s.value.exposedFields={}),s.value.exposedFields[z]?delete s.value.exposedFields[z]:s.value.exposedFields[z]={label:N.label,type:N.type||"any",required:N.required||!1},y()};return(z,N)=>{var Y;return V(),B("div",wO,[(Y=d.value)!=null&&Y.executable?(V(),B("div",kO,[x("button",{onClick:v,disabled:i.value,class:"w-full px-4 py-2.5 flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white text-sm font-medium rounded-md cursor-pointer transition-colors disabled:cursor-not-allowed"},[ce(Je,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:play-arrow",size:16},null,8,["icon"]),ut(" "+xe(i.value?"Executing...":"Execute Node"),1)],8,EO),a.value?(V(),B("div",SO,[N[0]||(N[0]=x("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Result:",-1)),x("pre",$O,xe(g(a.value)),1)])):Ee("",!0)])):Ee("",!0),(V(!0),B(Pe,null,ct(p.value,(m,T)=>{var S,H,P,Q,Z,oe,fe;return V(),B("div",{key:T,class:"form-group"},[m.type==="string"?(V(),B("div",CO,[x("div",NO,[x("label",TO,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",AO,"*")):Ee("",!0)]),((S=d.value)==null?void 0:S.type)!=="input"?(V(),B("div",IO,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,OO),N[1]||(N[1]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)]),Be(x("input",{type:"text","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"",disabled:F(T),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,RO),[[yt,s.value[T]]])])):m.type==="textarea"?(V(),B("div",MO,[x("div",DO,[x("label",PO,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",VO,"*")):Ee("",!0)]),((H=d.value)==null?void 0:H.type)!=="input"?(V(),B("div",HO,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,zO),N[2]||(N[2]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)]),Be(x("textarea",{"onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"",disabled:F(T),rows:"4",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,FO),[[yt,s.value[T]]])])):m.type==="select"?(V(),B("div",LO,[x("div",BO,[x("label",jO,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",UO,"*")):Ee("",!0)]),((P=d.value)==null?void 0:P.type)!=="input"?(V(),B("div",qO,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,WO),N[3]||(N[3]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)]),Be(x("select",{"onUpdate:modelValue":X=>s.value[T]=X,onChange:y,disabled:F(T),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[(V(!0),B(Pe,null,ct(m.options,X=>(V(),B("option",{key:X.value,value:X.value},xe(X.label),9,GO))),128))],40,YO),[[tn,s.value[T]]])])):m.type==="connection-select"?(V(),B("div",ZO,[x("label",KO,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",XO,"*")):Ee("",!0)]),m.description?(V(),B("p",JO,xe(m.description),1)):Ee("",!0),ce(qy,{"service-type":m.serviceType,modelValue:s.value[T],"onUpdate:modelValue":[X=>s.value[T]=X,y]},null,8,["service-type","modelValue","onUpdate:modelValue"])])):m.type==="number"?(V(),B("div",QO,[x("div",e3,[x("label",t3,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",n3,"*")):Ee("",!0)]),((Q=d.value)==null?void 0:Q.type)!=="input"?(V(),B("div",o3,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,r3),N[4]||(N[4]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)]),Be(x("input",{type:"number","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"",disabled:F(T),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,s3),[[yt,s.value[T],void 0,{number:!0}]])])):m.type==="color"?(V(),B("div",i3,[x("label",a3,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",l3,"*")):Ee("",!0)]),x("div",u3,[Be(x("input",{type:"color","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,class:"w-12 h-10 border border-gray-300 dark:border-gray-600 rounded cursor-pointer"},null,40,c3),[[yt,s.value[T]]]),Be(x("input",{type:"text","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"#000000",class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono"},null,40,d3),[[yt,s.value[T]]])])])):m.type==="boolean"?(V(),B("div",f3,[x("div",h3,[x("div",p3,[Be(x("input",{type:"checkbox","onUpdate:modelValue":X=>s.value[T]=X,onChange:y,disabled:F(T),class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,g3),[[ps,s.value[T]]]),x("label",m3,xe(m.label),1)]),((Z=d.value)==null?void 0:Z.type)!=="input"?(V(),B("div",y3,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,v3),N[5]||(N[5]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)])])):m.type==="date"?(V(),B("div",b3,[x("div",x3,[x("label",_3,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",w3,"*")):Ee("",!0)]),((oe=d.value)==null?void 0:oe.type)!=="input"?(V(),B("div",k3,[x("input",{type:"checkbox",checked:F(T),onChange:X=>W(T,m),class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500",title:"Expor como input"},null,40,E3),N[6]||(N[6]=x("span",{class:"text-[10px] text-gray-500 dark:text-gray-400"},"Expor",-1))])):Ee("",!0)]),Be(x("input",{type:"date","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"",disabled:F(T),class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},null,40,S3),[[yt,s.value[T]]])])):m.type==="variableSelector"?(V(),B("div",$3,[x("label",C3,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",N3,"*")):Ee("",!0)]),x("div",T3,[Be(x("select",{"onUpdate:modelValue":X=>s.value[T]=X,onChange:y,class:"flex-1 px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[N[7]||(N[7]=x("option",{value:""},"-- Select or type below --",-1)),(V(!0),B(Pe,null,ct(l.value,X=>(V(),B("option",{key:X,value:X},xe(X),9,I3))),128))],40,A3),[[tn,s.value[T]]])]),m.allowCustom?Be((V(),B("input",{key:0,type:"text","onUpdate:modelValue":X=>s.value[T]=X,onInput:y,placeholder:m.placeholder||"Or type custom name",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,O3)),[[yt,s.value[T]]]):Ee("",!0)])):m.type==="array"&&T==="parameters"&&((fe=d.value)==null?void 0:fe.type)==="input"?(V(),B("div",R3,[x("label",M3,xe(m.label),1),m.description?(V(),B("div",D3,xe(m.description),1)):Ee("",!0),s.value[T]&&s.value[T].length>0?(V(),B("div",P3,[(V(!0),B(Pe,null,ct(s.value[T],(X,le)=>(V(),B("div",{key:le,class:"p-3 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md space-y-2"},[x("div",V3,[x("span",H3,"Parameter "+xe(le+1),1),x("button",{onClick:de=>q(T,le),class:"text-red-500 hover:text-red-700 dark:hover:text-red-400",title:"Remove parameter"},[ce(Je,{icon:"material-symbols:delete",size:16})],8,z3)]),Be(x("input",{type:"text","onUpdate:modelValue":de=>X.name=de,onInput:y,placeholder:"Parameter name",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,F3),[[yt,X.name]]),Be(x("select",{"onUpdate:modelValue":de=>X.type=de,onChange:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},[...N[8]||(N[8]=[yr('<option value="any" data-v-f90b4082>Any</option><option value="string" data-v-f90b4082>String</option><option value="number" data-v-f90b4082>Number</option><option value="integer" data-v-f90b4082>Integer</option><option value="float" data-v-f90b4082>Float</option><option value="boolean" data-v-f90b4082>Boolean</option><option value="object" data-v-f90b4082>Object</option><option value="array" data-v-f90b4082>Array</option><option value="date" data-v-f90b4082>Date</option>',9)])],40,L3),[[tn,X.type]]),X.type==="string"||X.type==="any"?Be((V(),B("input",{key:0,type:"text","onUpdate:modelValue":de=>X.defaultValue=de,onInput:y,placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,B3)),[[yt,X.defaultValue]]):X.type==="number"||X.type==="integer"||X.type==="float"?Be((V(),B("input",{key:1,type:"number","onUpdate:modelValue":de=>X.defaultValue=de,onInput:y,step:X.type==="integer"?"1":"any",placeholder:"Default value (optional)",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,j3)),[[yt,X.defaultValue,void 0,{number:!0}]]):X.type==="boolean"?(V(),B("div",U3,[Be(x("input",{type:"checkbox","onUpdate:modelValue":de=>X.defaultValue=de,onChange:y,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,q3),[[ps,X.defaultValue]]),x("label",W3,"Default: "+xe(X.defaultValue?"true":"false"),1)])):X.type==="date"?(V(),B("div",Y3,[Be(x("input",{type:"date","onUpdate:modelValue":de=>X.defaultValue=de,onInput:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},null,40,G3),[[yt,X.defaultValue]]),Be(x("select",{"onUpdate:modelValue":de=>X.dateFormat=de,onChange:y,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"},[...N[9]||(N[9]=[yr('<option value="DD/MM/YYYY" data-v-f90b4082>DD/MM/YYYY (Brasil)</option><option value="MM/DD/YYYY" data-v-f90b4082>MM/DD/YYYY (EUA)</option><option value="YYYY-MM-DD" data-v-f90b4082>YYYY-MM-DD (ISO)</option><option value="DD-MM-YYYY" data-v-f90b4082>DD-MM-YYYY</option><option value="YYYY/MM/DD" data-v-f90b4082>YYYY/MM/DD</option>',5)])],40,Z3),[[tn,X.dateFormat]])])):X.type==="array"||X.type==="object"?Be((V(),B("textarea",{key:4,"onUpdate:modelValue":de=>X.defaultValue=de,onInput:y,placeholder:X.type==="array"?"[1, 2, 3]":"{key: value}",rows:"2",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 font-mono"},null,40,K3)),[[yt,X.defaultValue]]):Ee("",!0),x("div",X3,[Be(x("input",{type:"checkbox","onUpdate:modelValue":de=>X.required=de,onChange:y,class:"w-3 h-3 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500"},null,40,J3),[[ps,X.required]]),N[10]||(N[10]=x("label",{class:"text-xs text-gray-600 dark:text-gray-400"},"Required",-1))])]))),128))])):Ee("",!0),x("button",{onClick:X=>G(T),class:"w-full px-3 py-2 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded-md transition-colors"},[ce(Je,{icon:"material-symbols:add",size:14}),N[11]||(N[11]=ut(" Add Parameter ",-1))],8,Q3)])):m.type==="array"?(V(),B("div",eR,[x("label",tR,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",nR,"*")):Ee("",!0)]),N[12]||(N[12]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 italic"}," Complex array editing - see node documentation ",-1))])):m.type==="fieldSelector"?(V(),B("div",oR,[x("label",rR,[ut(xe(m.label)+" ",1),m.required?(V(),B("span",sR,"*")):Ee("",!0)]),m.description?(V(),B("div",iR,xe(m.description),1)):Ee("",!0),s.value[T]&&s.value[T].length>0?(V(),B("div",aR,[x("div",lR,xe(m.singleSelect?"Selected Field:":"Selected Fields:"),1),x("div",uR,[(V(!0),B(Pe,null,ct(s.value[T],(X,le)=>{var de;return V(),B("div",{key:le,class:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded"},[((de=d.value)==null?void 0:de.type)==="field-extractor"&&!m.singleSelect?(V(),B("button",{key:0,onClick:ye=>L(X),class:"hover:opacity-70 cursor-pointer",title:M(X)?"Disable individual output":"Enable individual output"},[ce(Je,{icon:M(X)?"material-symbols:visibility":"material-symbols:visibility-off",size:14},null,8,["icon"])],8,cR)):Ee("",!0),x("span",null,xe(X),1),s.value.fieldTypes&&s.value.fieldTypes[X]?(V(),B("span",{key:1,class:"text-[10px] px-1 py-0.5 bg-white dark:bg-gray-800 rounded opacity-70",title:`Type: ${s.value.fieldTypes[X]}`},xe(s.value.fieldTypes[X]),9,dR)):Ee("",!0),x("button",{onClick:ye=>O(T,le),class:"hover:text-red-600 dark:hover:text-red-400 cursor-pointer"},"  ",8,fR)])}),128))])])):Ee("",!0),x("div",hR,[N[13]||(N[13]=x("div",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Available Fields:",-1)),u.value.length>0?(V(),B("div",pR,[(V(!0),B(Pe,null,ct(u.value,X=>{var le,de,ye;return V(),B("button",{key:X,onClick:K=>k(T,X),disabled:(le=s.value[T])==null?void 0:le.includes(X),class:nt(["block w-full text-left px-2 py-1 text-xs rounded hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-gray-50 dark:bg-gray-800":!((de=s.value[T])!=null&&de.includes(X)),"bg-gray-200 dark:bg-gray-600":(ye=s.value[T])==null?void 0:ye.includes(X)}])},xe(X),11,gR)}),128))])):(V(),B("div",mR," No data connected. Connect a data source to see available fields. "))])])):Ee("",!0)])}),128)),Object.keys(p.value).length===0?(V(),B("div",yR,[...N[14]||(N[14]=[x("p",{class:"text-sm text-gray-500 dark:text-gray-400 italic"}," No configuration options available for this node. ",-1)])])):Ee("",!0)])}}},bR=At(vR,[["__scopeId","data-v-f90b4082"]]),xR={class:"output-properties space-y-4"},_R={class:"dynamic-inputs-section"},wR={key:0,class:"space-y-2 mb-3"},kR=["onUpdate:modelValue"],ER=["onUpdate:modelValue"],SR=["onClick"],$R={key:1,class:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm border border-dashed border-gray-300 dark:border-gray-600 rounded"},CR={class:"destination-section"},NR={key:0,class:"destination-config space-y-3"},TR={key:0},AR={key:1,class:"space-y-3"},IR={class:"flex items-center"},OR={key:2,class:"space-y-3"},RR={key:3,class:"space-y-3"},MR={key:4,class:"space-y-3"},DR={__name:"OutputProperties",props:{nodeId:{type:String,required:!0}},setup(e){var f,p;const t=e,n=Rt(),o=he({destination:"display",...n.nodeData[t.nodeId]}),r=he(((f=n.nodeData[t.nodeId])==null?void 0:f.dynamicInputs)||[]),s=he(((p=n.nodeData[t.nodeId])==null?void 0:p.destinationConfig)||i(o.value.destination));function i(v){return{apiResponse:{format:"wrapped"},webhook:{url:"",method:"POST",headers:"{}",retry:!0},email:{to:"",subject:"LyntFlow Report",format:"html"},googleSheets:{connectionId:"",spreadsheetUrl:"",sheetName:"Sheet1",writeMode:"append"},download:{filename:"output",format:"json"}}[v]||{}}function a(){const v={id:`input-${Date.now()}`,key:"",type:"any"};r.value.push(v),u()}function l(v){r.value.splice(v,1),u()}function u(){const v=r.value.filter(g=>g.key).map(g=>({id:`data-${g.key}`,label:g.key,type:g.type||"any",position:"left"}));n.updateNodeData(t.nodeId,{dynamicInputs:[...r.value],dynamicHandles:{inputs:v,_updated:Date.now()}})}function c(){const v=r.value.filter(g=>g.key).map(g=>({id:`data-${g.key}`,label:g.key,type:g.type||"any",position:"left"}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:v,_updated:Date.now()}})}function d(){n.updateNodeData(t.nodeId,{destination:o.value.destination}),s.value=i(o.value.destination),h()}function h(){n.updateNodeData(t.nodeId,{destinationConfig:s.value})}return ze(()=>o.value.destination,v=>{s.value=i(v),h()}),Et(()=>{r.value.length>0&&c()}),(v,g)=>(V(),B("div",xR,[x("div",_R,[x("div",{class:"flex items-center justify-between mb-3"},[g[15]||(g[15]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Inputs",-1)),x("button",{onClick:a,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Input ")]),r.value.length>0?(V(),B("div",wR,[(V(!0),B(Pe,null,ct(r.value,(y,k)=>(V(),B("div",{key:y.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[Be(x("input",{"onUpdate:modelValue":_=>y.key=_,onInput:u,placeholder:"Nome do input",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,kR),[[yt,y.key]]),Be(x("select",{"onUpdate:modelValue":_=>y.type=_,onChange:u,class:"px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded"},[...g[16]||(g[16]=[yr('<option value="any" data-v-5f488c03>Any</option><option value="string" data-v-5f488c03>String</option><option value="number" data-v-5f488c03>Number</option><option value="boolean" data-v-5f488c03>Boolean</option><option value="object" data-v-5f488c03>Object</option><option value="array" data-v-5f488c03>Array</option>',6)])],40,ER),[[tn,y.type]]),x("button",{onClick:_=>l(k),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors"},"  ",8,SR)]))),128))])):(V(),B("div",$R," Nenhum input adicionado "))]),x("div",CR,[g[18]||(g[18]=x("label",{class:"block text-sm font-semibold text-gray-900 dark:text-white mb-2"}," Destination ",-1)),Be(x("select",{"onUpdate:modelValue":g[0]||(g[0]=y=>o.value.destination=y),onChange:d,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[...g[17]||(g[17]=[yr('<option value="display" data-v-5f488c03>Display Only</option><option value="apiResponse" data-v-5f488c03>API Response</option><option value="webhook" data-v-5f488c03>Webhook</option><option value="email" data-v-5f488c03>Email</option><option value="googleSheets" data-v-5f488c03>Google Sheets</option><option value="download" data-v-5f488c03>Download</option>',6)])],544),[[tn,o.value.destination]])]),o.value.destination&&o.value.destination!=="display"?(V(),B("div",NR,[g[38]||(g[38]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Configurao do Destination",-1)),o.value.destination==="apiResponse"?(V(),B("div",TR,[g[20]||(g[20]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato de Resposta ",-1)),Be(x("select",{"onUpdate:modelValue":g[1]||(g[1]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[19]||(g[19]=[x("option",{value:"data_only"},"S dados",-1),x("option",{value:"wrapped"},"{ success, data }",-1),x("option",{value:"full"},"{ success, flowId, executedAt, data }",-1)])],544),[[tn,s.value.format]])])):o.value.destination==="webhook"?(V(),B("div",AR,[x("div",null,[g[21]||(g[21]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[ut(" URL "),x("span",{class:"text-red-500"},"*")],-1)),Be(x("input",{"onUpdate:modelValue":g[2]||(g[2]=y=>s.value.url=y),onInput:h,placeholder:"https://...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.url]])]),x("div",null,[g[23]||(g[23]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Mtodo HTTP ",-1)),Be(x("select",{"onUpdate:modelValue":g[3]||(g[3]=y=>s.value.method=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[22]||(g[22]=[x("option",{value:"POST"},"POST",-1),x("option",{value:"PUT"},"PUT",-1),x("option",{value:"PATCH"},"PATCH",-1)])],544),[[tn,s.value.method]])]),x("div",null,[g[24]||(g[24]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Headers (JSON) ",-1)),Be(x("textarea",{"onUpdate:modelValue":g[4]||(g[4]=y=>s.value.headers=y),onInput:h,rows:"3",placeholder:'{"Authorization": "Bearer ..."}',class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md font-mono"},null,544),[[yt,s.value.headers]])]),x("div",null,[x("label",IR,[Be(x("input",{type:"checkbox","onUpdate:modelValue":g[5]||(g[5]=y=>s.value.retry=y),onChange:h,class:"w-4 h-4 text-blue-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded"},null,544),[[ps,s.value.retry]]),g[25]||(g[25]=x("span",{class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Retry em caso de erro",-1))])])])):o.value.destination==="email"?(V(),B("div",OR,[x("div",null,[g[26]||(g[26]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[ut(" Para (emails separados por vrgula) "),x("span",{class:"text-red-500"},"*")],-1)),Be(x("input",{"onUpdate:modelValue":g[6]||(g[6]=y=>s.value.to=y),onInput:h,placeholder:"user@example.com, other@example.com",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.to]])]),x("div",null,[g[27]||(g[27]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Assunto ",-1)),Be(x("input",{"onUpdate:modelValue":g[7]||(g[7]=y=>s.value.subject=y),onInput:h,placeholder:"Relatrio LyntFlow",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.subject]])]),x("div",null,[g[29]||(g[29]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),Be(x("select",{"onUpdate:modelValue":g[8]||(g[8]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[28]||(g[28]=[x("option",{value:"html"},"HTML (tabela)",-1),x("option",{value:"json"},"JSON (anexo)",-1),x("option",{value:"csv"},"CSV (anexo)",-1)])],544),[[tn,s.value.format]])])])):o.value.destination==="googleSheets"?(V(),B("div",RR,[x("div",null,[g[30]||(g[30]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[ut(" Conexo Google "),x("span",{class:"text-red-500"},"*")],-1)),ce(qy,{"service-type":"sheets",modelValue:s.value.connectionId,"onUpdate:modelValue":[g[9]||(g[9]=y=>s.value.connectionId=y),h]},null,8,["modelValue"])]),x("div",null,[g[31]||(g[31]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},[ut(" URL da Planilha "),x("span",{class:"text-red-500"},"*")],-1)),Be(x("input",{"onUpdate:modelValue":g[10]||(g[10]=y=>s.value.spreadsheetUrl=y),onInput:h,placeholder:"https://docs.google.com/spreadsheets/d/...",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.spreadsheetUrl]])]),x("div",null,[g[32]||(g[32]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome da Aba ",-1)),Be(x("input",{"onUpdate:modelValue":g[11]||(g[11]=y=>s.value.sheetName=y),onInput:h,placeholder:"Sheet1",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.sheetName]])]),x("div",null,[g[34]||(g[34]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Modo de Escrita ",-1)),Be(x("select",{"onUpdate:modelValue":g[12]||(g[12]=y=>s.value.writeMode=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[33]||(g[33]=[x("option",{value:"append"},"Adicionar no final",-1),x("option",{value:"replace"},"Substituir tudo",-1),x("option",{value:"update"},"Atualizar a partir de A1",-1)])],544),[[tn,s.value.writeMode]])])])):o.value.destination==="download"?(V(),B("div",MR,[x("div",null,[g[35]||(g[35]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Nome do Arquivo ",-1)),Be(x("input",{"onUpdate:modelValue":g[13]||(g[13]=y=>s.value.filename=y),onInput:h,placeholder:"output",class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},null,544),[[yt,s.value.filename]])]),x("div",null,[g[37]||(g[37]=x("label",{class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"}," Formato ",-1)),Be(x("select",{"onUpdate:modelValue":g[14]||(g[14]=y=>s.value.format=y),onChange:h,class:"w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-md"},[...g[36]||(g[36]=[x("option",{value:"json"},"JSON",-1),x("option",{value:"csv"},"CSV",-1),x("option",{value:"excel"},"Excel (via CSV)",-1)])],544),[[tn,s.value.format]])])])):Ee("",!0)])):Ee("",!0)]))}},PR=At(DR,[["__scopeId","data-v-5f488c03"]]),VR={class:"array-merge-properties space-y-4"},HR={class:"dynamic-inputs-section"},zR={key:0,class:"space-y-2 mb-3"},FR={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},LR=["onUpdate:modelValue"],BR=["onClick","disabled"],jR={key:1,class:"w-8"},UR={class:"remove-duplicates-section"},qR={class:"flex items-center cursor-pointer"},WR={__name:"ArrayMergeProperties",props:{nodeId:{type:String,required:!0}},setup(e){var d;const t=e,n=Rt(),o=he({removeDuplicates:!1,...n.nodeData[t.nodeId]}),r=he(((d=n.nodeData[t.nodeId])==null?void 0:d.arrayInputs)||s());function s(){return[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]}function i(){const h=r.value.length+1,f={id:`array${h}`,label:`Array ${h}`};r.value.push(f),l()}function a(h){r.value.length<=2||(r.value.splice(h,1),l())}function l(){n.updateNodeData(t.nodeId,{arrayInputs:r.value}),u()}function u(){const h=r.value.map(f=>({id:`data-${f.id}`,label:f.label||f.id,type:"array",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:h}})}function c(){n.updateNodeData(t.nodeId,{removeDuplicates:o.value.removeDuplicates})}return Et(()=>{r.value.length>0&&u()}),(h,f)=>(V(),B("div",VR,[x("div",HR,[x("div",{class:"flex items-center justify-between mb-3"},[f[1]||(f[1]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Arrays para Mesclar",-1)),x("button",{onClick:i,class:"px-2 py-1 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded transition-colors"},"  Adicionar Array ")]),r.value.length>0?(V(),B("div",zR,[(V(!0),B(Pe,null,ct(r.value,(p,v)=>(V(),B("div",{key:p.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",FR,xe(v+1),1),Be(x("input",{"onUpdate:modelValue":g=>p.label=g,onInput:l,placeholder:"Nome do array",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-teal-500"},null,40,LR),[[yt,p.label]]),r.value.length>2?(V(),B("button",{key:0,onClick:g=>a(v),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:r.value.length<=2},"  ",8,BR)):(V(),B("span",jR))]))),128))])):Ee("",!0),f[2]||(f[2]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Mnimo de 2 arrays ",-1))]),x("div",UR,[x("label",qR,[Be(x("input",{type:"checkbox","onUpdate:modelValue":f[0]||(f[0]=p=>o.value.removeDuplicates=p),onChange:c,class:"w-4 h-4 text-teal-600 bg-white dark:bg-gray-900 border-gray-300 dark:border-gray-600 rounded focus:ring-teal-500"},null,544),[[ps,o.value.removeDuplicates]]),f[3]||(f[3]=x("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Remover Duplicados",-1))]),f[4]||(f[4]=x("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1 ml-6"}," Remove itens duplicados do array resultante ",-1))])]))}},YR=At(WR,[["__scopeId","data-v-36d74172"]]),GR={class:"object-create-properties space-y-4"},ZR={class:"dynamic-properties-section"},KR={key:0,class:"space-y-2 mb-3"},XR={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},JR=["onUpdate:modelValue"],QR=["onClick","disabled"],e4={key:1,class:"w-8"},t4={__name:"ObjectCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){var u;const t=e,n=Rt(),o=he(((u=n.nodeData[t.nodeId])==null?void 0:u.properties)||r());function r(){return[{id:"prop1",key:"key1"}]}function s(){const c=o.value.length+1;o.value.push({id:`prop${c}`,key:`key${c}`}),a()}function i(c){o.value.length<=1||(o.value.splice(c,1),a())}function a(){n.updateNodeData(t.nodeId,{properties:o.value}),l()}function l(){const c=o.value.map(d=>({id:`data-${d.id}`,label:d.key||d.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:c}})}return Et(()=>{o.value.length>0&&l()}),(c,d)=>(V(),B("div",GR,[x("div",ZR,[x("div",{class:"flex items-center justify-between mb-3"},[d[0]||(d[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Propriedades do Objeto",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"},"  Adicionar Propriedade ")]),o.value.length>0?(V(),B("div",KR,[(V(!0),B(Pe,null,ct(o.value,(h,f)=>(V(),B("div",{key:h.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",XR,xe(f+1),1),Be(x("input",{"onUpdate:modelValue":p=>h.key=p,onInput:a,placeholder:"Nome da chave",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,JR),[[yt,h.key]]),o.value.length>1?(V(),B("button",{key:0,onClick:p=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,QR)):(V(),B("span",e4))]))),128))])):Ee("",!0),d[1]||(d[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 propriedade",-1))])]))}},n4={class:"array-create-properties space-y-4"},o4={class:"dynamic-items-section"},r4={key:0,class:"space-y-2 mb-3"},s4={class:"text-xs text-gray-500 dark:text-gray-400 w-8"},i4=["onUpdate:modelValue"],a4=["onClick","disabled"],l4={key:1,class:"w-8"},u4={__name:"ArrayCreateProperties",props:{nodeId:{type:String,required:!0}},setup(e){var u;const t=e,n=Rt(),o=he(((u=n.nodeData[t.nodeId])==null?void 0:u.items)||r());function r(){return[{id:"item1",label:"Item 1"}]}function s(){const c=o.value.length+1;o.value.push({id:`item${c}`,label:`Item ${c}`}),a()}function i(c){o.value.length<=1||(o.value.splice(c,1),a())}function a(){n.updateNodeData(t.nodeId,{items:o.value}),l()}function l(){const c=o.value.map(d=>({id:`data-${d.id}`,label:d.label||d.id,type:"any",position:"left",required:!1}));n.updateNodeData(t.nodeId,{dynamicHandles:{inputs:c}})}return Et(()=>{o.value.length>0&&l()}),(c,d)=>(V(),B("div",n4,[x("div",o4,[x("div",{class:"flex items-center justify-between mb-3"},[d[0]||(d[0]=x("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Itens do Array",-1)),x("button",{onClick:s,class:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded transition-colors"},"  Adicionar Item ")]),o.value.length>0?(V(),B("div",r4,[(V(!0),B(Pe,null,ct(o.value,(h,f)=>(V(),B("div",{key:h.id,class:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-gray-800 rounded"},[x("span",s4,xe(f+1),1),Be(x("input",{"onUpdate:modelValue":p=>h.label=p,onInput:a,placeholder:"Nome do item",class:"flex-1 px-2 py-1 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-2 focus:ring-purple-500"},null,40,i4),[[yt,h.label]]),o.value.length>1?(V(),B("button",{key:0,onClick:p=>i(f),class:"px-2 py-1 text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",disabled:o.value.length<=1},"  ",8,a4)):(V(),B("span",l4))]))),128))])):Ee("",!0),d[1]||(d[1]=x("div",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"},"Mnimo de 1 item",-1))])]))}},c4={key:0,class:"w-80 h-full glass-sidebar backdrop-blur-xl bg-white/30 dark:bg-gray-900/30 border-l border-white/20 dark:border-gray-700/20 flex flex-col transition-all duration-300"},d4={class:"h-full flex flex-col"},f4={class:"flex items-center p-4 border-b border-white/20 dark:border-gray-700/20 bg-white/10 dark:bg-gray-800/10"},h4={class:"w-10 h-10 flex items-center justify-center bg-white/60 dark:bg-gray-900/60 border border-white/30 dark:border-gray-700/30 rounded-lg mr-3"},p4={class:"flex-1"},g4={class:"text-base font-semibold text-gray-900 dark:text-gray-100 m-0 tracking-wide"},m4={class:"text-xs text-gray-600 dark:text-gray-400 m-0 mt-0.5 tracking-wide"},y4={class:"flex-1 overflow-y-auto p-4"},v4={key:1,class:"mb-6"},b4={class:"p-4 border-t border-white/20 dark:border-gray-700/20"},x4={__name:"PropertiesPanel",props:{selectedNode:{type:Object,default:null}},emits:["close","delete"],setup(e,{emit:t}){const n=e,o=t,r=Rt(),s=ne(()=>n.selectedNode?n.selectedNode.type==="output"?PR:n.selectedNode.type==="array-merge"?YR:n.selectedNode.type==="object-create"?t4:n.selectedNode.type==="array-create"?u4:bR:null),i=ne(()=>{if(!n.selectedNode)return{};const d=r.nodeData[n.selectedNode.id],h=d?{...d}:{};return n.selectedNode.type==="field-extractor"&&(h.selectedFields||(h.selectedFields=[]),h.fieldOutputsEnabled||(h.fieldOutputsEnabled={}),h.fieldTypes||(h.fieldTypes={})),n.selectedNode.type==="output"&&!h.outputFields&&(h.outputFields=[]),h}),a=()=>{},l=()=>{n.selectedNode&&(r.removeNode(n.selectedNode.id),o("delete"))},u=d=>({input:"material-symbols:input",connector:"material-symbols:cable","field-extractor":"material-symbols:filter-alt","array-processor":"material-symbols:list",add:"material-symbols:add",subtract:"material-symbols:remove",multiply:"material-symbols:close",divide:"material-symbols:percent",variable:"material-symbols:bookmark",output:"material-symbols:output"})[d]||"material-symbols:view-in-ar",c=d=>({input:"Parmetros de Entrada",connector:"Conector de Dados","field-extractor":"Extrator de Campos","array-processor":"Processador de Array",add:"Adio",subtract:"Subtrao",multiply:"Multiplicao",divide:"Diviso",variable:"Varivel",output:"Sada"})[d]||d;return(d,h)=>{var f;return e.selectedNode?(V(),B("div",c4,[x("div",d4,[x("div",f4,[x("div",h4,[ce(Je,{icon:u(e.selectedNode.type),size:20,class:"text-brand-purple dark:text-brand-purple"},null,8,["icon"])]),x("div",p4,[x("h3",g4,xe(((f=e.selectedNode.data)==null?void 0:f.label)||"Node"),1),x("p",m4,xe(c(e.selectedNode.type)),1)]),x("button",{onClick:h[0]||(h[0]=p=>d.$emit("close")),class:"w-8 h-8 flex items-center justify-center bg-transparent border-none rounded-md text-gray-600 dark:text-gray-400 cursor-pointer transition-all duration-200 hover:bg-white/40 dark:hover:bg-gray-900/40 hover:brightness-110 hover:text-gray-800 dark:hover:text-gray-200"},[ce(Je,{icon:"material-symbols:close",size:16})])]),x("div",y4,[s.value?(V(),pt(fo(s.value),{key:0,"node-id":e.selectedNode.id,"local-data":i.value,onUpdateNodeData:a},null,40,["node-id","local-data"])):e.selectedNode?(V(),B("div",v4,[...h[1]||(h[1]=[x("div",{class:"p-4 text-center text-xs text-gray-600 dark:text-gray-400 italic bg-white/40 dark:bg-gray-800/40 rounded-md border border-dashed border-white/30 dark:border-gray-700/30 tracking-wide"}," Nenhuma propriedade especfica disponvel para este tipo de node. ",-1)])])):Ee("",!0)]),x("div",b4,[x("button",{onClick:l,class:"w-full px-2.5 py-2.5 flex items-center justify-center gap-2 bg-white/60 dark:bg-gray-900/60 hover:bg-white/80 dark:hover:bg-gray-800/80 border border-brand-red hover:brightness-110 rounded-md text-brand-red text-sm font-medium cursor-pointer transition-all tracking-wide"},[ce(Je,{icon:"material-symbols:delete",size:16}),h[2]||(h[2]=ut(" Deletar Node ",-1))])])])])):Ee("",!0)}}},_4=At(x4,[["__scopeId","data-v-a635d920"]]),w4={class:"px-2 py-2"},k4={class:"relative"},E4=["onKeydown"],S4={class:"px-3 py-1 text-11 font-semibold text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wider"},$4={class:"flex flex-col max-h-[400px] overflow-y-auto"},C4={key:0,class:"px-3 py-4 text-center text-sm text-flow-text-muted dark:text-flow-text-muted-dark"},N4=["onClick","onMouseenter"],T4={class:"flex-1 min-w-0"},A4=["innerHTML"],I4={key:0,class:"text-xs text-flow-text-muted dark:text-flow-text-muted-dark truncate"},O4={class:"text-10 text-flow-text-muted dark:text-flow-text-muted-dark uppercase tracking-wide"},R4={__name:"ContextMenu",props:{show:{type:Boolean,required:!0},position:{type:Object,required:!0},nodes:{type:Array,required:!0}},emits:["create-node","close"],setup(e,{emit:t}){const n=e,o=t,r=Rt(),s=he(null),i=he(""),a=he(0),l=ne(()=>{var g;return n.nodes&&n.nodes.length>0?n.nodes:((g=r.nodeCatalog)==null?void 0:g.nodes)||[]}),u=ne(()=>{var g;return((g=r.nodeCatalog)==null?void 0:g.categories)||[]}),c=ne(()=>{if(!i.value.trim())return l.value;const g=i.value.toLowerCase();return l.value.filter(k=>{var L,M,F;const _=(L=k.label)==null?void 0:L.toLowerCase().includes(g),O=(M=k.description)==null?void 0:M.toLowerCase().includes(g),G=d(k.category).toLowerCase().includes(g),q=(F=k.type)==null?void 0:F.toLowerCase().includes(g);return _||O||G||q})});function d(g){const y=u.value.find(k=>k.id===g);return(y==null?void 0:y.label)||g||""}function h(g){if(!i.value.trim()||!g)return g;const y=i.value,k=new RegExp(`(${y})`,"gi");return g.replace(k,'<mark class="bg-yellow-200 dark:bg-yellow-700 px-0.5 rounded">$1</mark>')}function f(){a.value<c.value.length-1&&a.value++}function p(){a.value>0&&a.value--}function v(){const g=c.value[a.value];g&&o("create-node",g.type)}return ze(()=>n.show,(g,y)=>{g?Bt(()=>{var k;(k=s.value)==null||k.focus()}):(i.value="",a.value=0)}),ze(i,()=>{a.value=0}),(g,y)=>e.show?(V(),B("div",{key:0,style:gt({position:"fixed",left:e.position.x+"px",top:e.position.y+"px",zIndex:99999,backgroundColor:"white",border:"3px solid red"}),class:"rounded-lg shadow-2xl p-2 min-w-[280px] max-w-[400px]",onClick:y[2]||(y[2]=sr(()=>{},["stop"]))},[x("div",w4,[x("div",k4,[ce(Je,{icon:"material-symbols:search",size:14,class:"absolute left-2 top-1/2 -translate-y-1/2 text-flow-text-muted dark:text-flow-text-muted-dark"}),Be(x("input",{ref_key:"searchInput",ref:s,"onUpdate:modelValue":y[0]||(y[0]=k=>i.value=k),type:"text",placeholder:"Buscar nodes...",class:"w-full pl-8 pr-3 py-1.5 text-sm bg-white dark:bg-gray-700 border border-flow-border dark:border-flow-border-dark rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-flow-text dark:text-flow-text-dark",onKeydown:[li(sr(f,["prevent"]),["down"]),li(sr(p,["prevent"]),["up"]),li(sr(v,["prevent"]),["enter"]),y[1]||(y[1]=li(k=>g.$emit("close"),["esc"]))]},null,40,E4),[[yt,i.value]])])]),x("div",S4,xe(i.value?`${c.value.length} encontrado(s)`:"Quick Add"),1),x("div",$4,[c.value.length===0?(V(),B("div",C4,' Nenhum node encontrado para "'+xe(i.value)+'" ',1)):Ee("",!0),(V(!0),B(Pe,null,ct(c.value,(k,_)=>(V(),B("button",{key:k.type,onClick:O=>g.$emit("create-node",k.type),onMouseenter:O=>a.value=_,class:nt(["flex items-center gap-2.5 px-3 py-2 bg-transparent border-none rounded text-flow-text-secondary dark:text-flow-text-secondary-dark text-sm text-left cursor-pointer transition-all duration-150",_===a.value?"bg-blue-100 dark:bg-blue-900/30 scale-[1.02]":"hover:bg-flow-surface-hover dark:hover:bg-flow-surface-hover-dark hover:scale-[1.02]"])},[x("div",{class:"w-6 h-6 rounded flex items-center justify-center flex-shrink-0",style:gt({backgroundColor:k.color+"20",color:k.color})},[ce(Je,{icon:k.icon,size:14},null,8,["icon"])],4),x("div",T4,[x("div",{class:"font-medium",innerHTML:h(k.label)},null,8,A4),k.description?(V(),B("div",I4,xe(k.description),1)):Ee("",!0)]),x("div",O4,xe(d(k.category)),1)],42,N4))),128))]),y[3]||(y[3]=x("div",{class:"px-3 py-1.5 border-t border-flow-border dark:border-flow-border-dark text-10 text-flow-text-muted dark:text-flow-text-muted-dark"},[x("span",{class:"inline-flex items-center gap-1"},[x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9"},""),ut(" navegar "),x("kbd",{class:"px-1.5 py-0.5 bg-white dark:bg-gray-700 border border-flow-border rounded text-9 ml-2"},"Enter"),ut(" selecionar ")])],-1))],4)):Ee("",!0)}};function M4(e,t){const n=Rt();return{dynamicHandles:ne(()=>{var l,u,c,d,h;if(!n.nodes.find(f=>f.id===e))return[];const s=n.nodeData[e];if(!s)return[];const i=[],a=t.value||t;if(a==="field-extractor"){const f=s.selectedFields||[],p=s.fieldOutputsEnabled||{},v=s.fieldTypes||{};let g="any";const y=n.edges.filter(k=>k.target===e&&k.targetHandle==="data-input"&&k.edgeType!=="flow");if(y.length>0){const k=n.executionResults[y[0].source];if(k&&y[0].sourceHandle in k){const _=k[y[0].sourceHandle];Array.isArray(_)?g="array":typeof _=="object"&&_!==null&&(g="object")}}i.push({id:"data-out",label:"Extracted Data",type:g,position:"right"}),f.length>1&&i.push({id:"all-data",label:"All Extracted Data",type:"object",position:"right"}),f.forEach(k=>{const _=`field-${k.replace(/\./g,"-")}`,O=p[k]!==!1,G=v[k]||"any";O&&i.push({id:_,label:k,type:G,position:"right"})})}if(a==="output"){const f=s.dynamicInputs||[],p=((l=s.dynamicHandles)==null?void 0:l.inputs)||[];(u=s.dynamicHandles)==null||u._updated,p.length>0?p.forEach(v=>{i.push({...v,position:"left"})}):f.length>0&&f.forEach(v=>{v.key&&i.push({id:`data-${v.key}`,label:v.key,type:v.type||"any",position:"left"})})}if(a==="array-merge"){const f=((c=s.dynamicHandles)==null?void 0:c.inputs)||[];f.length>0?f.forEach(p=>{i.push({...p,position:"left"})}):(s.arrayInputs||[{id:"array1",label:"Array 1"},{id:"array2",label:"Array 2"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.label||v.id,type:"array",position:"left",required:!1})})}if(a==="object-create"){const f=((d=s.dynamicHandles)==null?void 0:d.inputs)||[];f.length>0?f.forEach(p=>{i.push({...p,position:"left"})}):(s.properties||[{id:"prop1",key:"key1"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.key||v.id,type:"any",position:"left",required:!1})})}if(a==="array-create"){const f=((h=s.dynamicHandles)==null?void 0:h.inputs)||[];f.length>0?f.forEach(p=>{i.push({...p,position:"left"})}):(s.items||[{id:"item1",label:"Item 1"}]).forEach(v=>{i.push({id:`data-${v.id}`,label:v.label||v.id,type:"any",position:"left",required:!1})})}if(a==="input"&&(s.parameters||[]).forEach((p,v)=>{i.push({id:`param-output-${v}`,label:p.name||`Parameter ${v+1}`,type:p.type||"any",position:"right",required:p.required||!1})}),a==="string-ops"&&s.operation==="template"){const f=s.templateString||"",p=/\{([^}]+)\}/g,v=new Set;let g;for(;(g=p.exec(f))!==null;)v.add(g[1]);v.forEach(y=>{i.push({id:y,label:y,type:"any",position:"left",required:!1})})}return a!=="input"&&s.exposedFields&&Object.entries(s.exposedFields).forEach(([f,p])=>{i.push({id:`exposed-${f}`,label:p.label||f,type:p.type||"any",position:"left",required:p.required||!1})}),i})}}const D4={"data-input":"#3b82f6","logic-control":"#a855f7",operations:"#22c55e","data-processing":"#f97316",debug:"#6b7280",organization:"#6b7280",sources:"#3b82f6",io:"#3b82f6",storage:"#3b82f6",constants:"#3b82f6",comparison:"#a855f7",logic:"#a855f7",iteration:"#a855f7",math:"#22c55e",string:"#22c55e",conversion:"#22c55e",processors:"#f97316","array-processors":"#f97316","object-processors":"#f97316"};function P4(e){return D4[e]||"#3b82f6"}const V4={__name:"DataHandle",props:{type:{type:String,required:!0,validator:e=>["source","target"].includes(e)},position:{type:String,required:!0},id:{type:String,required:!0},dataType:{type:String,default:"any"},color:{type:String,default:null},top:{type:String,default:"50%"}},setup(e){const t=e,n=ne(()=>t.type==="target"?1:1/0),o=ne(()=>t.color?t.color:ba(t.dataType)),r=ne(()=>({top:t.top,[t.type==="source"?"right":"left"]:t.type==="source"?"-10px":"-7px",background:o.value,borderColor:o.value,zIndex:20,pointerEvents:"auto"}));return(s,i)=>(V(),pt(ge(_o),{type:e.type,position:e.position,id:e.id,style:gt(r.value),"max-connections":n.value,class:"data-handle-minimal"},null,8,["type","position","id","style","max-connections"]))}},Oh=At(V4,[["__scopeId","data-v-885728db"]]),H4={__name:"ExecHandleInput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=ne(()=>({top:t.top,left:"-7px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return(o,r)=>(V(),pt(ge(_o),{type:"target",position:e.position,id:e.id,style:gt(n.value),connectable:!0,"max-connections":1/0,class:"exec-handle-input"},null,8,["position","id","style"]))}},z4=At(H4,[["__scopeId","data-v-de0d7a93"]]),F4={__name:"ExecHandleOutput",props:{position:{type:String,required:!0},id:{type:String,required:!0},top:{type:String,default:"12px"}},setup(e){const t=e,n=ne(()=>({top:t.top,right:"-10px",background:"#9ca3af",borderColor:"#9ca3af",zIndex:10,pointerEvents:"auto"}));return(o,r)=>(V(),pt(ge(_o),{type:"source",position:e.position,id:e.id,style:gt(n.value),connectable:!0,"max-connections":1,class:"exec-handle-output"},null,8,["position","id","style"]))}},Rh=At(F4,[["__scopeId","data-v-bead03cb"]]),L4={class:"node-row header-row border-b border-gray-200 dark:border-gray-700"},B4={class:"handle-cell handle-left nodrag"},j4={class:"content-cell px-3 py-2"},U4={class:"flex items-center gap-2"},q4={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},W4={class:"handle-cell handle-right nodrag"},Y4={key:0},G4={key:1,class:"flex flex-col gap-1"},Z4={class:"text-[10px] text-gray-600 dark:text-gray-400"},K4={key:0,class:"data-section"},X4={class:"node-row"},J4={class:"handle-cell handle-left nodrag"},Q4={class:"content-cell"},eM={class:"content-split"},tM={class:"content-left"},nM={class:"label-list"},oM=["title"],rM={class:"text-xs text-gray-600 dark:text-gray-400"},sM={class:"content-right"},iM={class:"label-list"},aM={class:"text-xs text-gray-600 dark:text-gray-400"},lM=["title"],uM={class:"handle-cell handle-right nodrag"},cM={__name:"GenericNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=Rt(),o=ne(()=>{const M=n.nodes.find(F=>F.id===t.id);return M==null?void 0:M.type}),r=ne(()=>{const M=n.nodes.find(F=>F.id===t.id);return M?Yo(M.type):null}),s=ne(()=>t.selected),i=ne(()=>n.executingNodes.has(t.id)),a=ne(()=>n.executedNodes.has(t.id)),l=ne(()=>n.errorNodes.has(t.id)),u=ne(()=>{var F;const M=(F=r.value)==null?void 0:F.category;return M?P4(M):"#3b82f6"});ne(()=>n.executionResults[t.id]);const c=ne(()=>n.nodes.find(M=>M.id===t.id)),d=ne(()=>{const M=r.value;if(!M)return null;if(M.dynamicHandles&&c.value){let F="mode";const W=M.dynamicHandles.mode;M.dynamicHandles[W]||(F=W);const z=n.nodeData[t.id],N=(z==null?void 0:z[F])||W;return M.dynamicHandles[N]||M.handles}return M.handles}),h=ne(()=>{var F;const M=d.value;return((F=M==null?void 0:M.inputs)==null?void 0:F.execution)&&M.inputs.execution.length>0});ne(()=>{var F;const M=d.value;return((F=M==null?void 0:M.outputs)==null?void 0:F.execution)&&M.outputs.execution.length>0});const f=ne(()=>{var F;const M=d.value;return((F=M==null?void 0:M.outputs)==null?void 0:F.execution)||[]}),p=ne(()=>{var Y;n.edges.length;const M=v.value.filter(m=>m.position==="left"),F=d.value,W=((Y=F==null?void 0:F.inputs)==null?void 0:Y.data)||[],z=n.nodeData[t.id],N=W.map(m=>{if(m.dynamic){const T=yo(o.value,{...z,_nodeId:t.id},m.id,"target",n);return{...m,type:T}}return o.value==="variable"?{...m,type:k(m.id,"target")}:m});return o.value==="string-ops"&&(z==null?void 0:z.operation)==="template"||o.value==="output"||o.value==="array-merge"||o.value==="object-create"||o.value==="array-create"?M:[...N,...M]}),{dynamicHandles:v}=M4(t.id,o),g=ne(()=>{var z;if(n.edges.length,n.savedDetectedTypes[t.id],o.value==="field-extractor"||o.value==="input")return v.value;const M=d.value,F=((z=M==null?void 0:M.outputs)==null?void 0:z.data)||[],W=n.nodeData[t.id];return F.map(N=>{if(N.dynamic){const m=yo(o.value,{...W,_nodeId:t.id},N.id,"source",n);return{...N,type:m}}return(o.value==="variable"||o.value==="array-slice")&&N.wildcard?{...N,type:k(N.id,"source")}:["array-filter","array-sort","array-distinct","array-map","array-groupby","array-merge"].includes(o.value)&&["array","any"].includes(N.type)?{...N,type:y()}:N})}),y=()=>{const M=n.edges.filter(F=>F.target===t.id&&F.targetHandle==="data-input"&&F.edgeType!=="flow");if(M.length>0){const F=n.executionResults[M[0].source];if(F&&M[0].sourceHandle in F){const W=F[M[0].sourceHandle];if(Array.isArray(W))return"array";if(typeof W=="object"&&W!==null)return"object";if(typeof W=="number")return"number";if(typeof W=="string")return"string";if(typeof W=="boolean")return"boolean"}}return"any"},k=(M,F)=>{if(o.value==="array-slice"&&F==="source"&&M==="data-out"){const Y=n.nodeData[t.id],m=(Y==null?void 0:Y.operation)||"first";if(["take","skip","slice"].includes(m))return"array";const T=n.edges.filter(S=>S.target===t.id&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(T.length>0){const S=n.executionResults[T[0].source];if(S&&T[0].sourceHandle in S){const H=S[T[0].sourceHandle];if(Array.isArray(H)&&H.length>0){const P=H[0];if(typeof P=="object"&&P!==null)return"object";if(typeof P=="number")return"number";if(typeof P=="string")return"string";if(typeof P=="boolean")return"boolean"}}}return"any"}if(o.value!=="variable")return"any";const W=n.nodeData[t.id],z=W==null?void 0:W.variableName,N=(W==null?void 0:W.mode)||"get";if(F==="source"&&M==="data-out"){if(N==="set"){const Y=n.edges.filter(m=>m.target===t.id&&m.targetHandle==="data-input"&&m.edgeType!=="flow");if(Y.length>0){const m=n.nodes.find(T=>T.id===Y[0].source);if(m)return _(m,Y[0].sourceHandle)}}if(N==="get"&&z){const Y=n.nodes.filter(m=>{var T,S;return m.type==="variable"&&m.id!==t.id&&((T=n.nodeData[m.id])==null?void 0:T.mode)==="set"&&((S=n.nodeData[m.id])==null?void 0:S.variableName)===z});for(const m of Y){const T=n.edges.filter(S=>S.target===m.id&&S.targetHandle==="data-input"&&S.edgeType!=="flow");if(T.length>0){const S=n.nodes.find(H=>H.id===T[0].source);if(S)return _(S,T[0].sourceHandle)}}}}if(F==="target"&&M==="data-input"){const Y=n.edges.filter(m=>m.source===t.id&&m.sourceHandle==="data-out"&&m.edgeType!=="flow");if(Y.length>0){const m=n.nodes.find(T=>T.id===Y[0].target);if(m)return _(m,Y[0].targetHandle)}}return"any"},_=(M,F)=>{const W=n.nodeData[M.id];if(!W)return"any";const z={...W,_nodeId:M.id};return yo(M.type,z,F,"source",n)},O=()=>{const M=n.executionResults[t.id],F=n.savedDetectedTypes[t.id]||{},W=n.edges.filter(m=>m.target===t.id&&m.targetHandle==="exec-in"&&m.edgeType==="flow"),z=n.edges.filter(m=>m.source===t.id&&m.sourceHandle==="exec-out"&&m.edgeType==="flow"),N={};p.value.forEach(m=>{const T=n.edges.filter(S=>S.target===t.id&&S.targetHandle===m.id&&S.edgeType!=="flow");if(T.length>0){const S=T[0],H=n.executionResults[S.source],P=n.savedDetectedTypes[S.source]||{},Q=H==null?void 0:H[S.sourceHandle],Z=P[S.sourceHandle]||m.type||"unknown";N[m.id]={value:Q,type:Z,label:m.label}}});const Y={};g.value.forEach(m=>{var Q;const T=M==null?void 0:M[m.id],S=((Q=m.dynamic)==null?void 0:Q.mode)==="config-based",H=o.value==="input",P=S||H?m.type||F[m.id]||"unknown":F[m.id]||m.type||"unknown";Y[m.id]={value:T,type:P,label:m.label}}),console.group(` Node Debug: ${t.id} (${o.value})`),console.log(" INPUTS:",N),Object.entries(N).forEach(([m,T])=>{const S=L(T.value);console.log(`   ${T.label||m}:`,{type:T.type,value:S})}),console.log(" OUTPUTS:",Y),Object.entries(Y).forEach(([m,T])=>{const S=L(T.value);console.log(`   ${T.label||m}:`,{type:T.type,value:S})}),console.log(" EXECUTION EDGES:",{inputs:W.length,outputs:z.length}),console.groupEnd()},G=M=>{const F=n.edges.filter(m=>m.target===t.id&&m.targetHandle===M&&m.edgeType!=="flow");if(F.length===0)return null;const W=F[0];if(!n.nodes.find(m=>m.id===W.source))return null;const N=n.executionResults[W.source];if(!N)return null;const Y=typeof N=="object"&&N!==null&&W.sourceHandle in N?N[W.sourceHandle]:N;return L(Y)},q=ne(()=>{const M=n.executionResults[t.id],F=n.nodes.find(z=>z.id===t.id),W=n.executedNodes.has(t.id);return z=>{if(!F||!M||!W)return null;if(F.type==="field-extractor"){if(z.label==="All Extracted Data")return null;const Y=`field-${z.label.replace(/\./g,"-")}`,m=M[Y];return m==null?null:L(m)}const N=M[z.id];return N==null?null:L(N)}}),L=M=>{if(M===void 0)return null;if(M===null)return"null";if(M instanceof Date){if(isNaN(M.getTime()))return"Invalid Date";const F=M.getFullYear(),W=String(M.getMonth()+1).padStart(2,"0"),z=String(M.getDate()).padStart(2,"0");return`${F}-${W}-${z}`}if(typeof M=="string")return[/^\d{4}-\d{2}-\d{2}$/,/^\d{2}\/\d{2}\/\d{4}$/,/^\d{2}-\d{2}-\d{4}$/,/^\d{4}\/\d{2}\/\d{2}$/].some(W=>W.test(M))?M:M.length>20?`"${M.substring(0,17)}..."`:`"${M}"`;if(typeof M=="number")return Math.abs(M)>=1e6?(M/1e6).toFixed(1)+"M":Math.abs(M)>=1e3?(M/1e3).toFixed(1)+"K":M.toString();if(typeof M=="boolean")return M?"":"";if(Array.isArray(M))return M.length===0?"[]":M.length===1?"[1 item]":`[${M.length} items]`;if(typeof M=="object"){const F=Object.keys(M);return F.length===0?"{}":F.length===1?`{${F[0]}}`:`{${F.length} keys}`}return String(M).substring(0,20)};return(M,F)=>{var W,z,N;return V(),B("div",{class:nt(["generic-node rounded-lg bg-white dark:bg-gray-800 border-2 transition-all",[s.value?"selected-node":"",i.value?"executing-node":"",a.value?"executed-node":"",l.value?"error-node":"",!i.value&&!a.value&&!l.value?"border-gray-300 dark:border-gray-600":"","hover:shadow-xl"]]),style:gt({borderLeftColor:u.value,borderLeftWidth:"4px"}),onClick:O},[x("div",L4,[x("div",B4,[h.value?(V(),pt(z4,{key:0,position:"left",id:"exec-in",top:"50%"})):Ee("",!0)]),x("div",j4,[x("div",U4,[ce(Je,{icon:((W=r.value)==null?void 0:W.icon)||"material-symbols:view-in-ar",size:16,style:gt({color:((z=r.value)==null?void 0:z.color)||"#3b82f6"})},null,8,["icon","style"]),x("span",q4,xe(e.data.label||((N=r.value)==null?void 0:N.label)||"Node"),1)])]),x("div",W4,[f.value.length===1?(V(),B("div",Y4,[ce(Rh,{position:"right",id:f.value[0].id,top:"50%"},null,8,["id"])])):f.value.length>1?(V(),B("div",G4,[(V(!0),B(Pe,null,ct(f.value,(Y,m)=>(V(),B("div",{key:Y.id,class:"flex items-center gap-1"},[x("span",Z4,xe(Y.label),1),ce(Rh,{position:"right",id:Y.id,top:`${25+m*50}%`},null,8,["id","top"])]))),128))])):Ee("",!0)])]),p.value.length>0||g.value.length>0?(V(),B("div",K4,[x("div",X4,[x("div",J4,[(V(!0),B(Pe,null,ct(p.value,Y=>(V(),B("div",{key:Y.id,class:"handle-wrapper"},[ce(Oh,{id:Y.id,type:"target",position:Y.position||"left","data-type":Y.type||"any"},null,8,["id","position","data-type"])]))),128))]),x("div",Q4,[x("div",eM,[x("div",tM,[x("div",nM,[(V(!0),B(Pe,null,ct(p.value,Y=>(V(),B("div",{key:Y.id,class:"label-item"},[G(Y.id)?(V(),B("span",{key:0,class:"text-[10px] mr-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${G(Y.id)}`},xe(G(Y.id)),9,oM)):Ee("",!0),x("span",rM,xe(Y.label),1)]))),128))])]),x("div",sM,[x("div",iM,[(V(!0),B(Pe,null,ct(g.value,Y=>(V(),B("div",{key:Y.id,class:"label-item"},[x("span",aM,xe(Y.label),1),q.value(Y)?(V(),B("span",{key:0,class:"text-[10px] ml-1 px-1 py-0.5 bg-gray-100 dark:bg-gray-700 rounded font-mono text-gray-500 dark:text-gray-400",title:`Value: ${q.value(Y)}`},xe(q.value(Y)),9,lM)):Ee("",!0)]))),128))])])])]),x("div",uM,[(V(!0),B(Pe,null,ct(g.value,Y=>(V(),B("div",{key:Y.id,class:"handle-wrapper"},[ce(Oh,{id:Y.id,type:"source",position:Y.position||"right","data-type":Y.type||"any"},null,8,["id","position","data-type"])]))),128))])])])):Ee("",!0)],6)}}},Ke=At(cM,[["__scopeId","data-v-9b4c31c1"]]),dM={key:0,class:"primitive-line"},fM={key:1,class:"array-node"},hM={class:"expand-icon"},pM={class:"array-label"},gM={key:0,class:"array-children"},mM={class:"array-index"},yM={key:2,class:"object-node"},vM={class:"expand-icon"},bM={class:"object-label"},xM={key:0,class:"object-children"},_M={class:"property-key"},wM={__name:"DataNode",props:{value:{required:!0},path:{type:Array,default:()=>[]},depth:{type:Number,default:0}},setup(e){const t=e,n=he(t.depth<2),o=()=>{n.value=!n.value},r=ne(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":Array.isArray(d)?"array":typeof d=="object"?"object":typeof d=="string"?"string":typeof d=="number"?"number":typeof d=="boolean"?"boolean":"unknown"}),s=ne(()=>["null","undefined","string","number","boolean"].includes(r.value)),i=ne(()=>r.value==="array"),a=ne(()=>r.value==="object"),l=ne(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":typeof d=="string"?`"${d}"`:typeof d=="boolean"?d?"true":"false":String(d)}),u=ne(()=>a.value?Object.entries(t.value):[]),c=ne(()=>`{${Object.keys(t.value).length} props}`);return(d,h)=>{const f=fc("DataNode",!0);return V(),B("div",{class:"data-node",style:gt({paddingLeft:`${e.depth*12}px`})},[s.value?(V(),B("div",dM,[x("span",{class:nt(["value",`type-${r.value}`])},xe(l.value),3)])):i.value?(V(),B("div",fM,[x("div",{class:"array-header",onClick:o},[x("button",hM,[ce(Je,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",pM,"Array("+xe(e.value.length)+")",1)]),n.value?(V(),B("div",gM,[(V(!0),B(Pe,null,ct(e.value,(p,v)=>(V(),B("div",{key:v,class:"array-item-row"},[x("span",mM,xe(v)+":",1),ce(f,{value:p,path:[...e.path,v],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):Ee("",!0)])):a.value?(V(),B("div",yM,[x("div",{class:"object-header",onClick:o},[x("button",vM,[ce(Je,{icon:n.value?"material-symbols:arrow-drop-down":"material-symbols:arrow-right",size:14},null,8,["icon"])]),x("span",bM,xe(c.value),1)]),n.value?(V(),B("div",xM,[(V(!0),B(Pe,null,ct(u.value,([p,v])=>(V(),B("div",{key:p,class:"object-property-row"},[x("span",_M,xe(p)+":",1),ce(f,{value:v,path:[...e.path,p],depth:e.depth+1},null,8,["value","path","depth"])]))),128))])):Ee("",!0)])):Ee("",!0)],4)}}},kM=At(wM,[["__scopeId","data-v-b34df0fd"]]),EM={class:"debug-viewer-node"},SM={class:"node-header"},$M={class:"flex items-center gap-2"},CM={class:"font-medium"},NM={key:0,class:"data-container"},TM={key:0,class:"no-data"},AM={key:1,class:"data-tree"},IM={key:1,class:"collapsed-preview"},OM={key:0,class:"preview-text"},RM={key:1,class:"no-data-text"},MM={__name:"DebugViewerNode",props:{id:{type:String,required:!0},data:{type:Object,default:()=>({})}},setup(e){var h;const t=e,n=Rt(),o=ne(()=>{const f=n.nodes.find(p=>p.id===t.id);return f?Yo(f.type):null}),r=ne(()=>{var f,p;return((f=t.data)==null?void 0:f.label)||((p=o.value)==null?void 0:p.label)||"Debug Viewer"}),s=he(((h=t.data)==null?void 0:h.expanded)!==!1),i=()=>{s.value=!s.value},a=ne(()=>{const f=n.edges.filter(y=>y.target===t.id&&y.edgeType!=="flow");if(f.length===0)return null;const p=f[0],v=n.executionResults[p.source];return v?typeof v=="object"&&v!==null&&p.sourceHandle in v?v[p.sourceHandle]:v:null}),l=ne(()=>a.value!==null&&a.value!==void 0),u=ne(()=>{if(!l.value)return"undefined";const f=a.value;return Array.isArray(f)?"array":f===null?"null":typeof f=="object"?"object":typeof f=="string"?"string":typeof f=="number"?"number":typeof f=="boolean"?"boolean":"unknown"}),c=ne(()=>({array:"#10b981",object:"#3b82f6",string:"#f59e0b",number:"#8b5cf6",boolean:"#ec4899",null:"#6b7280",undefined:"#6b7280"})[u.value]||"#6b7280"),d=ne(()=>{if(!l.value)return"No data";if(u.value==="array")return`Array (${a.value.length})`;if(u.value==="object")return`Object {${Object.keys(a.value).length} props}`;const f=a.value;return f===null?"null":f===void 0?"undefined":typeof f=="string"?`"${f}"`:typeof f=="boolean"?f?"true":"false":String(f)});return ze(()=>{var f;return(f=t.data)==null?void 0:f.expanded},f=>{f!==void 0&&(s.value=f)}),(f,p)=>{var v;return V(),B("div",EM,[x("div",SM,[x("div",$M,[ce(Je,{icon:((v=o.value)==null?void 0:v.icon)||"material-symbols:bug-report",size:16},null,8,["icon"]),x("span",CM,xe(r.value),1)]),x("button",{onClick:i,class:"expand-btn",title:"Toggle expand/collapse"},[ce(Je,{icon:s.value?"material-symbols:expand-less":"material-symbols:expand-more",size:16},null,8,["icon"])])]),ce(ge(_o),{id:`${e.id}-data-input`,type:"target",position:ge(Ne).Left,style:gt({background:ge(ba)("any"),top:"50%"}),class:"handle-input"},null,8,["id","position","style"]),s.value?(V(),B("div",NM,[x("div",{class:"type-badge",style:gt({backgroundColor:c.value})},xe(u.value),5),l.value?(V(),B("div",AM,[ce(kM,{value:a.value,path:[]},null,8,["value"])])):(V(),B("div",TM,[ce(Je,{icon:"material-symbols:info-outline",size:20}),p[0]||(p[0]=x("span",null,"No data connected",-1))]))])):(V(),B("div",IM,[l.value?(V(),B("span",OM,xe(d.value),1)):(V(),B("span",RM,"No data"))]))])}}},DM=At(MM,[["__scopeId","data-v-f8b0b06d"]]),PM={class:"marker-header"},VM={__name:"MarkerNode",props:{id:{type:String,required:!0},selected:{type:Boolean,default:!1}},setup(e){const t=e,n=Rt(),o=ne(()=>n.nodeData[t.id]||{}),r=ne(()=>n.nodes.find(q=>q.id===t.id)),s=he(o.value.name||"Frame"),i=he(o.value.width||400),a=he(o.value.height||300),l=ne(()=>{const q=o.value.color||"rgba(147, 197, 253, 0.2)";if(q.startsWith("#")){let L=q.slice(1);L.length===3&&(L=L.split("").map(z=>z+z).join(""));const M=parseInt(L.slice(0,2),16),F=parseInt(L.slice(2,4),16),W=parseInt(L.slice(4,6),16);return`rgba(${M}, ${F}, ${W}, 0.2)`}return q.startsWith("rgba")?q.replace(/[\d.]+\)$/,"0.2)"):q.startsWith("rgb")?q.replace("rgb","rgba").replace(")",", 0.2)"):q}),u=ne(()=>t.selected?"#3b82f6":"#d1d5db"),c=()=>{n.updateNodeData(t.id,{name:s.value})};let d=!1,h=null,f=0,p=0,v=0,g=0,y=0,k=0;const _=q=>{var L,M,F,W;d=!0,h=q,f=event.clientX,p=event.clientY,v=i.value,g=a.value,y=((M=(L=r.value)==null?void 0:L.position)==null?void 0:M.x)||0,k=((W=(F=r.value)==null?void 0:F.position)==null?void 0:W.y)||0,document.addEventListener("mousemove",O),document.addEventListener("mouseup",G),event.stopPropagation()},O=q=>{if(!d)return;const L=q.clientX-f,M=q.clientY-p;let F=v,W=g,z=y,N=k;switch(h){case"se":F=Math.max(200,v+L),W=Math.max(150,g+M);break;case"ne":F=Math.max(200,v+L),W=Math.max(150,g-M),N=k+M;break;case"sw":F=Math.max(200,v-L),W=Math.max(150,g+M),z=y+L;break;case"nw":F=Math.max(200,v-L),W=Math.max(150,g-M),z=y+L,N=k+M;break}i.value=F,a.value=W,(z!==y||N!==k)&&n.updateNodePosition(t.id,{x:z,y:N})},G=()=>{d&&n.updateNodeData(t.id,{width:i.value,height:a.value}),d=!1,h=null,document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",G)};return Vr(()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",G)}),(q,L)=>(V(),B("div",{class:"marker-node",style:gt({width:`${i.value}px`,height:`${a.value}px`,backgroundColor:l.value,borderColor:u.value,zIndex:-1})},[x("div",PM,[Be(x("input",{"onUpdate:modelValue":L[0]||(L[0]=M=>s.value=M),onInput:c,class:"marker-title",placeholder:"Frame name"},null,544),[[yt,s.value]])]),x("div",{class:"resize-handle resize-se",onMousedown:L[1]||(L[1]=M=>_("se"))},null,32),x("div",{class:"resize-handle resize-ne",onMousedown:L[2]||(L[2]=M=>_("ne"))},null,32),x("div",{class:"resize-handle resize-sw",onMousedown:L[3]||(L[3]=M=>_("sw"))},null,32),x("div",{class:"resize-handle resize-nw",onMousedown:L[4]||(L[4]=M=>_("nw"))},null,32)],4))}},HM=At(VM,[["__scopeId","data-v-167e52f1"]]),zM={class:"h-screen flex flex-col bg-flow-bg dark:bg-flow-bg-dark"},FM={class:"flex flex-1 overflow-hidden"},LM={__name:"FlowCanvas",setup(e){const t=Rt(),{addNodes:n,addEdges:o,project:r,viewportRef:s,updateNode:i,getSelectedEdges:a}=ft(),l=he(null),u=he({visible:!1,x:0,y:0,sourceNodeId:null,sourceHandle:null,compatibleNodes:[]}),c=he({active:!1,sourceNodeId:null,sourceHandle:null}),d=he(!1),h=he(!1),f=ne(()=>t.nodes.map(E=>E.type==="input"||E.type==="output"?{...E,deletable:!1}:E)),p=ne(()=>t.edges),v=new Map,g=ne(()=>p.value.map(I=>{if(!I.source||!I.target)return null;const D=`${I.id}-${I.source}-${I.target}-${I.sourceHandle}-${I.edgeType}`,J=t.executionResults[I.source]?JSON.stringify(t.executionResults[I.source]):"null";if(v.has(D)){const De=v.get(D),Ue=t.nodes.find(et=>et.id===I.source);if(Ue&&De.sourceNodeType===Ue.type&&De.executionResultsHash===J)return De.edge}let se={},ue={},ke="any";if(I.edgeType==="flow")se={stroke:"#9ca3af",strokeWidth:3},ue={type:"arrowclosed",width:10,height:10,color:"#9ca3af"};else{const De=t.nodes.find(Ue=>Ue.id===I.source);if(De){ke=X(De,I.sourceHandle);const Ue=ba(ke);se={stroke:Ue,strokeWidth:2.5},ue={type:"arrowclosed",width:8,height:8,color:Ue}}else se={stroke:"#3b82f6",strokeWidth:2.5},ue={type:"arrowclosed",width:8,height:8,color:"#3b82f6"}}const Oe={...I,type:"default",animated:I.edgeType==="flow",class:I.edgeType==="flow"?"flow-edge":`data-edge data-edge-type-${ke}`,style:se,markerEnd:ue,data:{...I.data,edgeType:I.edgeType,dataType:ke}},Re=t.nodes.find(De=>De.id===I.source);return v.set(D,{edge:Oe,sourceNodeType:Re==null?void 0:Re.type,executionResultsHash:J}),Oe}).filter(Boolean)),y=()=>{const E=new URLSearchParams(window.location.search),I=E.get("success"),D=E.get("error"),J=E.get("email");I==="true"&&(alert(` Successfully connected to Google Analytics!

Account: ${J}`),window.history.replaceState({},document.title,window.location.pathname),window.dispatchEvent(new CustomEvent("oauth-success"))),D&&(alert(` Connection failed: ${D}`),window.history.replaceState({},document.title,window.location.pathname))},k=he(null),_=he(null),O=he([]),G=he({x:0,y:0}),{showContextMenu:q,contextMenuPosition:L,openContextMenu:M,closeContextMenu:F}=PA(),W=he([{type:"input",label:"Input",icon:"material-symbols:input"},{type:"connector",label:"Data Connector",icon:"material-symbols:cable"},{type:"field-extractor",label:"Field Extractor",icon:"material-symbols:filter-alt"},{type:"add",label:"Add",icon:"material-symbols:add"},{type:"output",label:"Output",icon:"material-symbols:output"}]),z={type:"default",animated:!0,style:{stroke:"#9ca3af",strokeWidth:2},markerEnd:{type:"arrowclosed",width:10,height:10,color:"#9ca3af"}},N=E=>{E.preventDefault();const I=E.dataTransfer.getData("application/vueflow");if(I)try{const D=JSON.parse(I),J=r({x:E.clientX-E.target.getBoundingClientRect().left,y:E.clientY-E.target.getBoundingClientRect().top}),se=Y(D.type,J);n([se])}catch{}},Y=(E,I)=>{const D={id:`${E}_${Date.now()}`,type:E,position:I,data:{},zIndex:1};switch(E){case"connector":D.data={label:"Data Connector",sourceType:"api",apiUrl:"",dataPath:""};break;case"field-extractor":D.data={label:"Field Extractor",selectedFields:[]};break;case"add":case"subtract":case"multiply":case"divide":D.data={label:E.charAt(0).toUpperCase()+E.slice(1),operation:E};break;case"output":D.data={label:"Output",customInputs:[]},D.deletable=!1;break;case"constant":D.data={label:"Constant",valueType:"number",numberValue:0,stringValue:"",booleanValue:!1,objectValue:"{}",arrayValue:"[]"};break;case"compare":D.data={label:"Compare",operation:"equals"};break;case"type-conversion":D.data={label:"Type Conversion",targetType:"string"};break;case"logic":D.data={label:"Logic Operation",operation:"and"};break;case"string-ops":D.data={label:"String Operations",operation:"concat",templateString:"Hello {name}!"};break;case"marker":D.data={label:"Frame",name:"Frame",color:"rgba(147, 197, 253, 0.2)",width:400,height:300},D.zIndex=-100,D.selectable=!0,D.draggable=!0;break;case"input":D.data={label:"Input",parameters:[{name:"param1",type:"string",required:!1,defaultValue:"Hello World"}]},D.deletable=!1;break;case"variable":D.data={label:"Variable",mode:"get",variableName:""};break;default:D.data={label:E.charAt(0).toUpperCase()+E.slice(1)}}return t.addNode(D),D},m=E=>{k.value=E.node};let T=new Map;const S=E=>{t.setDragging(!0),E.node.type==="marker"&&T.set(E.node.id,{x:E.node.position.x,y:E.node.position.y})},H=E=>{const I={x1:E.position.x,y1:E.position.y,x2:E.position.x+(E.data.width||400),y2:E.position.y+(E.data.height||300)};return f.value.filter(D=>D.id!==E.id&&D.type!=="marker").filter(D=>{D.position.x,D.position.y,D.position.x+200,D.position.y+120;const ue=D.position.x+200/2,ke=D.position.y+120/2;return ue>=I.x1&&ue<=I.x2&&ke>=I.y1&&ke<=I.y2})},P=E=>{},Q=E=>{t.setDragging(!1),E.node&&(t.updateNodePosition(E.node.id,E.node.position),E.node.type==="marker"&&T.has(E.node.id)&&(H(E.node).forEach(D=>{t.updateNodePosition(D.id,D.position)}),T.delete(E.node.id)))},Z=E=>{E.forEach(I=>{var D;if(I.type==="position"&&I.position){const J=f.value.find(ue=>ue.id===I.id);if((J==null?void 0:J.type)==="marker"&&t.isDragging&&T.has(I.id)){const ue=T.get(I.id),ke=I.position.x-ue.x,Oe=I.position.y-ue.y;H({...J,position:ue}).forEach(De=>{const Ue={x:De.position.x+ke,y:De.position.y+Oe};i(De.id,{position:Ue}),t.updateNodePosition(De.id,Ue)}),T.set(I.id,I.position)}t.updateNodePosition(I.id,I.position)}else if(I.type==="remove"){const J=f.value.find(ue=>ue.id===I.id);if(J&&(J.type==="input"||J.type==="output")){console.warn(` Cannot remove ${J.type} node: It is required for the flow`);return}t.removeNode(I.id)!==!1&&((D=k.value)==null?void 0:D.id)===I.id&&(k.value=null)}else if(I.type==="select"){const J=f.value.findIndex(se=>se.id===I.id);J!==-1&&(f.value[J].selected=I.selected,I.selected&&(k.value=f.value[J]))}})},oe=E=>{E.forEach(I=>{I.type==="remove"&&t.removeEdge(I.id)})},fe=E=>{var ke,Oe;const I=(ke=E.sourceHandle)==null?void 0:ke.startsWith("exec-"),D=(Oe=E.targetHandle)==null?void 0:Oe.startsWith("exec-");if(I!==D)return!1;if(I&&D)return!0;const J=t.nodes.find(Re=>Re.id===E.source),se=t.nodes.find(Re=>Re.id===E.target);return!J||!se?!1:v2(J,E.sourceHandle,se,E.targetHandle,t)},X=(E,I,D)=>{var Oe,Re,De,Ue,et;({...t.nodeData[E.id]||{},_nodeId:E.id});const se=Yo(E.type);if(!se)return"any";const ue=(Oe=se==null?void 0:se.handles)==null?void 0:Oe.outputs,ke=(Re=ue==null?void 0:ue.data)==null?void 0:Re.find(j=>j.id===I);if(!ke)return"any";if(((De=ke.dynamic)==null?void 0:De.mode)==="runtime-detection"){const j=(Ue=t.executionResults[E.id])==null?void 0:Ue[I];if(j!==void 0)return typeof j=="number"?"number":typeof j=="string"?"string":typeof j=="boolean"?"boolean":Array.isArray(j)?"array":typeof j=="object"?"object":"any";const re=(et=t.savedDetectedTypes[E.id])==null?void 0:et[I];if(re)return re}return ke.type||"any"},le=E=>{var Oe,Re,De,Ue;if(!E.source||!E.target)return;const I=((Oe=E.sourceHandle)==null?void 0:Oe.startsWith("exec-"))||((Re=E.targetHandle)==null?void 0:Re.startsWith("exec-")),D=(De=E.sourceHandle)==null?void 0:De.startsWith("exec-"),J=(Ue=E.targetHandle)==null?void 0:Ue.startsWith("exec-");if(D!==J)return;console.log(" onConnect - Nova conexo:",{source:E.source,sourceHandle:E.sourceHandle,target:E.target,targetHandle:E.targetHandle,isExec:I}),I?(t.edges.filter(j=>j.source===E.source&&j.sourceHandle===E.sourceHandle&&j.edgeType==="flow").forEach(j=>{console.log(" Removendo conexo anterior do exec-out:",j.id),t.removeEdge(j.id)}),console.log(" exec-in permite mltiplas conexes")):t.edges.filter(j=>j.target===E.target&&j.targetHandle===E.targetHandle&&j.edgeType==="data").forEach(j=>{t.removeEdge(j.id)});let se="#9ca3af",ue="any";if(!I){const et=t.nodes.find(j=>j.id===E.source);et&&(ue=X(et,E.sourceHandle),se=ba(ue))}if(!E.source||!E.target)return;const ke={id:`edge_${Date.now()}`,source:E.source,target:E.target,sourceHandle:E.sourceHandle,targetHandle:E.targetHandle,edgeType:I?"flow":"data",dataType:ue,animated:I,style:{stroke:se,strokeWidth:I?3:2.5},markerEnd:{type:"arrowclosed",width:I?10:8,height:I?10:8,color:se}};if(!I){const et=t.nodes.find(Ie=>Ie.id===E.source),j=t.nodes.find(Ie=>Ie.id===E.target),re=t.executionResults[E.source],me=re==null?void 0:re[E.sourceHandle],pe=t.executionResults[E.target],_e=pe==null?void 0:pe[E.targetHandle];console.log(`
 NOVA CONEXO
 OUTPUT
   Node: ${(et==null?void 0:et.type)||"unknown"} (${E.source})
   Parmetro: ${E.sourceHandle}
   Valor: ${me!==void 0?JSON.stringify(me):"no executado ainda"}

 INPUT
    Node: ${(j==null?void 0:j.type)||"unknown"} (${E.target})
    Parmetro: ${E.targetHandle}
    Valor: ${_e!==void 0?JSON.stringify(_e):"no executado ainda"}
    `)}t.addEdge(ke),d.value=!0,setTimeout(()=>{d.value=!1},100)},de=E=>{c.value={active:!0,sourceNodeId:E.nodeId,sourceHandle:E.handleId},d.value=!1},ye=E=>{if(!c.value.active)return;if(d.value){c.value.active=!1;return}const I=document.elementFromPoint(E.clientX,E.clientY);if(I==null?void 0:I.closest(".vue-flow__handle")){c.value.active=!1;return}if(I==null?void 0:I.closest(".vue-flow__node")){c.value.active=!1;return}const se=t.nodes.find(De=>De.id===c.value.sourceNodeId),ue=c.value.sourceHandle;if(!se||!ue){c.value.active=!1;return}const ke=X(se,ue),Oe=ue.startsWith("exec-"),Re=t.nodeCatalog.nodes.filter(De=>{var j,re,me,pe,_e;return Oe?(me=(re=(j=De.handles)==null?void 0:j.inputs)==null?void 0:re.execution)==null?void 0:me.some(Ie=>{var we;return(we=Ie.id)==null?void 0:we.startsWith("exec-")}):(((_e=(pe=De.handles)==null?void 0:pe.inputs)==null?void 0:_e.data)||[]).some(Ie=>{const we=Nu(De.type,Ie.id);return Qm(ke,we)})});u.value.sourceNodeId=se.id,u.value.sourceHandle=ue,u.value.compatibleNodes=Re,W.value=Re,M(E.clientX,E.clientY),h.value=!0,setTimeout(()=>{h.value=!1},100),c.value.active=!1},K=({edge:E})=>{var re,me,pe,_e,Ie;if(!E||E.edgeType==="flow")return;const I=t.nodes.find(we=>we.id===E.source),D=t.nodes.find(we=>we.id===E.target),J=t.executionResults[E.source];t.executionResults[E.target];const se=t.savedDetectedTypes[E.source]||{},ue=t.savedDetectedTypes[E.target]||{},ke=J==null?void 0:J[E.sourceHandle];let Oe="unknown";if((I==null?void 0:I.type)==="input"){const we=parseInt((re=E.sourceHandle)==null?void 0:re.replace("param-output-",""));Oe=((pe=(((me=t.nodeData[E.source])==null?void 0:me.parameters)||[])[we])==null?void 0:pe.type)||"any"}else Oe=se[E.sourceHandle]||"unknown";const Re=((_e=t.getNodeDataInputs)==null?void 0:_e.call(t,E.target))||{},De=((Ie=E.targetHandle)==null?void 0:Ie.replace("data-",""))||"input",Ue=Re[De],et=ue[E.targetHandle]||"unknown",j=we=>{if(we===void 0)return"undefined";if(we===null)return"null";const lt=JSON.stringify(we);return lt.length>38?lt.substring(0,38):lt};console.log(`

           CONEXO CLICADA (VALOR SENDO TRANSMITIDO)          

                                                               
   OUTPUT (ORIGEM)                                           
   Node: ${((I==null?void 0:I.type)||"unknown").padEnd(47)}
   ID: ${(E.source||"unknown").padEnd(49)}
   Handle: ${(E.sourceHandle||"unknown").padEnd(45)}
   TIPO: ${Oe.padEnd(49)}
   VALOR: ${j(ke).padEnd(47)}
                                                               
   INPUT (DESTINO)                                           
   Node: ${((D==null?void 0:D.type)||"unknown").padEnd(47)}
   ID: ${(E.target||"unknown").padEnd(49)}
   Handle: ${(E.targetHandle||"unknown").padEnd(45)}
   TIPO: ${et.padEnd(49)}
   VALOR: ${j(Ue).padEnd(47)}
                                                               

`)},ae=async()=>{_.value="running";try{await t.executeFlow(),_.value="success",setTimeout(()=>{_.value=null},3e3)}catch{_.value="error",setTimeout(()=>{_.value=null},5e3)}},ie=async()=>{try{console.log(" Manual save triggered"),await t.syncToAPI()}catch(E){console.error(" Failed to save:",E)}},ve=()=>{confirm("Are you sure you want to clear the entire flow? This action cannot be undone.")&&(t.clearFlow(),k.value=null)},Te=E=>{var J;if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes((J=document.activeElement)==null?void 0:J.tagName)){E.key==="Escape"&&q.value&&F();return}if(E.ctrlKey&&E.key==="c"){E.preventDefault(),C();return}if(E.ctrlKey&&E.key==="v"){E.preventDefault(),$();return}if((E.ctrlKey||E.metaKey)&&E.key==="s"){E.preventDefault(),t.hasUnsavedChanges&&t.syncStatus!=="syncing"&&ie();return}if(E.code==="Space"){E.preventDefault(),M(G.value.x,G.value.y);return}if(E.key==="Escape"){F();return}},A=E=>{},R=E=>{var se;if(["INPUT","SELECT","BUTTON","TEXTAREA"].includes(E.target.tagName)||h.value)return;q.value&&F(),u.value.visible&&closeQuickAddMenu(),E.target.closest(".vue-flow__node")||(se=l.value)==null||se.focus()},b=E=>{["INPUT","SELECT","BUTTON","TEXTAREA"].includes(E.target.tagName)||(G.value={x:E.clientX,y:E.clientY})},w=E=>{const I=U(G.value.x,G.value.y),D=Y(E,I);F(),u.value.sourceNodeId&&u.value.sourceHandle&&setTimeout(()=>{var Oe,Re,De,Ue,et,j;const J=u.value.sourceHandle,se=J.startsWith("exec-"),ue=t.nodeCatalog.nodes.find(re=>re.type===E);let ke=null;if(se)ke=((Ue=(De=(Re=(Oe=ue==null?void 0:ue.handles)==null?void 0:Oe.inputs)==null?void 0:Re.execution)==null?void 0:De[0])==null?void 0:Ue.id)||"exec-in";else{const me=(((j=(et=ue==null?void 0:ue.handles)==null?void 0:et.inputs)==null?void 0:j.data)||[]).find(pe=>{const _e=Nu(E,pe.id),Ie=X(t.nodes.find(we=>we.id===u.value.sourceNodeId),J);return _e.includes(Ie)||_e.includes("any")});ke=(me==null?void 0:me.id)||"data-input"}le({source:u.value.sourceNodeId,sourceHandle:J,target:D.id,targetHandle:ke}),u.value.sourceNodeId=null,u.value.sourceHandle=null},100)},C=()=>{const E=f.value.filter(I=>I.selected);E.length!==0&&(O.value=E.map(I=>({...I,data:Sr(I.data),position:{...I.position}})))},$=()=>{if(O.value.length===0)return;const E=U(G.value.x,G.value.y),I=30;O.value.forEach((D,J)=>{const se={...D,id:`${D.type}_${Date.now()}_${J} `,position:{x:E.x+J*I,y:E.y+J*I},data:Sr(D.data),selected:!1};t.addNode(se)})},U=(E,I)=>{var J;if(!s.value){const se=(J=l.value)==null?void 0:J.getBoundingClientRect();return se?{x:E-se.left,y:I-se.top}:{x:E,y:I}}const D=s.value.getBoundingClientRect();return r({x:E-D.left,y:I-D.top})},ee=E=>{if((E.ctrlKey||E.metaKey)&&E.key==="z"&&!E.shiftKey){E.preventDefault(),t.undo();return}if((E.ctrlKey||E.metaKey)&&(E.key==="y"||E.shiftKey&&E.key==="z")){E.preventDefault(),t.redo();return}};return Et(()=>{var E;(E=l.value)==null||E.focus(),y(),t.initializeFromUrl(),window.addEventListener("keydown",ee)}),Vr(()=>{window.removeEventListener("keydown",ee)}),(E,I)=>(V(),B("div",zM,[ce(eO,{"can-undo":ge(t).canUndo,"can-redo":ge(t).canRedo,"execution-status":_.value,"has-unsaved-changes":ge(t).hasUnsavedChanges,onExecute:ae,onClear:ve,onUndo:ge(t).undo,onRedo:ge(t).redo,onSave:ie},null,8,["can-undo","can-redo","execution-status","has-unsaved-changes","onUndo","onRedo"]),x("div",FM,[ce(dO),x("div",{class:"flex-1 relative outline-none focus:outline-none",onDrop:N,onDragover:I[0]||(I[0]=sr(()=>{},["prevent"])),onKeydown:Te,onKeyup:A,onClick:R,onMousemove:b,onContextmenu:I[1]||(I[1]=sr(()=>{},["prevent"])),tabindex:"0",ref_key:"canvasRef",ref:l},[ce(ge(PE),{nodes:f.value,edges:g.value,onNodesChange:Z,onEdgesChange:oe,onConnect:le,onConnectStart:de,onConnectEnd:ye,onEdgeClick:K,onNodeClick:m,onNodeDragStart:S,onNodeDrag:P,onNodeDragStop:Q,"default-edge-options":z,"is-valid-connection":fe,"fit-view-on-init":!1,"connection-mode":ge(Kn).Loose,"zoom-on-scroll":!0,"pan-on-scroll":!1,"pan-on-drag":[1,2],"node-draggable":!0,"nodes-deletable":!0,"edges-deletable":!0,"delete-key-code":"Delete","multi-selection-key-code":"Control","selection-mode":"partial",class:"w-full h-full bg-flow-bg dark:bg-flow-bg-dark"},{"node-connector":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-add":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-subtract":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-multiply":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-divide":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-round":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-filter":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-aggregate":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-slice":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-sort":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-map":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-groupby":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-distinct":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-merge":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-create":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-array-create":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-merge":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-pick":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-keys-values":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-rename":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-set-property":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-to-array":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-object-transform":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-field-extractor":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-output":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-variable":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-input":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-constant":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-compare":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-conditional-branch":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-type-conversion":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-logic":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-string-ops":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-for-each":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-while-loop":Ve(D=>[ce(Ke,We(Ye(D)),null,16)]),"node-marker":Ve(D=>[ce(HM,We(Ye(D)),null,16)]),"node-debug-viewer":Ve(D=>[ce(DM,We(Ye(D)),null,16)]),default:Ve(()=>[ce(ge(UE),{variant:ge(kn).Dots,"pattern-color":"#94a3b8"},null,8,["variant"]),ce(ge(o2),{pannable:"",zoomable:""}),ce(ge(_S))]),_:1},8,["nodes","edges","connection-mode"]),ce(R4,{show:ge(q),position:ge(L),nodes:W.value,onCreateNode:w},null,8,["show","position","nodes"])],544),ce(_4,{"selected-node":k.value,onClose:I[2]||(I[2]=D=>k.value=null),onDelete:I[3]||(I[3]=D=>k.value=null)},null,8,["selected-node"])])]))}},BM=At(LM,[["__scopeId","data-v-45e25918"]]);class ss extends Error{}ss.prototype.name="InvalidTokenError";function jM(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let o=n.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function UM(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return jM(t)}catch{return atob(t)}}function Mh(e,t){if(typeof e!="string")throw new ss("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,o=e.split(".")[n];if(typeof o!="string")throw new ss(`Invalid token specified: missing part #${n+1}`);let r;try{r=UM(o)}catch(s){throw new ss(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(r)}catch(s){throw new ss(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}const mn=he(null),is=he(null),Bl=he(null);let Dh=!1;function qM(){!Dh&&typeof window<"u"&&window.localStorage&&(mn.value=localStorage.getItem("accessToken"),is.value=localStorage.getItem("refreshToken"),Dh=!0)}function WM(){qM();const e=ne(()=>!!mn.value&&!!is.value);function t(i,a){mn.value=i,is.value=a,typeof window<"u"&&window.localStorage&&(localStorage.setItem("accessToken",i),localStorage.setItem("refreshToken",a))}function n(){Bl.value=null,mn.value=null,is.value=null,typeof window<"u"&&window.localStorage&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"))}function o(){if(!mn.value)return null;try{const i=Mh(mn.value);return{id:i.userId||i.sub,email:i.email,name:i.name,role:i.role}}catch(i){return console.error("Failed to decode token:",i),null}}function r(){if(!mn.value)return!1;try{const i=Mh(mn.value),a=Date.now()/1e3;return i.exp&&i.exp<a?(console.warn("Access token is expired"),!1):!0}catch(i){return console.error("Failed to validate token:",i),!1}}function s(){n(),typeof window<"u"&&(window.location.href=`${Uu}/login`)}return e.value&&r()?Bl.value=o():mn.value&&!r()&&n(),{user:Bl,accessToken:mn,refreshToken:is,isAuthenticated:e,setTokens:t,clearAuth:n,getUserFromToken:o,checkTokenValidity:r,redirectToLogin:s}}const YM={id:"app",class:"h-screen overflow-hidden bg-flow-bg dark:bg-flow-bg-dark text-flow-text dark:text-flow-text-dark font-sans antialiased transition-colors duration-200"},GM={__name:"App",setup(e){const{initTheme:t}=Oy(),{isAuthenticated:n,checkTokenValidity:o,redirectToLogin:r}=WM();function s(){const i=new URLSearchParams(window.location.search),a=i.get("authToken");if(a){localStorage.setItem("accessToken",a),i.delete("authToken");const l=window.location.pathname+(i.toString()?"?"+i.toString():"");window.history.replaceState({},"",l)}}return Et(()=>{t(),s(),(!n.value||!o())&&(console.warn("User is not authenticated or token is invalid, redirecting to login"),r())}),(i,a)=>(V(),B("div",YM,[ce(BM)]))}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const rr=typeof document<"u";function Wy(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ZM(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Wy(e.default)}const rt=Object.assign;function jl(e,t){const n={};for(const o in t){const r=t[o];n[o]=cn(r)?r.map(e):e(r)}return n}const bs=()=>{},cn=Array.isArray,Yy=/#/g,KM=/&/g,XM=/\//g,JM=/=/g,QM=/\?/g,Gy=/\+/g,eD=/%5B/g,tD=/%5D/g,Zy=/%5E/g,nD=/%60/g,Ky=/%7B/g,oD=/%7C/g,Xy=/%7D/g,rD=/%20/g;function qc(e){return encodeURI(""+e).replace(oD,"|").replace(eD,"[").replace(tD,"]")}function sD(e){return qc(e).replace(Ky,"{").replace(Xy,"}").replace(Zy,"^")}function Zu(e){return qc(e).replace(Gy,"%2B").replace(rD,"+").replace(Yy,"%23").replace(KM,"%26").replace(nD,"`").replace(Ky,"{").replace(Xy,"}").replace(Zy,"^")}function iD(e){return Zu(e).replace(JM,"%3D")}function aD(e){return qc(e).replace(Yy,"%23").replace(QM,"%3F")}function lD(e){return e==null?"":aD(e).replace(XM,"%2F")}function Us(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const uD=/\/$/,cD=e=>e.replace(uD,"");function Ul(e,t,n="/"){let o,r={},s="",i="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(o=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),r=e(s)),a>-1&&(o=o||t.slice(0,a),i=t.slice(a,t.length)),o=pD(o??t,n),{fullPath:o+(s&&"?")+s+i,path:o,query:r,hash:Us(i)}}function dD(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Ph(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fD(e,t,n){const o=t.matched.length-1,r=n.matched.length-1;return o>-1&&o===r&&Rr(t.matched[o],n.matched[r])&&Jy(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Rr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Jy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!hD(e[n],t[n]))return!1;return!0}function hD(e,t){return cn(e)?Vh(e,t):cn(t)?Vh(t,e):e===t}function Vh(e,t){return cn(t)?e.length===t.length&&e.every((n,o)=>n===t[o]):e.length===1&&e[0]===t}function pD(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let s=n.length-1,i,a;for(i=0;i<o.length;i++)if(a=o[i],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+o.slice(i).join("/")}const to={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var qs;(function(e){e.pop="pop",e.push="push"})(qs||(qs={}));var xs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(xs||(xs={}));function gD(e){if(!e)if(rr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cD(e)}const mD=/^[^#]+#/;function yD(e,t){return e.replace(mD,"#")+t}function vD(e,t){const n=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-n.left-(t.left||0),top:o.top-n.top-(t.top||0)}}const cl=()=>({left:window.scrollX,top:window.scrollY});function bD(e){let t;if("el"in e){const n=e.el,o=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=vD(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Hh(e,t){return(history.state?history.state.position-t:-1)+e}const Ku=new Map;function xD(e,t){Ku.set(e,t)}function _D(e){const t=Ku.get(e);return Ku.delete(e),t}let wD=()=>location.protocol+"//"+location.host;function Qy(e,t){const{pathname:n,search:o,hash:r}=t,s=e.indexOf("#");if(s>-1){let a=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Ph(l,"")}return Ph(n,e)+o+r}function kD(e,t,n,o){let r=[],s=[],i=null;const a=({state:h})=>{const f=Qy(e,location),p=n.value,v=t.value;let g=0;if(h){if(n.value=f,t.value=h,i&&i===p){i=null;return}g=v?h.position-v.position:0}else o(f);r.forEach(y=>{y(n.value,p,{delta:g,type:qs.pop,direction:g?g>0?xs.forward:xs.back:xs.unknown})})};function l(){i=n.value}function u(h){r.push(h);const f=()=>{const p=r.indexOf(h);p>-1&&r.splice(p,1)};return s.push(f),f}function c(){const{history:h}=window;h.state&&h.replaceState(rt({},h.state,{scroll:cl()}),"")}function d(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function zh(e,t,n,o=!1,r=!1){return{back:e,current:t,forward:n,replaced:o,position:window.history.length,scroll:r?cl():null}}function ED(e){const{history:t,location:n}=window,o={value:Qy(e,n)},r={value:t.state};r.value||s(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:wD()+e+l;try{t[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(f){console.error(f),n[c?"replace":"assign"](h)}}function i(l,u){const c=rt({},t.state,zh(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),o.value=l}function a(l,u){const c=rt({},r.value,t.state,{forward:l,scroll:cl()});s(c.current,c,!0);const d=rt({},zh(o.value,l,null),{position:c.position+1},u);s(l,d,!1),o.value=l}return{location:o,state:r,push:a,replace:i}}function SD(e){e=gD(e);const t=ED(e),n=kD(e,t.state,t.location,t.replace);function o(s,i=!0){i||n.pauseListeners(),history.go(s)}const r=rt({location:"",base:e,go:o,createHref:yD.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function $D(e){return typeof e=="string"||e&&typeof e=="object"}function ev(e){return typeof e=="string"||typeof e=="symbol"}const tv=Symbol("");var Fh;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Fh||(Fh={}));function Mr(e,t){return rt(new Error,{type:e,[tv]:!0},t)}function Pn(e,t){return e instanceof Error&&tv in e&&(t==null||!!(e.type&t))}const Lh="[^/]+?",CD={sensitive:!1,strict:!1,start:!0,end:!0},ND=/[.+*?^${}()[\]/\\]/g;function TD(e,t){const n=rt({},CD,t),o=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(ND,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:v,optional:g,regexp:y}=h;s.push({name:p,repeatable:v,optional:g});const k=y||Lh;if(k!==Lh){f+=10;try{new RegExp(`(${k})`)}catch(O){throw new Error(`Invalid custom RegExp for param "${p}" (${k}): `+O.message)}}let _=v?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;d||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),r+=_,f+=20,g&&(f+=-8),v&&(f+=-20),k===".*"&&(f+=-50)}c.push(f)}o.push(c)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const i=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(i),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=s[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:v,optional:g}=f,y=p in u?u[p]:"";if(cn(y)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const k=cn(y)?y.join("/"):y;if(!k)if(g)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=k}}return c||"/"}return{re:i,score:o,keys:s,parse:a,stringify:l}}function AD(e,t){let n=0;for(;n<e.length&&n<t.length;){const o=t[n]-e[n];if(o)return o;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function nv(e,t){let n=0;const o=e.score,r=t.score;for(;n<o.length&&n<r.length;){const s=AD(o[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-o.length)===1){if(Bh(o))return 1;if(Bh(r))return-1}return r.length-o.length}function Bh(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ID={type:0,value:""},OD=/[a-zA-Z0-9_]/;function RD(e){if(!e)return[[]];if(e==="/")return[[ID]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,o=n;const r=[];let s;function i(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),i()):l===":"?(d(),n=1):h();break;case 4:h(),n=o;break;case 1:l==="("?n=2:OD.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),i(),r}function MD(e,t,n){const o=TD(RD(e.path),n),r=rt(o,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function DD(e,t){const n=[],o=new Map;t=Wh({strict:!1,end:!0,sensitive:!1},t);function r(d){return o.get(d)}function s(d,h,f){const p=!f,v=Uh(d);v.aliasOf=f&&f.record;const g=Wh(t,d),y=[v];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const G of O)y.push(Uh(rt({},v,{components:f?f.record.components:v.components,path:G,aliasOf:f?f.record:v})))}let k,_;for(const O of y){const{path:G}=O;if(h&&G[0]!=="/"){const q=h.record.path,L=q[q.length-1]==="/"?"":"/";O.path=h.record.path+(G&&L+G)}if(k=MD(O,h,g),f?f.alias.push(k):(_=_||k,_!==k&&_.alias.push(k),p&&d.name&&!qh(k)&&i(d.name)),ov(k)&&l(k),v.children){const q=v.children;for(let L=0;L<q.length;L++)s(q[L],k,f&&f.children[L])}f=f||k}return _?()=>{i(_)}:bs}function i(d){if(ev(d)){const h=o.get(d);h&&(o.delete(d),n.splice(n.indexOf(h),1),h.children.forEach(i),h.alias.forEach(i))}else{const h=n.indexOf(d);h>-1&&(n.splice(h,1),d.record.name&&o.delete(d.record.name),d.children.forEach(i),d.alias.forEach(i))}}function a(){return n}function l(d){const h=HD(d,n);n.splice(h,0,d),d.record.name&&!qh(d)&&o.set(d.record.name,d)}function u(d,h){let f,p={},v,g;if("name"in d&&d.name){if(f=o.get(d.name),!f)throw Mr(1,{location:d});g=f.record.name,p=rt(jh(h.params,f.keys.filter(_=>!_.optional).concat(f.parent?f.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),d.params&&jh(d.params,f.keys.map(_=>_.name))),v=f.stringify(p)}else if(d.path!=null)v=d.path,f=n.find(_=>_.re.test(v)),f&&(p=f.parse(v),g=f.record.name);else{if(f=h.name?o.get(h.name):n.find(_=>_.re.test(h.path)),!f)throw Mr(1,{location:d,currentLocation:h});g=f.record.name,p=rt({},h.params,d.params),v=f.stringify(p)}const y=[];let k=f;for(;k;)y.unshift(k.record),k=k.parent;return{name:g,path:v,params:p,matched:y,meta:VD(y)}}e.forEach(d=>s(d));function c(){n.length=0,o.clear()}return{addRoute:s,resolve:u,removeRoute:i,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function jh(e,t){const n={};for(const o of t)o in e&&(n[o]=e[o]);return n}function Uh(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:PD(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function PD(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const o in e.components)t[o]=typeof n=="object"?n[o]:n;return t}function qh(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function VD(e){return e.reduce((t,n)=>rt(t,n.meta),{})}function Wh(e,t){const n={};for(const o in e)n[o]=o in t?t[o]:e[o];return n}function HD(e,t){let n=0,o=t.length;for(;n!==o;){const s=n+o>>1;nv(e,t[s])<0?o=s:n=s+1}const r=zD(e);return r&&(o=t.lastIndexOf(r,o-1)),o}function zD(e){let t=e;for(;t=t.parent;)if(ov(t)&&nv(e,t)===0)return t}function ov({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function FD(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<o.length;++r){const s=o[r].replace(Gy," "),i=s.indexOf("="),a=Us(i<0?s:s.slice(0,i)),l=i<0?null:Us(s.slice(i+1));if(a in t){let u=t[a];cn(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Yh(e){let t="";for(let n in e){const o=e[n];if(n=iD(n),o==null){o!==void 0&&(t+=(t.length?"&":"")+n);continue}(cn(o)?o.map(s=>s&&Zu(s)):[o&&Zu(o)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function LD(e){const t={};for(const n in e){const o=e[n];o!==void 0&&(t[n]=cn(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return t}const BD=Symbol(""),Gh=Symbol(""),dl=Symbol(""),Wc=Symbol(""),Xu=Symbol("");function Kr(){let e=[];function t(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function co(e,t,n,o,r,s=i=>i()){const i=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Mr(4,{from:n,to:t})):h instanceof Error?l(h):$D(h)?l(Mr(2,{from:t,to:h})):(i&&o.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),a())},c=s(()=>e.call(o&&o.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(h=>l(h))})}function ql(e,t,n,o,r=s=>s()){const s=[];for(const i of e)for(const a in i.components){let l=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(Wy(l)){const c=(l.__vccOpts||l)[t];c&&s.push(co(c,n,o,i,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const d=ZM(c)?c.default:c;i.mods[a]=c,i.components[a]=d;const f=(d.__vccOpts||d)[t];return f&&co(f,n,o,i,a,r)()}))}}return s}function Zh(e){const t=Tt(dl),n=Tt(Wc),o=ne(()=>{const l=ge(e.to);return t.resolve(l)}),r=ne(()=>{const{matched:l}=o.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(Rr.bind(null,c));if(h>-1)return h;const f=Kh(l[u-2]);return u>1&&Kh(c)===f&&d[d.length-1].path!==f?d.findIndex(Rr.bind(null,l[u-2])):h}),s=ne(()=>r.value>-1&&YD(n.params,o.value.params)),i=ne(()=>r.value>-1&&r.value===n.matched.length-1&&Jy(n.params,o.value.params));function a(l={}){if(WD(l)){const u=t[ge(e.replace)?"replace":"push"](ge(e.to)).catch(bs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:ne(()=>o.value.href),isActive:s,isExactActive:i,navigate:a}}function jD(e){return e.length===1?e[0]:e}const UD=at({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Zh,setup(e,{slots:t}){const n=Pr(Zh(e)),{options:o}=Tt(dl),r=ne(()=>({[Xh(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Xh(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&jD(t.default(n));return e.custom?s:Qe("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),qD=UD;function WD(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function YD(e,t){for(const n in t){const o=t[n],r=e[n];if(typeof o=="string"){if(o!==r)return!1}else if(!cn(r)||r.length!==o.length||o.some((s,i)=>s!==r[i]))return!1}return!0}function Kh(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Xh=(e,t,n)=>e??t??n,GD=at({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=Tt(Xu),r=ne(()=>e.route||o.value),s=Tt(Gh,0),i=ne(()=>{let u=ge(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=ne(()=>r.value.matched[i.value]);ln(Gh,ne(()=>i.value+1)),ln(BD,a),ln(Xu,r);const l=he();return ze(()=>[l.value,a.value,e.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!Rr(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=a.value,h=d&&d.components[c];if(!h)return Jh(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,g=Qe(h,rt({},p,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return Jh(n.default,{Component:g,route:u})||g}}});function Jh(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ZD=GD;function KD(e){const t=DD(e.routes,e),n=e.parseQuery||FD,o=e.stringifyQuery||Yh,r=e.history,s=Kr(),i=Kr(),a=Kr(),l=pr(to);let u=to;rr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=jl.bind(null,K=>""+K),d=jl.bind(null,lD),h=jl.bind(null,Us);function f(K,ae){let ie,ve;return ev(K)?(ie=t.getRecordMatcher(K),ve=ae):ve=K,t.addRoute(ve,ie)}function p(K){const ae=t.getRecordMatcher(K);ae&&t.removeRoute(ae)}function v(){return t.getRoutes().map(K=>K.record)}function g(K){return!!t.getRecordMatcher(K)}function y(K,ae){if(ae=rt({},ae||l.value),typeof K=="string"){const b=Ul(n,K,ae.path),w=t.resolve({path:b.path},ae),C=r.createHref(b.fullPath);return rt(b,w,{params:h(w.params),hash:Us(b.hash),redirectedFrom:void 0,href:C})}let ie;if(K.path!=null)ie=rt({},K,{path:Ul(n,K.path,ae.path).path});else{const b=rt({},K.params);for(const w in b)b[w]==null&&delete b[w];ie=rt({},K,{params:d(b)}),ae.params=d(ae.params)}const ve=t.resolve(ie,ae),Te=K.hash||"";ve.params=c(h(ve.params));const A=dD(o,rt({},K,{hash:sD(Te),path:ve.path})),R=r.createHref(A);return rt({fullPath:A,hash:Te,query:o===Yh?LD(K.query):K.query||{}},ve,{redirectedFrom:void 0,href:R})}function k(K){return typeof K=="string"?Ul(n,K,l.value.path):rt({},K)}function _(K,ae){if(u!==K)return Mr(8,{from:ae,to:K})}function O(K){return L(K)}function G(K){return O(rt(k(K),{replace:!0}))}function q(K){const ae=K.matched[K.matched.length-1];if(ae&&ae.redirect){const{redirect:ie}=ae;let ve=typeof ie=="function"?ie(K):ie;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=k(ve):{path:ve},ve.params={}),rt({query:K.query,hash:K.hash,params:ve.path!=null?{}:K.params},ve)}}function L(K,ae){const ie=u=y(K),ve=l.value,Te=K.state,A=K.force,R=K.replace===!0,b=q(ie);if(b)return L(rt(k(b),{state:typeof b=="object"?rt({},Te,b.state):Te,force:A,replace:R}),ae||ie);const w=ie;w.redirectedFrom=ae;let C;return!A&&fD(o,ve,ie)&&(C=Mr(16,{to:w,from:ve}),oe(ve,ve,!0,!1)),(C?Promise.resolve(C):W(w,ve)).catch($=>Pn($)?Pn($,2)?$:Z($):P($,w,ve)).then($=>{if($){if(Pn($,2))return L(rt({replace:R},k($.to),{state:typeof $.to=="object"?rt({},Te,$.to.state):Te,force:A}),ae||w)}else $=N(w,ve,!0,R,Te);return z(w,ve,$),$})}function M(K,ae){const ie=_(K,ae);return ie?Promise.reject(ie):Promise.resolve()}function F(K){const ae=le.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(K):K()}function W(K,ae){let ie;const[ve,Te,A]=XD(K,ae);ie=ql(ve.reverse(),"beforeRouteLeave",K,ae);for(const b of ve)b.leaveGuards.forEach(w=>{ie.push(co(w,K,ae))});const R=M.bind(null,K,ae);return ie.push(R),ye(ie).then(()=>{ie=[];for(const b of s.list())ie.push(co(b,K,ae));return ie.push(R),ye(ie)}).then(()=>{ie=ql(Te,"beforeRouteUpdate",K,ae);for(const b of Te)b.updateGuards.forEach(w=>{ie.push(co(w,K,ae))});return ie.push(R),ye(ie)}).then(()=>{ie=[];for(const b of A)if(b.beforeEnter)if(cn(b.beforeEnter))for(const w of b.beforeEnter)ie.push(co(w,K,ae));else ie.push(co(b.beforeEnter,K,ae));return ie.push(R),ye(ie)}).then(()=>(K.matched.forEach(b=>b.enterCallbacks={}),ie=ql(A,"beforeRouteEnter",K,ae,F),ie.push(R),ye(ie))).then(()=>{ie=[];for(const b of i.list())ie.push(co(b,K,ae));return ie.push(R),ye(ie)}).catch(b=>Pn(b,8)?b:Promise.reject(b))}function z(K,ae,ie){a.list().forEach(ve=>F(()=>ve(K,ae,ie)))}function N(K,ae,ie,ve,Te){const A=_(K,ae);if(A)return A;const R=ae===to,b=rr?history.state:{};ie&&(ve||R?r.replace(K.fullPath,rt({scroll:R&&b&&b.scroll},Te)):r.push(K.fullPath,Te)),l.value=K,oe(K,ae,ie,R),Z()}let Y;function m(){Y||(Y=r.listen((K,ae,ie)=>{if(!de.listening)return;const ve=y(K),Te=q(ve);if(Te){L(rt(Te,{replace:!0,force:!0}),ve).catch(bs);return}u=ve;const A=l.value;rr&&xD(Hh(A.fullPath,ie.delta),cl()),W(ve,A).catch(R=>Pn(R,12)?R:Pn(R,2)?(L(rt(k(R.to),{force:!0}),ve).then(b=>{Pn(b,20)&&!ie.delta&&ie.type===qs.pop&&r.go(-1,!1)}).catch(bs),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),P(R,ve,A))).then(R=>{R=R||N(ve,A,!1),R&&(ie.delta&&!Pn(R,8)?r.go(-ie.delta,!1):ie.type===qs.pop&&Pn(R,20)&&r.go(-1,!1)),z(ve,A,R)}).catch(bs)}))}let T=Kr(),S=Kr(),H;function P(K,ae,ie){Z(K);const ve=S.list();return ve.length?ve.forEach(Te=>Te(K,ae,ie)):console.error(K),Promise.reject(K)}function Q(){return H&&l.value!==to?Promise.resolve():new Promise((K,ae)=>{T.add([K,ae])})}function Z(K){return H||(H=!K,m(),T.list().forEach(([ae,ie])=>K?ie(K):ae()),T.reset()),K}function oe(K,ae,ie,ve){const{scrollBehavior:Te}=e;if(!rr||!Te)return Promise.resolve();const A=!ie&&_D(Hh(K.fullPath,0))||(ve||!ie)&&history.state&&history.state.scroll||null;return Bt().then(()=>Te(K,ae,A)).then(R=>R&&bD(R)).catch(R=>P(R,K,ae))}const fe=K=>r.go(K);let X;const le=new Set,de={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:y,options:e,push:O,replace:G,go:fe,back:()=>fe(-1),forward:()=>fe(1),beforeEach:s.add,beforeResolve:i.add,afterEach:a.add,onError:S.add,isReady:Q,install(K){const ae=this;K.component("RouterLink",qD),K.component("RouterView",ZD),K.config.globalProperties.$router=ae,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(l)}),rr&&!X&&l.value===to&&(X=!0,O(r.location).catch(Te=>{}));const ie={};for(const Te in to)Object.defineProperty(ie,Te,{get:()=>l.value[Te],enumerable:!0});K.provide(dl,ae),K.provide(Wc,wp(ie)),K.provide(Xu,l);const ve=K.unmount;le.add(K),K.unmount=function(){le.delete(K),le.size<1&&(u=to,Y&&Y(),Y=null,l.value=to,X=!1,H=!1),ve()}}};function ye(K){return K.reduce((ae,ie)=>ae.then(()=>F(ie)),Promise.resolve())}return de}function XD(e,t){const n=[],o=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let i=0;i<s;i++){const a=t.matched[i];a&&(e.matched.find(u=>Rr(u,a))?o.push(a):n.push(a));const l=e.matched[i];l&&(t.matched.find(u=>Rr(u,l))||r.push(l))}return[n,o,r]}function JD(){return Tt(dl)}function rv(e){return Tt(Wc)}const QD={};function eP(e,t){return null}const tP=At(QD,[["render",eP]]),nP={class:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8"},oP={class:"max-w-4xl mx-auto"},rP={key:0,class:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg flex items-center justify-between"},sP={class:"flex items-center gap-3"},iP={class:"w-10 h-10 bg-green-100 dark:bg-green-800 rounded-full flex items-center justify-center"},aP={class:"text-sm text-green-700 dark:text-green-300"},lP={key:1,class:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700 rounded-lg flex items-center justify-between"},uP={class:"flex items-center gap-3"},cP={class:"w-10 h-10 bg-red-100 dark:bg-red-800 rounded-full flex items-center justify-center"},dP={class:"text-sm text-red-700 dark:text-red-300"},fP={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},hP={class:"space-y-3"},pP={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 hover:border-blue-300 dark:hover:border-blue-600 transition-colors"},gP={class:"flex items-center gap-4"},mP={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},yP=["disabled"],vP={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600 opacity-60"},bP={class:"flex items-center gap-4"},xP={class:"w-12 h-12 bg-green-100 dark:bg-green-900/50 rounded-lg flex items-center justify-center"},_P={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6"},wP={key:0,class:"text-center py-8"},kP={key:1,class:"text-center py-8"},EP={key:2,class:"space-y-3"},SP={class:"flex items-center gap-4"},$P={class:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-lg flex items-center justify-center"},CP={class:"font-medium text-gray-900 dark:text-gray-100"},NP={class:"text-sm text-gray-600 dark:text-gray-400"},TP={class:"flex items-center gap-3 mt-1"},AP={class:"text-xs text-gray-500 dark:text-gray-400"},IP={class:"flex items-center gap-2"},OP=["onClick"],RP=["onClick"],MP={__name:"IntegrationsView",setup(e){const t=rv(),n=JD(),o=Rt(),r=he([]),s=he(!0),i=he(!1),a=he(!1),l=he(""),u=he(!1),c=he("");Et(async()=>{const g=t.query.success,y=t.query.error,k=t.query.email;g==="true"&&(a.value=!0,l.value=k||"Unknown",n.replace({query:{}})),y&&(u.value=!0,c.value=y,n.replace({query:{}})),await d()});const d=async()=>{var g;s.value=!0;try{const y=o.apiConfig.baseUrl||"http://localhost:3001",k=await fetch(`${y}/api/oauth/connections`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("LyntFlow_token")}`}});if(!k.ok)throw new Error("Failed to load connections");const _=await k.json();r.value=((g=_.data)==null?void 0:g.connections)||[]}catch{}finally{s.value=!1}},h=async()=>{i.value=!0;try{const g=o.apiConfig.baseUrl||"http://localhost:3001",y=await fetch(`${g}/api/oauth/google_analytics/authorize`,{headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("LyntFlow_token")}`}});if(!y.ok)throw new Error("Failed to get authorization URL");const k=await y.json();window.location.href=k.data.authUrl}catch(g){u.value=!0,c.value=g.message,i.value=!1}},f=async g=>{var y;try{const k=o.apiConfig.baseUrl||"http://localhost:3001",O=await(await fetch(`${k}/api/oauth/connections/${g}/test`,{method:"POST",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("LyntFlow_token")}`}})).json();O.success?alert(" Connection is working!"):alert(" Connection test failed: "+(((y=O.error)==null?void 0:y.message)||"Unknown error"))}catch(k){alert(" Error: "+k.message)}},p=async g=>{if(confirm("Are you sure you want to disconnect this service?"))try{const y=o.apiConfig.baseUrl||"http://localhost:3001";if(!(await fetch(`${y}/api/oauth/connections/${g}`,{method:"DELETE",headers:{Authorization:`Bearer ${o.apiConfig.token||localStorage.getItem("LyntFlow_token")}`}})).ok)throw new Error("Failed to disconnect");await d()}catch(y){alert(" Error: "+y.message)}},v=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return(g,y)=>(V(),B("div",nP,[x("div",oP,[y[12]||(y[12]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2"},"Integrations"),x("p",{class:"text-gray-600 dark:text-gray-400"},"Connect external services to use in your flows")],-1)),a.value?(V(),B("div",rP,[x("div",sP,[x("div",iP,[ce(Je,{icon:"material-symbols:check-circle",size:24,class:"text-green-600 dark:text-green-400"})]),x("div",null,[y[2]||(y[2]=x("p",{class:"font-medium text-green-900 dark:text-green-100"},"Successfully connected!",-1)),x("p",aP,xe(l.value),1)])]),x("button",{onClick:y[0]||(y[0]=k=>a.value=!1),class:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200"},[ce(Je,{icon:"material-symbols:close",size:20})])])):Ee("",!0),u.value?(V(),B("div",lP,[x("div",uP,[x("div",cP,[ce(Je,{icon:"material-symbols:error",size:24,class:"text-red-600 dark:text-red-400"})]),x("div",null,[y[3]||(y[3]=x("p",{class:"font-medium text-red-900 dark:text-red-100"},"Connection failed",-1)),x("p",dP,xe(c.value),1)])]),x("button",{onClick:y[1]||(y[1]=k=>u.value=!1),class:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200"},[ce(Je,{icon:"material-symbols:close",size:20})])])):Ee("",!0),x("div",fP,[y[7]||(y[7]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Available Integrations",-1)),x("div",hP,[x("div",pP,[x("div",gP,[x("div",mP,[ce(Je,{icon:"logos:google-analytics",size:28})]),y[4]||(y[4]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Analytics"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Connect your Google Analytics properties")],-1))]),x("button",{onClick:h,disabled:i.value,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg font-medium transition-colors flex items-center gap-2"},[ce(Je,{icon:i.value?"material-symbols:hourglass-empty":"material-symbols:link",size:18},null,8,["icon"]),ut(" "+xe(i.value?"Connecting...":"Connect"),1)],8,yP)]),x("div",vP,[x("div",bP,[x("div",xP,[ce(Je,{icon:"logos:google-sheets",size:28})]),y[5]||(y[5]=x("div",null,[x("h3",{class:"font-medium text-gray-900 dark:text-gray-100"},"Google Sheets"),x("p",{class:"text-sm text-gray-600 dark:text-gray-400"},"Coming soon")],-1))]),y[6]||(y[6]=x("button",{disabled:"",class:"px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 rounded-lg font-medium cursor-not-allowed"}," Coming Soon ",-1))])])]),x("div",_P,[y[11]||(y[11]=x("h2",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"},"Your Connections",-1)),s.value?(V(),B("div",wP,[ce(Je,{icon:"material-symbols:hourglass-empty",size:32,class:"text-gray-400 animate-spin mx-auto mb-2"}),y[8]||(y[8]=x("p",{class:"text-gray-500 dark:text-gray-400"},"Loading connections...",-1))])):r.value.length===0?(V(),B("div",kP,[ce(Je,{icon:"material-symbols:cloud-off",size:48,class:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),y[9]||(y[9]=x("p",{class:"text-gray-500 dark:text-gray-400 mb-1"},"No connections yet",-1)),y[10]||(y[10]=x("p",{class:"text-sm text-gray-400 dark:text-gray-500"},"Connect your first service above!",-1))])):(V(),B("div",EP,[(V(!0),B(Pe,null,ct(r.value,k=>(V(),B("div",{key:k._id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600"},[x("div",SP,[x("div",$P,[ce(Je,{icon:"logos:google-analytics",size:28})]),x("div",null,[x("h3",CP,xe(k.name),1),x("p",NP,xe(k.email),1),x("div",TP,[x("span",{class:nt([k.isActive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400","text-xs font-medium flex items-center gap-1"])},[x("span",{class:nt(["w-2 h-2 rounded-full",k.isActive?"bg-green-500":"bg-red-500"])},null,2),ut(" "+xe(k.isActive?"Active":"Inactive"),1)],2),x("span",AP," Expires: "+xe(v(k.expiresAt)),1)])])]),x("div",IP,[x("button",{onClick:_=>f(k._id),class:"px-3 py-1.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200 rounded text-sm font-medium transition-colors"}," Test ",8,OP),x("button",{onClick:_=>p(k._id),class:"px-3 py-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-900/50 text-red-700 dark:text-red-400 rounded text-sm font-medium transition-colors"}," Disconnect ",8,RP)])]))),128))]))])])]))}},DP={class:"connections-view min-h-screen bg-gray-50 dark:bg-gray-900 p-6"},PP={class:"max-w-4xl mx-auto"},VP={key:0,class:"text-center py-12"},HP={key:1,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6"},zP={class:"flex items-center"},FP={class:"text-red-600 dark:text-red-400 text-sm"},LP={class:"flex items-center"},BP={class:"text-2xl mr-3"},jP={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6"},UP={key:0,class:"space-y-3 mb-4"},qP={class:"flex items-center"},WP={class:"font-medium text-gray-900 dark:text-white"},YP={class:"text-xs text-gray-500 dark:text-gray-400"},GP=["onClick","disabled"],ZP={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},KP=["disabled"],XP={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"},JP={key:0,class:"space-y-3 mb-4"},QP={class:"flex items-center"},e5={class:"font-medium text-gray-900 dark:text-white"},t5={class:"text-xs text-gray-500 dark:text-gray-400"},n5=["onClick","disabled"],o5={key:1,class:"text-center py-6 text-gray-500 dark:text-gray-400 text-sm mb-4"},r5=["disabled"],s5={__name:"ConnectionsView",setup(e){const t=Uy(),n=Rt();rv();const o=he(!1),r=he(!1),s=he(""),i=he(!1),a=ne(()=>t.getAnalyticsConnections),l=ne(()=>t.getSheetsConnections),u=async h=>{o.value=!0;try{await t.connectGoogle(h,n.apiConfig)}catch(f){alert(`Erro ao conectar: ${f.message}`)}finally{o.value=!1}},c=async h=>{if(confirm("Tem certeza que deseja desconectar esta conta?")){r.value=!0;try{await t.revokeConnection(h,n.apiConfig),s.value="Conexo removida com sucesso!",i.value=!0,setTimeout(()=>{s.value=""},3e3)}catch(f){alert(`Erro ao desconectar: ${f.message}`)}finally{r.value=!1}}},d=h=>h?new Date(h).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}):"Data desconhecida";return Et(async()=>{const h=new URLSearchParams(window.location.search);if(h.has("success")||h.has("error")){const p=t.handleOAuthCallback(h);s.value=p.message,i.value=p.success,window.history.replaceState({},document.title,window.location.pathname),setTimeout(()=>{s.value=""},5e3),p.success&&await new Promise(v=>setTimeout(v,1e3))}await t.fetchConnections(n.apiConfig)}),(h,f)=>(V(),B("div",DP,[x("div",PP,[f[11]||(f[11]=x("div",{class:"mb-8"},[x("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"}," Conexes Google "),x("p",{class:"text-gray-600 dark:text-gray-400"}," Gerencie suas conexes com Google Analytics e Google Sheets ")],-1)),ge(t).loading?(V(),B("div",VP,[...f[2]||(f[2]=[x("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),x("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"Carregando conexes...",-1)])])):ge(t).error?(V(),B("div",HP,[x("div",zP,[f[4]||(f[4]=x("span",{class:"text-red-600 dark:text-red-400 text-xl mr-3"},"",-1)),x("div",null,[f[3]||(f[3]=x("h3",{class:"text-red-800 dark:text-red-300 font-semibold"},"Erro ao carregar conexes",-1)),x("p",FP,xe(ge(t).error),1)])])])):Ee("",!0),s.value?(V(),B("div",{key:2,class:nt(["mb-6 p-4 rounded-lg",i.value?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"])},[x("div",LP,[x("span",BP,xe(i.value?"":""),1),x("p",{class:nt(i.value?"text-green-800 dark:text-green-300":"text-red-800 dark:text-red-300")},xe(s.value),3)])],2)):Ee("",!0),x("div",jP,[f[7]||(f[7]=yr('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Analytics</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Conecte suas propriedades do GA4</p></div></div></div>',1)),a.value.length>0?(V(),B("div",UP,[(V(!0),B(Pe,null,ct(a.value,p=>{var v;return V(),B("div",{key:p.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",qP,[f[5]||(f[5]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",WP,xe(p.email||p.accountEmail||p.name||`Conexo ${(v=p.id)==null?void 0:v.substring(0,8)}`),1),x("p",YP," Conectado em "+xe(d(p.createdAt||p.createdDate)),1)])]),x("button",{onClick:g=>c(p.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,GP)])}),128))])):(V(),B("div",ZP," Nenhuma conta conectada ")),x("button",{onClick:f[0]||(f[0]=p=>u("analytics")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[f[6]||(f[6]=x("span",{class:"mr-2"},"",-1)),ut(" "+xe(o.value?"Conectando...":"Adicionar conta Google Analytics"),1)],8,KP)]),x("div",XP,[f[10]||(f[10]=yr('<div class="flex items-center justify-between mb-4" data-v-dc90dba2><div class="flex items-center" data-v-dc90dba2><span class="text-3xl mr-3" data-v-dc90dba2></span><div data-v-dc90dba2><h2 class="text-xl font-semibold text-gray-900 dark:text-white" data-v-dc90dba2>Google Sheets</h2><p class="text-sm text-gray-600 dark:text-gray-400" data-v-dc90dba2>Acesse suas planilhas do Google</p></div></div></div>',1)),l.value.length>0?(V(),B("div",JP,[(V(!0),B(Pe,null,ct(l.value,p=>{var v;return V(),B("div",{key:p.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md"},[x("div",QP,[f[8]||(f[8]=x("span",{class:"text-green-500 mr-3"},"",-1)),x("div",null,[x("p",e5,xe(p.email||p.accountEmail||p.name||`Conexo ${(v=p.id)==null?void 0:v.substring(0,8)}`),1),x("p",t5," Conectado em "+xe(d(p.createdAt||p.createdDate)),1)])]),x("button",{onClick:g=>c(p.id),disabled:r.value,class:"px-3 py-1.5 text-sm text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors disabled:opacity-50"}," Desconectar ",8,n5)])}),128))])):(V(),B("div",o5," Nenhuma conta conectada ")),x("button",{onClick:f[1]||(f[1]=p=>u("sheets")),disabled:o.value,class:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-md transition-colors disabled:cursor-not-allowed flex items-center justify-center"},[f[9]||(f[9]=x("span",{class:"mr-2"},"",-1)),ut(" "+xe(o.value?"Conectando...":"Adicionar conta Google Sheets"),1)],8,r5)])])]))}},i5=At(s5,[["__scopeId","data-v-dc90dba2"]]),a5=KD({history:SD("/editor/"),routes:[{path:"/",name:"home",component:tP},{path:"/integrations",name:"integrations",component:MP},{path:"/connections",name:"connections",component:i5}]});async function l5(){try{const{initializeEngine:e}=await Ge(async()=>{const{initializeEngine:n}=await import("./loader-C8YTiaXQ.js");return{initializeEngine:n}},[]),t=await e();if(t.success)return t;throw new Error(t.error)}catch(e){throw e}}async function u5(){try{const e=await l5();if(!e.success)throw new Error(`Engine falhou: ${e.error}`);const t=wb(GM);t.use(Sb()),t.use(a5),t.mount("#app")}catch(e){document.body.innerHTML=`
      <div style="
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        font-family: system-ui, -apple-system, sans-serif;
        background: #0f172a;
        color: #f1f5f9;
        padding: 2rem;
      ">
        <div style="max-width: 600px; text-align: center;">
          <h1 style="font-size: 2rem; margin-bottom: 1rem; color: #ef4444;">
             Falha ao Inicializar
          </h1>
          <p style="font-size: 1rem; margin-bottom: 2rem; color: #94a3b8;">
            No foi possvel carregar o LyntFlow Engine.
          </p>
          <details style="
            text-align: left;
            background: #1e293b;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #334155;
          ">
            <summary style="cursor: pointer; font-weight: 600; color: #f59e0b;">
              Detalhes do erro
            </summary>
            <pre style="
              margin-top: 1rem;
              font-size: 0.875rem;
              color: #e2e8f0;
              white-space: pre-wrap;
            ">${e.message}

${e.stack||""}</pre>
          </details>
          <button
            onclick="location.reload()"
            style="
              margin-top: 2rem;
              padding: 0.75rem 1.5rem;
              background: #3b82f6;
              color: white;
              border: none;
              border-radius: 0.5rem;
              font-size: 1rem;
              cursor: pointer;
              font-weight: 600;
            "
          >
             Tentar Novamente
          </button>
        </div>
      </div>
    `}}u5();export{Ge as _,m5 as a,g5 as b,h5 as c,xa as d,Sr as e,f5 as f,Zo as r,d5 as s,p5 as v};
