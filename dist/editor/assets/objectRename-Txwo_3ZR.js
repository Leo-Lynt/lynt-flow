import{u as d}from"./dataUtils-XrCV_Bny.js";function u({nodeData:e,inputs:r}){let i=d(r.input);if(typeof i!="object"||i===null||Array.isArray(i))throw new Error("Input deve ser um objeto");const n=e.fieldMode||"selector";let t;if(n==="custom")t=e.customField;else{const o=e.selectedField;Array.isArray(o)&&o.length>0?t=o[0]:typeof o=="string"&&(t=o)}const l=e.newName;if(!t)throw new Error("Campo para renomear não selecionado");if(!l)throw new Error("Novo nome não definido");const s={};for(const o in i)if(i.hasOwnProperty(o)){const c=o===t?l:o;s[c]=i[o]}return s}function m(e){const r=[];return(e.fieldMode||"selector")==="custom"?e.customField||r.push("Campo customField obrigatório no modo custom"):(!e.selectedField||Array.isArray(e.selectedField)&&e.selectedField.length===0)&&r.push("Seleção de campo obrigatória"),e.newName||r.push('Campo "newName" obrigatório'),{valid:r.length===0,errors:r}}export{u as execute,m as validate};
