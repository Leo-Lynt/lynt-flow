import{v as l}from"./index-vfrSo85q.js";function u({nodeData:e,inputs:r,context:s}){const i=e.mode||"set",a=e.variableName;if(!a||a.trim()==="")return;if(!/^[a-zA-Z0-9_-]+$/.test(a))throw new Error("Nome de variável deve conter apenas letras, números, _ ou -");const o=s.globalVariables||{};if(i==="set"){const t=r["data-input"];try{l(t)}catch(n){throw new Error(`Valor inseguro para armazenamento: ${n.message}`)}return o[a]=t,t}else return o[a]}function v(e){const r=[];return e.variableName||r.push('Campo "variableName" obrigatório'),(!e.mode||!["set","get"].includes(e.mode))&&r.push('Campo "mode" deve ser "set" ou "get"'),{valid:r.length===0,errors:r}}export{u as execute,v as validate};
