import{u as E,r as m,o as g,a as b,_ as t,c as v,b as y,d as i,t as T,e as c,F as w}from"./index-Bhw8TWSx.js";const D=(p,s,r)=>{const n=p[s];return n?typeof n=="function"?n():Promise.resolve(n):new Promise((u,d)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(d.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})},j={key:0,class:"h-screen flex items-center justify-center bg-flow-bg dark:bg-flow-bg-dark"},O={key:1,class:"h-screen flex items-center justify-center bg-flow-bg dark:bg-flow-bg-dark"},P={class:"text-center max-w-md"},I={class:"text-gray-600 dark:text-gray-400 mb-4"},V={__name:"PlaygroundView",setup(p){const s=b(),r=E(),n=m(!1),u=m(null);g(async()=>{const a=localStorage.getItem("accessToken");a?(r.apiConfig.token=a,console.log("✅ Token do localStorage configurado no playground")):console.warn("⚠️ Nenhum token encontrado no localStorage. Data Connectors podem não funcionar.");const o=s.query.tutorialId||s.query.tutorial;o?await d(o):_()});async function d(a){n.value=!0,u.value=null;try{const o=await D(Object.assign({"../data/tutorials/array-filter.json":()=>t(()=>import("./array-filter-B_SttJ0V.js"),[]),"../data/tutorials/array-map.json":()=>t(()=>import("./array-map-DCxeRP8Q.js"),[]),"../data/tutorials/array-sort.json":()=>t(()=>import("./array-sort-C2jMY-3O.js"),[]),"../data/tutorials/condition-branch.json":()=>t(()=>import("./condition-branch-E_mUW6HS.js"),[]),"../data/tutorials/condition-compare.json":()=>t(()=>import("./condition-compare-J9FH1rtQ.js"),[]),"../data/tutorials/condition-logic.json":()=>t(()=>import("./condition-logic-5FFIWx4w.js"),[]),"../data/tutorials/constant-types.json":()=>t(()=>import("./constant-types-Bvh_ggEQ.js"),[]),"../data/tutorials/data-connector-api.json":()=>t(()=>import("./data-connector-api-BFc0wJ2Y.js"),[]),"../data/tutorials/data-connector-sheets.json":()=>t(()=>import("./data-connector-sheets-DKlqwTz0.js"),[]),"../data/tutorials/divisao-numeros.json":()=>t(()=>import("./divisao-numeros-DmhgWUpW.js"),[]),"../data/tutorials/flow-connections.json":()=>t(()=>import("./flow-connections-DXXT6jI2.js"),[]),"../data/tutorials/flow-dataflow.json":()=>t(()=>import("./flow-dataflow-CiC1miwP.js"),[]),"../data/tutorials/flow-debugging.json":()=>t(()=>import("./flow-debugging-BSoD0dVb.js"),[]),"../data/tutorials/input-api.json":()=>t(()=>import("./input-api-Z6exHZPJ.js"),[]),"../data/tutorials/input-output.json":()=>t(()=>import("./input-output-DY-441jY.js"),[]),"../data/tutorials/input-parameters.json":()=>t(()=>import("./input-parameters-BrkC_o2m.js"),[]),"../data/tutorials/input-types.json":()=>t(()=>import("./input-types-ymsZELgG.js"),[]),"../data/tutorials/multiplicacao-numeros.json":()=>t(()=>import("./multiplicacao-numeros-0fke04WE.js"),[]),"../data/tutorials/output-config.json":()=>t(()=>import("./output-config-BhHm1-64.js"),[]),"../data/tutorials/output-destinations.json":()=>t(()=>import("./output-destinations-ucE1yVbX.js"),[]),"../data/tutorials/output-inputs.json":()=>t(()=>import("./output-inputs-CiJQi8Yg.js"),[]),"../data/tutorials/round-numero.json":()=>t(()=>import("./round-numero-C7nUKsvP.js"),[]),"../data/tutorials/soma-numeros.json":()=>t(()=>import("./soma-numeros-hkgx2gXz.js"),[]),"../data/tutorials/subtracao-numeros.json":()=>t(()=>import("./subtracao-numeros-BfK5-NPE.js"),[]),"../data/tutorials/usecase-calculations.json":()=>t(()=>import("./usecase-calculations-C7OEDLaD.js"),[]),"../data/tutorials/usecase-filtering.json":()=>t(()=>import("./usecase-filtering-DAglRzeZ.js"),[]),"../data/tutorials/usecase-google-sheets.json":()=>t(()=>import("./usecase-google-sheets-CP0YuMQg.js"),[]),"../data/tutorials/variable-get-set.json":()=>t(()=>import("./variable-get-set-6lkSiwWS.js"),[])}),`../data/tutorials/${a}.json`,4),e=o.default||o;if(!e||!e.flow)throw new Error(`Tutorial "${a}" tem formato inválido`);r.nodes=e.flow.nodes||[],r.edges=e.flow.edges||[],e.flow.nodeData&&Object.keys(e.flow.nodeData).forEach(l=>{r.nodeData[l]=e.flow.nodeData[l]}),e.flow.detectedTypes&&Object.keys(e.flow.detectedTypes).forEach(l=>{r.savedDetectedTypes[l]=e.flow.detectedTypes[l]}),e.flow.variables&&Object.keys(e.flow.variables).forEach(l=>{r.globalVariables[l]=e.flow.variables[l]}),console.log(`✅ Tutorial "${e.title}" carregado com sucesso!`)}catch(o){console.error("Erro ao carregar tutorial:",o),u.value=`Tutorial "${a}" não encontrado. Certifique-se de que o arquivo existe em packages/docs/src/data/tutorials/${a}.json`,setTimeout(()=>{console.warn("Carregando exemplo padrão..."),_(),u.value=null},3e3)}finally{n.value=!1}}function _(){r.nodes=[{id:"1",type:"input",position:{x:100,y:150},data:{label:"Número 1",value:5,config:{value:5}}},{id:"2",type:"input",position:{x:100,y:300},data:{label:"Número 2",value:3,config:{value:3}}},{id:"3",type:"math-operation",position:{x:350,y:200},data:{label:"Somar",operation:"add",config:{operation:"add"}}},{id:"4",type:"output",position:{x:600,y:200},data:{label:"Resultado"}}],r.edges=[{id:"e1-3",source:"1",target:"3",sourceHandle:"value",targetHandle:"a"},{id:"e2-3",source:"2",target:"3",sourceHandle:"value",targetHandle:"b"},{id:"e3-4",source:"3",target:"4",sourceHandle:"result",targetHandle:"data"}]}function f(){const a=s.query.tutorialId||s.query.tutorial;a?d(a):_()}return(a,o)=>n.value?(c(),v("div",j,[...o[0]||(o[0]=[i("div",{class:"text-center"},[i("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-purple mx-auto mb-4"}),i("p",{class:"text-gray-600 dark:text-gray-400"},"Carregando tutorial...")],-1)])])):u.value?(c(),v("div",O,[i("div",P,[o[1]||(o[1]=i("div",{class:"text-red-500 mb-4"},[i("svg",{class:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),o[2]||(o[2]=i("h2",{class:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2"},"Erro ao Carregar Tutorial",-1)),i("p",I,T(u.value),1),i("button",{onClick:f,class:"px-4 py-2 bg-brand-purple text-white rounded-lg hover:brightness-110 transition-all"}," Tentar Novamente ")])])):(c(),y(w,{key:2,"demo-mode":!0,"hide-sidebar":!0,"hide-save-button":!0,"hide-minimap":!0,"hide-controls":!0,"allow-delete":!1}))}};export{V as default};
