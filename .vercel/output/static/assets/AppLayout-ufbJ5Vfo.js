var j=(_,x,l)=>new Promise((r,u)=>{var a=c=>{try{m(l.next(c))}catch(b){u(b)}},i=c=>{try{m(l.throw(c))}catch(b){u(b)}},m=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,i);m((l=l.apply(_,x)).next())});import{A as B,r as A,c as z,w as D,H as T,G as E,i as v,b as h,k as e,l as p,u as d,I as g,z as k,q as L,t as y,P as R,h as F,o as N,m as O,F as C,C as P,n as w,j as V,O as q}from"./vue-vendor-BR4PrzJp.js";import{u as H}from"./useAuth-C_Ik1XEG.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{j as M}from"./utils-nSMfNdYQ.js";const G={class:"relative px-4 py-3 lg:pl-4 lg:pr-4"},W={class:"relative border bg-[#ffff] shadow-sm border-white/20 rounded-2xl max-w-full"},J={class:"flex items-center justify-between px-4 sm:px-6 h-14 max-w-full relative"},K={class:"flex items-center space-x-4"},Q={class:"flex items-center space-x-3"},X={class:"w-9 h-9 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center shadow-lg shadow-blue-500/30"},Y={class:"flex items-center"},Z={class:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full flex items-center justify-center shadow-md shadow-blue-500/20"},ee={class:"text-sm font-medium text-white"},te={class:"hidden md:block text-left"},oe={class:"text-sm font-medium text-gray-900"},se={class:"glass-dropdown absolute right-0 mt-2 w-56 backdrop-blur-xl bg-white/70 rounded-2xl shadow-xl border border-white/40 py-2 z-50 overflow-hidden"},ne={class:"px-4 py-3 border-b border-gray-200/30 relative z-10"},le={class:"text-sm font-medium text-gray-900"},re={class:"text-xs text-gray-600 tracking-wide"},ae={__name:"AppHeader",emits:["toggle-sidebar"],setup(_,{emit:x}){const l=x,{user:r,logout:u}=H(),a=B(),i=A(!1),m=A(null),c=z(()=>{var t;if(!((t=r.value)!=null&&t.name))return"U";const n=r.value.name.split(" ");return n.length>1?`${n[0][0]}${n[n.length-1][0]}`:n[0][0]});function b(n){n.stopPropagation(),i.value=!i.value}function I(){a.push("/profile"),i.value=!1}function S(){return j(this,null,function*(){yield u(),i.value=!1})}function f(n){m.value&&!m.value.contains(n.target)&&(i.value=!1)}return D(i,n=>{n?T(()=>{document.addEventListener("click",f)}):document.removeEventListener("click",f)}),E(()=>{document.removeEventListener("click",f)}),(n,t)=>{var s,o,$;return h(),v("header",G,[e("div",W,[t[5]||(t[5]=e("div",{class:"absolute inset-0 -z-10 bg-gradient-to-r from-blue-500/5 to-cyan-500/5 transition-all duration-700 rounded-2xl overflow-hidden"},null,-1)),t[6]||(t[6]=e("div",{class:"absolute inset-0 -z-10 bg-white/70 rounded-2xl overflow-hidden"},null,-1)),e("div",J,[e("div",K,[e("button",{onClick:t[0]||(t[0]=ke=>l("toggle-sidebar")),class:"lg:hidden p-2 rounded-xl hover:bg-white/50 transition-all duration-200"},[p(d(g),{icon:"lucide:menu",class:"w-6 h-6 text-gray-700"})]),e("div",Q,[e("div",X,[p(d(g),{icon:"lucide:workflow",class:"w-5 h-5 text-white"})]),t[1]||(t[1]=e("span",{class:"hidden sm:block text-xl font-light text-gray-900 tracking-wide"},[k(" Lynt "),e("span",{class:"font-normal text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-600"},"Flow")],-1))])]),e("div",Y,[e("div",{class:"relative",ref_key:"dropdownRef",ref:m},[e("button",{onClick:b,class:"flex items-center space-x-2 p-2 rounded-xl hover:bg-white/50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500/30"},[e("div",Z,[e("span",ee,y(c.value),1)]),e("div",te,[e("p",oe,y(((s=d(r))==null?void 0:s.name)||"Usuário"),1)]),p(d(g),{icon:"lucide:chevron-down",class:"w-4 h-4 text-gray-600"})]),L(e("div",se,[t[4]||(t[4]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-cyan-500/5 opacity-50 pointer-events-none"},null,-1)),e("div",ne,[e("p",le,y((o=d(r))==null?void 0:o.name),1),e("p",re,y(($=d(r))==null?void 0:$.email),1)]),e("button",{onClick:I,class:"relative z-10 flex items-center w-full px-4 py-2.5 text-sm text-gray-700 rounded-lg mx-2 hover:bg-white/50 hover:shadow-sm transition-all duration-200"},[p(d(g),{icon:"lucide:user",class:"w-4 h-4 mr-3 text-gray-500"}),t[2]||(t[2]=k(" Perfil ",-1))]),e("button",{onClick:S,class:"relative z-10 flex items-center w-full px-4 py-2.5 text-sm text-gray-700 rounded-lg mx-2 hover:bg-white/50 hover:shadow-sm transition-all duration-200"},[p(d(g),{icon:"lucide:log-out",class:"w-4 h-4 mr-3 text-gray-500"}),t[3]||(t[3]=k(" Sair ",-1))])],512),[[R,i.value]])],512)])])])])}}},ie=U(ae,[["__scopeId","data-v-55719c6d"]]),de={class:"flex justify-end p-4 lg:hidden relative z-10"},ue={class:"flex flex-col h-full relative z-10"},ce={class:"flex-1 px-4 pb-4 space-y-8"},pe={class:"space-y-1"},xe=["onClick"],me={key:0,class:"space-y-1"},fe=["onClick"],ve={class:"space-y-1"},he=["onClick"],ge={__name:"AppSidebar",props:{open:Boolean},emits:["close"],setup(_,{emit:x}){const l=x,r=F(),u=B(),a=A("user");N(()=>{const t=localStorage.getItem("accessToken");if(t)try{const s=M(t);a.value=s.role||"user"}catch(s){a.value="user"}else a.value="user"});const i=[{name:"Painel",icon:"lucide:layout-dashboard",route:"/dashboard",section:"main"},{name:"Fluxos",icon:"lucide:workflow",route:"/flows",section:"main"},{name:"Execuções",icon:"lucide:play-circle",route:"/executions",section:"main"},{name:"Agendamentos",icon:"lucide:calendar-clock",route:"/schedules",section:"main"},{name:"Biblioteca Pública",icon:"lucide:globe",route:"/library",section:"main"},{name:"Perfil",icon:"lucide:user-circle",route:"/profile",section:"others"},{name:"Documentação",icon:"lucide:book-open",route:"/docs",section:"others",external:!0,externalUrl:"http://localhost:5174/docs/"}],m=[{name:"Usuários",icon:"lucide:users",route:"/admin/users",requiredRole:"administrator"},{name:"Moderação",icon:"lucide:shield",route:"/admin/moderation",requiredRole:"moderator"}],c=z(()=>i.filter(t=>t.section==="main")),b=z(()=>i.filter(t=>t.section==="others")),I=z(()=>a.value==="administrator"?m:a.value==="moderator"?m.filter(t=>t.requiredRole==="moderator"):[]),S=z(()=>a.value==="administrator"||a.value==="moderator");function f(t){return r.path===t||r.path.startsWith(t+"/")}function n(t,s=null){if(s&&s.external&&s.externalUrl){window.open(s.externalUrl,"_blank"),l("close");return}u.push(t),l("close")}return(t,s)=>(h(),v(C,null,[L(e("div",{class:"fixed inset-0 bg-gray-900/50 lg:hidden z-40",onClick:s[0]||(s[0]=o=>l("close"))},null,512),[[R,_.open]]),e("div",{class:w(["glass-sidebar fixed top-20 bottom-4 left-4 w-64 backdrop-blur-xl bg-white/70 border border-white/40 rounded-2xl shadow-xl shadow-gray-900/5 z-30 transition-all duration-300 ease-in-out overflow-hidden group","lg:translate-x-0",_.open?"translate-x-0":"-translate-x-full lg:translate-x-0"])},[s[5]||(s[5]=e("div",{class:"absolute inset-0 rounded-2xl bg-gradient-to-br from-blue-500/5 via-transparent to-cyan-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"},null,-1)),s[6]||(s[6]=e("div",{class:"absolute -bottom-10 -right-10 w-32 h-32 bg-gradient-to-br from-blue-500 to-cyan-500 opacity-5 rounded-full blur-2xl group-hover:opacity-10 transition-opacity duration-500 pointer-events-none"},null,-1)),e("div",de,[e("button",{onClick:s[1]||(s[1]=o=>l("close")),class:"p-2 rounded text-gray-600 hover:opacity-70 transition-opacity"},[p(d(g),{icon:"lucide:x",class:"w-5 h-5"})])]),e("div",ue,[e("nav",ce,[e("div",pe,[s[2]||(s[2]=e("div",{class:"text-xs font-medium text-gray-600 uppercase tracking-wider px-3 py-2 mb-2"}," Menu ",-1)),(h(!0),v(C,null,P(c.value,o=>(h(),v("div",{key:o.name},[e("button",{onClick:$=>n(o.route,o),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-300",f(o.route)?"bg-blue-500/10 text-blue-600 shadow-md shadow-blue-500/10":"text-gray-700 hover:bg-white/50 hover:shadow-sm hover:-translate-y-0.5"])},[p(d(g),{icon:o.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-all duration-300",f(o.route)?"text-blue-600 scale-110":"text-gray-500 group-hover:scale-110"])},null,8,["icon","class"]),k(" "+y(o.name),1)],10,xe)]))),128))]),S.value?(h(),v("div",me,[s[3]||(s[3]=e("div",{class:"text-xs font-medium text-cyan-600 uppercase tracking-wider px-3 py-2 mb-2"}," Admin ",-1)),(h(!0),v(C,null,P(I.value,o=>(h(),v("div",{key:o.name},[e("button",{onClick:$=>n(o.route,o),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-300",f(o.route)?"bg-cyan-500/10 text-cyan-600 shadow-md shadow-cyan-500/10":"text-gray-700 hover:bg-white/50 hover:shadow-sm hover:-translate-y-0.5"])},[p(d(g),{icon:o.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-all duration-300",f(o.route)?"text-cyan-600 scale-110":"text-gray-500 group-hover:scale-110"])},null,8,["icon","class"]),k(" "+y(o.name),1)],10,fe)]))),128))])):O("",!0),e("div",ve,[s[4]||(s[4]=e("div",{class:"text-xs font-medium text-gray-600 uppercase tracking-wider px-3 py-2 mb-2"}," Outros ",-1)),(h(!0),v(C,null,P(b.value,o=>(h(),v("div",{key:o.name},[e("button",{onClick:$=>n(o.route,o),class:w(["group flex items-center w-full px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-300",f(o.route)?"bg-blue-500/10 text-blue-600 shadow-md shadow-blue-500/10":"text-gray-700 hover:bg-white/50 hover:shadow-sm hover:-translate-y-0.5"])},[p(d(g),{icon:o.icon,class:w(["w-5 h-5 mr-3 flex-shrink-0 transition-all duration-300",f(o.route)?"text-blue-600 scale-110":"text-gray-500 group-hover:scale-110"])},null,8,["icon","class"]),k(" "+y(o.name),1)],10,he)]))),128))])])])],2)],64))}},be=U(ge,[["__scopeId","data-v-d23fbb4c"]]),we={class:"min-h-screen flex flex-col relative overflow-x-hidden"},ye={class:"flex flex-1 relative overflow-x-hidden"},_e={class:"flex-1 px-4 sm:px-6 lg:px-8 py-8 lg:pl-72 relative z-10 max-w-full"},Se={__name:"AppLayout",setup(_){const x=A(!1);function l(){x.value=!x.value}return(r,u)=>(h(),v("div",we,[u[1]||(u[1]=V('<div class="fixed inset-0 bg-white -z-10"></div><div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none bg-[#f2f7ff]"><div class="absolute top-1/4 right-1/4 w-[500px] h-[500px] bg-blue-300/20 rounded-full blur-3xl"></div><div class="absolute top-1/3 left-1/4 w-[450px] h-[450px] bg-cyan-300/15 rounded-full blur-3xl"></div><div class="absolute bottom-1/4 right-1/3 w-[400px] h-[400px] bg-purple-300/10 rounded-full blur-3xl"></div></div><div class="fixed inset-0 opacity-[0.02] -z-5 pointer-events-none"><div class="absolute inset-0" style="background-image:radial-gradient(circle, #3B82F6 1px, transparent 1px);background-size:40px 40px;"></div></div>',3)),p(ie,{onToggleSidebar:l,class:"fixed top-0 left-0 right-0 z-40"}),e("div",ye,[e("main",_e,[q(r.$slots,"default")]),p(be,{open:x.value,onClose:u[0]||(u[0]=a=>x.value=!1)},null,8,["open"])])]))}};export{Se as _};
